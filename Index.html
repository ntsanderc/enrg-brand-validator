<!-- Google Apps Script compatible version -->
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Purple Scale - Original Brand Guidelines */
      --purple-900: #1E005E;
      --purple-800: #290080;
      --purple-700: #3604A2;
      --purple-600: #4A10C4;
      --purple-500: #6021E6;
      --purple-400: #7534FF;
      --purple-300: #9461FF;
      --purple-200: #B38FFF;
      --purple-100: #D2BDFF;
      --purple-50: #F0EAFE;
      /* Semantic Purple Aliases */
      --purple-deep: var(--purple-900);
      --purple-primary: var(--purple-800); /* Two-purple system: 500 = Hero, 800 = Depth */
      --purple-mid: var(--purple-600);
      --purple-light: var(--purple-300);
      --purple-pale: var(--purple-50);
      /* Accent */
      --orange: #FF6039;
      --orange-light: #FFEDD5;
      --black: #111111;
      --charcoal: #1a1a1a;
      --gray-dark: #374151;
      --gray-mid: #6B7280;
      --gray-light: #E5E7EB;
      --gray-pale: #F9FAFB;
      --white: #FFFFFF;
      --green: #10B981;
      --green-light: #D1FAE5;
      --red: #F43F5E;
      --red-light: #FFE4E6;

      /* Semantic Colors (theme-aware) */
      --color-danger: var(--red);
      --color-danger-bg: var(--red-light);
      --color-danger-border: var(--red);
      --color-success: var(--green);
      --color-success-bg: var(--green-light);
      --color-warning: var(--orange);
      --color-warning-bg: var(--orange-light);

      /* Theme-aware defaults */
      --bg: var(--white);
      --bg-surface: var(--white);
      --bg-elevated: var(--gray-pale);
      --text: var(--black);
      --text-secondary: var(--gray-dark);
      --text-muted: var(--gray-mid);
      --border: var(--gray-light);
      
      /* Typography Scale */
      --text-xs: 12px;
      --text-sm: 13px;
      --text-base: 15px;
      --text-md: 17px;
      --text-lg: 20px;
      --text-xl: 24px;
      
      /* Spacing (8px grid) */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;
      
      /* Border Radii */
      --radius-sm: 4px;
      --radius-md: 6px;
      --radius-lg: 8px;
      --radius-xl: 12px;
      --radius-pill: 100px;
      
      /* Shadows - Semantic tokens for elevation */
      /* Cards - Layered shadows for depth */
      --shadow-card-base: 0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
      --shadow-card-hover: 0 4px 12px rgba(0,0,0,0.1), 0 8px 24px rgba(0,0,0,0.06);

      /* Dropdowns & Menus */
      --shadow-dropdown: 0 8px 24px rgba(0,0,0,0.12);

      /* Modals & Popovers */
      --shadow-popover: 0 4px 20px rgba(0,0,0,0.15);
      --shadow-modal: 0 24px 80px rgba(0,0,0,0.3);

      /* Subtle elements */
      --shadow-xs: 0 1px 2px rgba(0,0,0,0.05);

      /* Legacy (deprecated but kept for backward compatibility) */
      --shadow-sm: var(--shadow-xs);
      --shadow-md: var(--shadow-card-base);
      
      /* Layout Dimensions */
      --header-height: 56px;
      --toolbar-height: 56px;
      --sidebar-width: 200px;
    }

    /* Dark Mode */
    :root[data-theme="dark"] {
      --bg: #0f0f0f;
      --bg-surface: #1a1a1a;
      --bg-elevated: #252525;
      --text: #f0f0f0;
      --text-secondary: #cccccc;
      --text-muted: #888888;
      --border: #333333;
      --gray-pale: #1a1a1a;
      --gray-light: #333333;
      --gray-mid: #888888;
      --gray-dark: #cccccc;
      --black: #f0f0f0;
      --white: #1a1a1a;
      --purple-primary: var(--purple-200); /* Dark mode: Purple 200 (#B38FFF) - softer for extended viewing */
      --purple-pale: #2D1548;
      --purple-light: var(--purple-200);
      --green-light: #064e3b;
      --red-light: #4c1d24;

      /* Semantic Colors - Dark Mode (softer, accessible) */
      --color-danger: #F87171; /* Red 400 - softer than light mode Red 500 */
      --color-danger-bg: #2D1518; /* Very dark red - subtle */
      --color-danger-border: #7C2D3A; /* Muted red border - visible but not harsh */
      --color-success: #34D399; /* Green 400 */
      --color-success-bg: #064e3b;
      --color-warning: #FB923C; /* Orange 400 */
      --color-warning-bg: #431407;

      /* Dark mode shadows - stronger for visibility */
      --shadow-card-base: 0 1px 3px rgba(0,0,0,0.4), 0 4px 12px rgba(0,0,0,0.25);
      --shadow-card-hover: 0 4px 12px rgba(0,0,0,0.5), 0 8px 24px rgba(0,0,0,0.35);
      --shadow-dropdown: 0 8px 24px rgba(0,0,0,0.5);
      --shadow-popover: 0 4px 20px rgba(0,0,0,0.4);
      --shadow-modal: 0 24px 80px rgba(0,0,0,0.6);
      --shadow-xs: 0 1px 2px rgba(0,0,0,0.2);
      --shadow-sm: var(--shadow-xs);
      --shadow-md: var(--shadow-card-base);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      font-weight: 400;
      line-height: 1.6;
      color: var(--text);
      background: var(--bg);
      transition: background 0.3s ease, color 0.3s ease;
    }

    /* Mobile Touch Target Minimums (44×44pt iOS / 48×48dp Android) */
    button, .btn, [role="button"], a.nav-link { min-height: 44px; min-width: 44px; }
    @media (pointer: coarse) { button, .btn, [role="button"] { min-height: 48px; min-width: 48px; } }

    /* Theme Toggle */
    .theme-toggle { width: 44px; height: 44px; border-radius: var(--radius-lg); border: 1px solid var(--border); background: var(--bg-elevated); color: var(--text-muted); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
    .theme-toggle:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .theme-toggle:active { opacity: 0.8; }
    .theme-toggle svg { width: 20px; height: 20px; }
    .theme-toggle .icon-sun { display: none; }
    .theme-toggle .icon-moon { display: block; }
    :root[data-theme="dark"] .theme-toggle .icon-sun { display: block; }
    :root[data-theme="dark"] .theme-toggle .icon-moon { display: none; }

    /* View Mode Toggle - Resource mode hides reviewer-only content */
    :root[data-view-mode="resource"] #roadmap,
    :root[data-view-mode="resource"] #analysis,
    :root[data-view-mode="resource"] .comments-wrapper,
    :root[data-view-mode="resource"] .comment-marker,
    :root[data-view-mode="resource"] .nav-tbd,
    :root[data-view-mode="resource"] a[href="#roadmap"]:not(.nav-tbd),
    :root[data-view-mode="resource"] a[href="#analysis"] {
      display: none !important;
    }

    /* Hide Resources dropdown divider if only TBD items remain */
    :root[data-view-mode="resource"] .nav-dropdown .nav-dropdown-divider:last-of-type {
      display: none !important;
    }

    /* View mode icon toggle */
    :root[data-view-mode="reviewer"] .icon-reviewer { display: block; }
    :root[data-view-mode="reviewer"] .icon-resource { display: none; }
    :root[data-view-mode="resource"] .icon-reviewer { display: none; }
    :root[data-view-mode="resource"] .icon-resource { display: block; }

    h1, h2, h3, h4, h5, h6 { font-weight: 600; line-height: 1.2; }

    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 1rem 2rem;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;
    }
    :root[data-theme="dark"] nav { background: rgba(15, 15, 15, 0.85); border-bottom-color: rgba(255, 255, 255, 0.08); }

    nav.scrolled { padding: 0.75rem 2rem; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15); }

    .nav-inner { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; gap: 1rem; }
    /* Logo wordmark: Uses literal colors (not --black/--white which swap in dark mode) */
    .logo { font-size: 1.5rem; font-weight: 700; color: #111111; letter-spacing: -0.02em; flex-shrink: 0; }
    :root[data-theme="dark"] .logo { color: #FFFFFF; }

    /* Logo dot: Tracks with theme - lighter in dark mode for visibility */
    .logo span { color: var(--orange); }
    :root[data-theme="dark"] .logo span { color: #FFB39E; /* Orange 300 - lighter, more visible */ }
    /* Critical: nav-links must flex-shrink and handle overflow gracefully */
    .nav-links { display: flex; gap: 0.25rem; list-style: none; flex-shrink: 1; min-width: 0; overflow: visible; }
    .nav-right { flex-shrink: 0; display: flex; align-items: center; gap: 0.75rem; }
    .nav-links > li { position: relative; flex-shrink: 0; }
    .nav-links > li > a, .nav-dropdown-trigger { text-decoration: none; color: var(--text-secondary); font-size: 0.875rem; font-weight: 500; transition: color 0.2s ease; white-space: nowrap; padding: 0.5rem 0.75rem; border-radius: var(--radius-md); display: flex; align-items: center; gap: 0.375rem; cursor: pointer; background: none; border: none; font-family: inherit; }
    .nav-links > li > a:hover, .nav-dropdown-trigger:hover { color: var(--purple-primary); background: var(--bg-elevated); }
    .nav-dropdown-trigger svg { width: 12px; height: 12px; transition: transform 0.2s ease; }
    .nav-links > li:hover .nav-dropdown-trigger svg { transform: rotate(180deg); }
    .nav-dropdown { position: absolute; top: 100%; left: 0; min-width: 180px; background: var(--bg-surface); border: none; border-radius: var(--radius-lg); box-shadow: var(--shadow-dropdown); opacity: 0; visibility: hidden; transform: translateY(-4px); transition: all 0.2s ease; z-index: 1003; padding: 0.5rem 0; }
    /* Right-align the last dropdown to prevent off-screen clipping */
    .nav-links > li:last-child .nav-dropdown { left: auto; right: 0; }
    .nav-links > li:hover .nav-dropdown { opacity: 1; visibility: visible; transform: translateY(0); }
    .nav-dropdown a { display: block; padding: 0.75rem 1rem; min-height: 44px; color: var(--text-secondary); text-decoration: none; font-size: 0.8125rem; font-weight: 500; transition: all 0.15s ease; }
    .nav-dropdown a:hover { color: var(--purple-primary); background: var(--bg-elevated); }
    .nav-dropdown a.nav-tbd { color: var(--gray-mid); font-style: italic; opacity: 0.7; }
    .nav-dropdown a.nav-tbd:hover { color: var(--gray-mid); background: var(--bg-elevated); opacity: 1; }
    .nav-dropdown a.nav-tbd::after { content: ' (TBD)'; font-size: 0.625rem; opacity: 0.7; }
    .nav-dropdown-divider { height: 1px; background: var(--border); margin: 0.375rem 0; }

    section { position: relative; padding: 5rem 0; }
    /* Scroll offset for fixed navbar */
    section[id] { scroll-margin-top: 80px; }
    /* Section background variants via data attributes */
    section[data-bg="elevated"] { background: var(--bg-elevated); }
    section[data-bg="surface"] { background: var(--bg-surface); }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
    @media (max-width: 768px) { .container { padding: 0 1.5rem; } }
    @media (max-width: 480px) { .container { padding: 0 1rem; } }

    /* Card component base class */
    .card {
      background: var(--bg-surface);
      border: none;
      border-radius: var(--radius-xl);
      padding: 1.5rem;
      box-shadow: var(--shadow-card-base);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-card-hover);
    }
    /* Card modifiers */
    .card.card--no-padding { padding: 0; overflow: hidden; }
    .card.card--compact { padding: 1.25rem; }

    /* Grid utility system */
    .grid { display: grid; gap: 1.5rem; }

    /* Column variants */
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-5 { grid-template-columns: repeat(5, 1fr); }

    /* Auto-fit variants */
    .grid-auto-280 { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .grid-auto-300 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .grid-auto-340 { grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); }

    /* Gap variants */
    .gap-sm { gap: 1rem; }
    .gap-md { gap: 1.5rem; }
    .gap-lg { gap: 2rem; }
    .gap-xl { gap: 3rem; }

    /* Responsive: all grids collapse to single column on mobile */
    @media (max-width: 768px) {
      .grid-2, .grid-5 { grid-template-columns: 1fr; }
    }

    /* Callout component */
    .callout {
      border-left: 4px solid var(--purple-primary);
      padding: 1rem 1.25rem;
      border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
      background: var(--bg-elevated);
    }
    .callout[data-bg="white"] { background: var(--white); }
    .callout[data-bg="surface"] { background: var(--bg-surface); }

    /* Black Bar Callout - Signature ENRG treatment */
    .callout-block {
      background: #111111;
      color: #FFFFFF;
      padding: 1.5rem 2rem;
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-weight: 600;
      font-size: 1.25rem;
      line-height: 1.4;
      display: inline-block;
      border-radius: var(--radius-md);
    }
    .callout-block.callout-block--full { display: block; }

    /* Testimonial styling */
    .testimonial {
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-weight: 300;
      font-size: 1.5rem;
      font-style: italic;
      line-height: 1.6;
      color: var(--gray-dark);
    }
    .testimonial-attribution {
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-weight: 600;
      font-size: 1rem;
      font-style: normal;
      color: var(--black);
      margin-top: 1rem;
    }

    /* Treatment cards */
    .treatment-card {
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .treatment-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-card-hover);
    }
    .treatment-card-preview {
      aspect-ratio: 16/10;
      background: var(--bg-elevated);
      position: relative;
      overflow: hidden;
      border-bottom: 1px solid var(--border);
    }
    .treatment-card-preview iframe {
      position: absolute;
      top: -60px;
      left: 0;
      width: 100%;
      height: calc(100% + 120px);
      border: none;
      pointer-events: none;
    }
    .treatment-card-preview:hover iframe {
      pointer-events: auto;
    }
    .treatment-card-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .treatment-card-placeholder {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      padding: 2rem;
      color: var(--text-muted);
    }
    .treatment-card-placeholder svg {
      width: 48px;
      height: 48px;
      opacity: 0.4;
    }
    .treatment-card-placeholder span {
      font-size: 0.75rem;
      text-align: center;
    }
    .treatment-card-body {
      padding: 1.25rem;
    }
    .treatment-card-body h4 {
      font-size: 1rem;
      font-weight: 600;
      color: var(--black);
      margin-bottom: 0.375rem;
    }
    .treatment-card-body p {
      font-size: 0.8125rem;
      color: var(--text-muted);
      line-height: 1.5;
      margin: 0;
    }
    .treatment-card-body .treatment-meta {
      font-size: 0.6875rem;
      color: var(--gray-mid);
      margin-top: 0.5rem;
    }

    /* Treatment demo container */
    .treatment-demo {
      padding: 2rem;
      background: var(--bg-surface);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
    }
    .treatment-demo-label {
      font-size: 0.6875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-muted);
      margin-bottom: 1rem;
    }

    .hero {
      position: relative;
      background: var(--white);
      padding-top: 160px;
      padding-bottom: 8rem;
      min-height: 50vh;
      display: flex;
      align-items: center;
      border-bottom: 1px solid var(--border);
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--purple-primary);
    }

    .hero-content { 
      text-align: center; 
      max-width: 700px; 
      margin: 0 auto;
    }

    .hero-label {
      font-size: 0.6875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--purple-primary);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
    }

    .hero-label::before,
    .hero-label::after {
      content: '';
      width: 40px;
      height: 1px;
      background: var(--gray-light);
    }

    .hero h1 { 
      font-size: clamp(2.5rem, 5vw, 3.5rem); 
      font-weight: 700; 
      color: var(--black); 
      margin-bottom: 1.25rem; 
      letter-spacing: -0.03em; 
      line-height: 1.1; 
    }

    .hero p { 
      font-size: 1.125rem; 
      color: var(--gray-dark); 
      max-width: 550px; 
      margin: 0 auto; 
      line-height: 1.7; 
    }

    .section-header { text-align: center; max-width: 800px; margin: 0 auto 3rem; padding: 0 1rem; }
    @media (max-width: 480px) { .section-header { margin-bottom: 2rem; padding: 0; } }
    .section-label { display: inline-block; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.2em; color: white; background: var(--purple-primary); padding: 0.375rem 1rem; border-radius: var(--radius-pill); margin-top: 1rem; margin-bottom: 1rem; }
    @media (max-width: 480px) { .section-label { font-size: 0.6875rem; letter-spacing: 0.15em; padding: 0.3125rem 0.875rem; } }
    .section-title { font-size: clamp(1.75rem, 3vw, 2.5rem); margin-bottom: 1rem; letter-spacing: -0.02em; }
    .section-subtitle { font-size: 1rem; opacity: 0.8; line-height: 1.7; }
    .sheets-link { display: inline-flex; align-items: center; margin-top: 1rem; padding: 0.75rem 0; min-height: 44px; background: transparent; border: none; font-size: 0.8125rem; color: var(--gray-mid); text-decoration: none; transition: all 0.15s ease; gap: 0.375rem; }
    .sheets-link:hover { color: var(--purple-primary); }
    .sheets-link svg { opacity: 0.6; }
    .sheets-link:hover svg { opacity: 1; }

    /* Mobile Native Section */
    .platform-card-header { padding: 1.5rem; border-bottom: 1px solid var(--border); }
    .platform-card-header h3 { font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.25rem; display: flex; align-items: center; gap: 0.75rem; }
    .platform-card-header h3 svg { width: 24px; height: 24px; }
    .platform-card-header p { font-size: 0.8125rem; color: var(--gray-mid); margin: 0; }
    .platform-card-body { padding: 1.5rem; }
    .platform-principle { margin-bottom: 1.25rem; }
    .platform-principle:last-child { margin-bottom: 0; }
    .platform-principle-title { font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.25rem; }
    .platform-principle-text { font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5; }
    .mobile-callout-title { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--black); }
    .mobile-callout-text { font-size: 0.875rem; line-height: 1.6; color: var(--gray-dark); }
    .responsive-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 2rem; }
    @media (max-width: 900px) { .responsive-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 640px) { .responsive-grid { grid-template-columns: repeat(2, 1fr); gap: 0.75rem; } }
    @media (max-width: 500px) { .responsive-grid { grid-template-columns: 1fr; } }
    .responsive-item { background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1rem; text-align: center; }
    .responsive-item strong { display: block; font-size: 0.8125rem; color: var(--black); margin-bottom: 0.25rem; }
    .responsive-item span { font-size: 0.75rem; color: var(--gray-mid); }
    .responsive-item code { background: var(--gray-pale); color: var(--text); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.6875rem; }

    /* Philosophy Section */
    .philosophy-intro { max-width: 700px; margin: 0 auto 3rem; text-align: center; }
    .philosophy-intro p { font-size: 1.125rem; color: var(--gray-dark); line-height: 1.7; }

    /* Standard Card Style: Borderless with Shadow */
    .philosophy-card-title { font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem; }
    .philosophy-card p { font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin: 0; }
    .philosophy-tagline {
      background: linear-gradient(135deg, var(--purple-primary) 0%, #4A1D6A 50%, #2D1040 100%);
      border-radius: var(--radius-xl);
      padding: 3rem 2.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(98, 45, 138, 0.25), inset 0 1px 0 rgba(255,255,255,0.1);
    }
    @media (max-width: 768px) { .philosophy-tagline { padding: 2rem 1.5rem; } }
    @media (max-width: 480px) { .philosophy-tagline { padding: 1.5rem 1rem; } }
    .philosophy-tagline::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.08) 0%, transparent 50%),
                  radial-gradient(ellipse at 70% 80%, rgba(98, 45, 138, 0.3) 0%, transparent 50%);
      pointer-events: none;
    }
    .philosophy-tagline-content { position: relative; z-index: 1; }
    .philosophy-tagline-text {
      font-size: 1.75rem;
      font-weight: 700;
      color: white;
      margin-bottom: 0.75rem;
      letter-spacing: -0.02em;
      line-height: 1.3;
    }
    @media (max-width: 600px) { .philosophy-tagline-text { font-size: 1.375rem; } }
    @media (max-width: 480px) { .philosophy-tagline-text { font-size: 1.25rem; } }
    .philosophy-tagline-text > span { 
      display: inline-block;
    }
    .philosophy-tagline-divider {
      width: 48px;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
      margin: 1rem auto;
    }
    .philosophy-tagline-dot {
      display: inline-block;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--orange);
      margin: 0 1rem;
      vertical-align: middle;
      position: relative;
      top: -2px;
      box-shadow: 0 0 8px rgba(255, 96, 57, 0.5);
    }
    .philosophy-tagline-sub { 
      font-size: 1rem; 
      color: rgba(255,255,255,0.85);
      font-weight: 400;
      letter-spacing: 0.01em;
    }
    .philosophy-principles { margin-top: 3rem; }
    .philosophy-principles-title { font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 1.5rem; text-align: center; }
    .principles-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; max-width: 800px; margin: 0 auto; }
    @media (max-width: 600px) { .principles-grid { grid-template-columns: 1fr; } }
    .principle-item { background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1rem; text-align: center; }
    .principle-item strong { display: block; font-size: 0.875rem; color: var(--purple-primary); margin-bottom: 0.25rem; }
    .principle-item span { font-size: 0.8125rem; color: var(--gray-dark); }

    /* Logo Section */
    .logo-picker { max-width: 700px; margin: 0 auto; }
    .logo-controls { display: grid; grid-template-columns: 1fr 1fr 1.5fr 0.7fr; gap: 1rem; margin-bottom: 2rem; }
    @media (max-width: 768px) { .logo-controls { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 480px) { .logo-controls { grid-template-columns: 1fr; gap: 0.75rem; } }
    .logo-control { display: flex; flex-direction: column; gap: 0.5rem; }
    .logo-control label { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); }
    .logo-control select { padding: 0.75rem 1rem; border: 1px solid var(--gray-light); border-radius: var(--radius-lg); font-size: 0.875rem; font-family: inherit; background: var(--white); color: var(--black); cursor: pointer; }
    .logo-control select:focus { outline: none; border-color: var(--purple-primary); }
    .logo-preview-container { background: var(--gray-pale); border-radius: var(--radius-xl); padding: 2rem; margin-bottom: 1.5rem; position: relative; }
    @media (max-width: 480px) { .logo-preview-container { padding: 1rem; } }
    .logo-preview-bg { display: flex; align-items: center; justify-content: center; min-height: 300px; border-radius: var(--radius-xl); background: var(--gray-pale); border: 1px solid var(--gray-light); transition: background 0.2s ease; }
    .logo-preview-bg.checkerboard { background-color: #fff; background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%), linear-gradient(-45deg, #e0e0e0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e0e0e0 75%), linear-gradient(-45deg, transparent 75%, #e0e0e0 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }
    .logo-loading { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; flex-direction: column; align-items: center; gap: 0.75rem; color: var(--gray-mid); font-size: 0.8125rem; }
    .logo-loading.hidden { display: none; }
    .logo-spinner { width: 32px; height: 32px; border: 3px solid var(--gray-light); border-top-color: var(--purple-primary); border-radius: 50%; animation: spin 0.8s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* Scroll Reveal - Subtle fade-up */
    .reveal {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    }
    .reveal[data-state="visible"] {
      opacity: 1;
      transform: translateY(0);
    }
    /* Stagger children */
    .reveal-stagger > * { 
      opacity: 0; 
      transform: translateY(16px); 
      transition: opacity 0.3s ease-out, transform 0.3s ease-out; 
    }
    .reveal-stagger.visible > *:nth-child(1) { transition-delay: 0ms; opacity: 1; transform: translateY(0); }
    .reveal-stagger.visible > *:nth-child(2) { transition-delay: 50ms; opacity: 1; transform: translateY(0); }
    .reveal-stagger.visible > *:nth-child(3) { transition-delay: 100ms; opacity: 1; transform: translateY(0); }
    .reveal-stagger.visible > *:nth-child(4) { transition-delay: 150ms; opacity: 1; transform: translateY(0); }
    .reveal-stagger.visible > *:nth-child(5) { transition-delay: 200ms; opacity: 1; transform: translateY(0); }
    .reveal-stagger.visible > *:nth-child(n+6) { transition-delay: 250ms; opacity: 1; transform: translateY(0); }
    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .reveal, .reveal-stagger > * { opacity: 1; transform: none; transition: none; }
    }

    .logo-info { text-align: center; }
    .logo-filename { font-family: monospace; font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1rem; background: var(--gray-pale); padding: 0.5rem 1rem; border-radius: var(--radius-md); display: inline-block; }
    .logo-actions { display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; }
    .logo-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.25rem; border-radius: var(--radius-lg); font-size: 0.875rem; font-weight: 500; text-decoration: none; cursor: pointer; transition: all 0.2s ease; }
    .logo-btn-primary { background: var(--purple-primary); color: white; border: none; }
    .logo-btn-primary:hover { background: var(--purple-deep); }
    .logo-btn-secondary { background: var(--white); color: var(--gray-dark); border: 1px solid var(--gray-light); }
    .logo-btn-secondary:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .logo-unavailable { color: var(--gray-mid); font-size: 0.875rem; padding: 3rem; text-align: center; }
    .logo-guidelines { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--gray-light); }
    .logo-guideline { background: var(--gray-pale); border-radius: var(--radius-lg); padding: 1rem; }
    .logo-guideline-title { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem; }
    .logo-guideline-text { font-size: 0.8125rem; color: var(--gray-dark); }

    /* Colors Section */
    .color-reference code { background: var(--gray-pale); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.8125rem; color: var(--text); }


    .color-swatch {
      border-radius: var(--radius-xl);
      overflow: hidden;
      border: 1px solid var(--gray-light);
      cursor: pointer;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
      min-height: 44px;
    }
    .color-swatch:hover { border-color: var(--purple-light); box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
    .color-swatch:active { opacity: 0.9; }

    .color-swatch .swatch-color { height: 80px; position: relative; }
    .color-swatch .swatch-color::after { content: 'Click to copy'; position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); color: white; font-size: 0.6875rem; font-weight: 600; opacity: 0; transition: opacity 0.15s ease; }
    .color-swatch:hover .swatch-color::after { opacity: 1; }
    .color-swatch.copied .swatch-color::after { content: 'Copied!'; background: var(--green); }

    .color-swatch .swatch-info { padding: 0.75rem; background: var(--white); }
    .color-swatch .swatch-name { font-size: 0.8125rem; font-weight: 600; color: var(--black); }
    .color-swatch .swatch-hex { font-size: 0.75rem; color: var(--gray-mid); font-family: monospace; transition: color 0.15s ease; position: relative; }
    .color-swatch:hover .swatch-hex { color: var(--purple-primary); }
    .color-swatch.copied .swatch-hex { color: var(--green); }

    .color-group { margin-bottom: 2rem; }
    .color-group-title { font-size: 1rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--purple-light); }

    /* Color in Context */
    .color-context { margin-top: 3rem; padding-top: 3rem; border-top: 1px solid var(--gray-light); }
    .color-context-title { font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem; }
    .color-context-subtitle { font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 2rem; }
    
    .color-comparison { background: var(--white); border-radius: var(--radius-xl); padding: 1.5rem; margin-bottom: 2rem; border: 1px solid var(--gray-light); }
    .color-comparison-title { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 1rem; }
    .color-comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
    @media (max-width: 600px) { .color-comparison-grid { grid-template-columns: 1fr; } }
    .comparison-item { text-align: center; }
    .comparison-label { font-size: 0.8125rem; font-weight: 600; color: var(--gray-dark); margin-bottom: 0.75rem; }
    .comparison-demo { padding: 1.5rem; background: var(--gray-pale); border-radius: var(--radius-lg); }
    .comparison-note { font-size: 0.75rem; color: var(--gray-mid); margin-top: 0.5rem; }
    
    .demo-btn {
      padding: 0.75rem 1.5rem;
      border-radius: var(--radius-lg);
      font-size: 0.875rem;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      color: white;
    }
    /* Button color variants via data attributes */
    .demo-btn[data-color="900"] { background: var(--purple-900); }
    .demo-btn[data-color="800"] { background: var(--purple-800); }
    .demo-btn[data-color="700"] { background: var(--purple-700); }
    .demo-btn[data-color="600"] { background: var(--purple-600); }
    .demo-btn[data-color="500"] { background: var(--purple-500); }
    .demo-btn[data-color="400"] { background: var(--purple-400); }
    .demo-btn[data-color="primary"] { background: var(--purple-primary); }
    .demo-btn[data-color="mid"] { background: var(--purple-mid); }
    
    .usage-card-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; }
    .usage-color-pip { width: 12px; height: 12px; border-radius: var(--radius-sm); flex-shrink: 0; }
    .usage-card-title { font-size: 0.875rem; font-weight: 600; color: var(--black); }
    .usage-card-var { font-size: 0.75rem; color: var(--gray-mid); font-family: monospace; }
    .usage-demo-area { background: var(--gray-pale); border-radius: var(--radius-lg); padding: 1rem; margin-bottom: 0.75rem; min-height: 60px; display: flex; align-items: center; justify-content: center; }
    .usage-description { font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5; }
    .usage-examples { margin-top: 0.5rem; font-size: 0.75rem; color: var(--gray-mid); }
    .usage-contrast { display: inline-flex; align-items: center; gap: 0.375rem; margin-top: 0.5rem; padding: 0.25rem 0.5rem; background: var(--green-light); border-radius: var(--radius-sm); font-size: 0.6875rem; font-weight: 600; color: var(--green); }
    .usage-contrast svg { width: 12px; height: 12px; }
    
    .demo-badge { display: inline-block; padding: 0.25rem 0.625rem; border-radius: var(--radius-sm); font-size: 0.75rem; font-weight: 600; }
    .demo-text { font-size: 0.875rem; font-weight: 500; }
    .demo-card { background: var(--white); border-radius: var(--radius-lg); padding: 0.75rem 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .demo-nav-item { padding: 0.5rem 1rem; border-radius: var(--radius-md); font-size: 0.8125rem; font-weight: 500; }

    /* Typography Section */
    .font-card-title { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.75rem; }
    .font-name { font-size: 1.5rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem; }
    .font-use { font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 0.5rem; }
    .font-weights { font-size: 0.75rem; color: var(--gray-mid); font-family: monospace; margin-bottom: 1rem; }
    .font-download { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.8125rem; font-weight: 500; color: var(--gray-dark); text-decoration: none; transition: all 0.2s ease; }
    .font-download:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .font-download svg { flex-shrink: 0; }

    .dual-type-scale { display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; margin-top: 2rem; }
    @media (max-width: 768px) { .dual-type-scale { grid-template-columns: 1fr; } }
    .type-scale-column { background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; }
    .type-scale-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid var(--purple-light); }
    .type-scale-font { font-size: 1.125rem; font-weight: 600; color: var(--black); }
    .type-scale-badge { font-size: 0.625rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm); background: transparent; border: 1px solid var(--border); color: var(--text-secondary); transition: all 0.15s ease; }
    .type-scale-badge:hover { border-color: var(--purple-primary); color: var(--purple-primary); }

    .type-scale { max-width: 100%; }

    .type-sample {
      display: flex;
      align-items: baseline;
      gap: 2rem;
      padding: 1rem 0;
      border-bottom: 1px solid var(--gray-light);
    }

    .type-sample:last-child { border-bottom: none; }

    .type-label { width: 80px; font-size: 0.75rem; font-weight: 600; color: var(--gray-mid); text-transform: uppercase; letter-spacing: 0.05em; }
    .type-text { flex: 1; color: var(--black); }
    .type-meta { font-size: 0.75rem; color: var(--gray-mid); font-family: monospace; }

    /* Spacing Section */
    .spacing-grid { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; align-items: flex-end; }

    .spacing-item { text-align: center; }
    .spacing-box { background: var(--purple-primary); border-radius: var(--radius-sm); margin-bottom: 0.5rem; }
    .spacing-label { font-size: 0.75rem; font-weight: 600; color: var(--gray-dark); }
    .spacing-value { font-size: 0.6875rem; color: var(--gray-mid); font-family: monospace; }

    .spacing-patterns-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
    @media (max-width: 768px) { .spacing-patterns-grid { grid-template-columns: 1fr; } }

    /* Content Card Hover State - subtle lift with enhanced shadow */
    .content-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-card-hover);
    }

    /* Effects Section (Border Radii & Shadows) */
    .effects-group { background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; }
    .effects-group-title { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 1.5rem; }
    
    .radii-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 1.5rem; }
    @media (max-width: 900px) { .radii-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 600px) { .radii-grid { grid-template-columns: repeat(2, 1fr); } }
    .radius-item { text-align: center; }
    .radius-box { width: 60px; height: 60px; background: var(--purple-primary); margin-bottom: 0.5rem; }
    .radius-label { font-size: 0.75rem; font-weight: 600; color: var(--gray-dark); }
    .radius-value { font-size: 0.6875rem; color: var(--gray-mid); font-family: monospace; }
    .radius-use { font-size: 0.625rem; color: var(--gray-mid); margin-top: 0.25rem; }
    
    .shadows-grid { display: flex; flex-direction: column; gap: 1rem; }
    .shadow-item { display: flex; align-items: center; gap: 1rem; }
    .shadow-box { width: 80px; height: 50px; background: var(--white); border-radius: var(--radius-lg); flex-shrink: 0; }
    .shadow-info { flex: 1; }
    .shadow-label { font-size: 0.875rem; font-weight: 600; color: var(--gray-dark); }
    .shadow-use { font-size: 0.75rem; color: var(--gray-mid); }
    .shadow-value { font-size: 0.6875rem; color: var(--gray-mid); font-family: monospace; margin-top: 0.25rem; }

    /* Iconography Section */
    .icon-card-title { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem; }
    .icon-card-name { font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem; }
    .icon-card-desc { font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 0.5rem; }
    .icon-card-source { font-size: 0.75rem; color: var(--gray-mid); font-family: monospace; }
    .icon-card-examples { font-size: 0.875rem; color: var(--gray-dark); }
    .icon-card-warning { border-left: 4px solid var(--color-danger-border); }
    .icon-card-warning .icon-card-title { color: var(--red); }

    /* Voice Section */
    .voice-card-title { font-size: 1rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 1rem; }

    .voice-example { margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border); }
    .voice-example:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }

    .voice-do { color: var(--green); font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.25rem; }
    .voice-dont { color: var(--red); font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.25rem; }
    .voice-text { font-size: 0.875rem; color: var(--gray-dark); }

    /* Anti-patterns Section */
    .antipattern-list { max-width: 700px; margin: 0 auto; }

    .antipattern-item {
      display: flex;
      gap: 1rem;
      padding: 1rem;
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      margin-bottom: 0.75rem;
      border-left: 4px solid var(--color-danger-border);
    }

    .antipattern-icon { width: 24px; height: 24px; color: var(--red); flex-shrink: 0; }
    .antipattern-content { flex: 1; }
    .antipattern-title { font-size: 0.9375rem; font-weight: 600; color: var(--black); margin-bottom: 0.25rem; }
    .antipattern-desc { font-size: 0.8125rem; color: var(--gray-mid); }

    /* Footer */
    footer { padding: 3rem 0; background: #111111; color: #f0f0f0; text-align: center; }
    .footer-logo { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
    .footer-logo span { color: var(--orange); }
    footer p { font-size: 0.875rem; color: rgba(255, 255, 255, 0.5); }
    footer a { color: var(--purple-light); text-decoration: none; transition: color 0.2s ease; }
    footer a:hover { color: var(--purple-pale); text-decoration: underline; }

    /* Help Icon */
    .help-icon { width: 32px; height: 32px; padding: 0; border: 1px solid var(--gray-light); background: var(--white); border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; }
    .help-icon:hover { border-color: var(--purple-primary); background: var(--bg-elevated); }
    .help-icon svg { width: 16px; height: 16px; color: var(--gray-mid); transition: color 0.2s ease; }
    .help-icon:hover svg { color: var(--purple-primary); }

    /* Intermediate: Hide search box when space is tight (but keep navigation) */
    @media (max-width: 1300px) {
      .search-wrapper { display: none !important; }
    }

    /* Structural safeguard: Hide nav-links when there isn't enough space
       With "More" menu consolidation, we now have 5 top-level items (Foundation, Brand Essentials, Design System, More, Resources)
       Calculation without search: Logo (150px) + Nav items (~550px for 5 items) + Comments/overflow (150px) + Padding (64px) + Safety (100px)
       Total: ~1014px minimum needed. Using 1100px breakpoint for safety. */
    @media (max-width: 1100px) {
      .nav-links { display: none !important; }
    }

    /* Overflow menu scales elegantly: can add unlimited items to "More" dropdown without affecting header layout */
    
    @media (max-width: 1100px) {
      nav { padding: 0.75rem 1rem; }
      .user-badge span:not(.avatar) { display: none; }
      .user-badge { padding: 0.25rem; }
      .comment-toggle .kbd-hint { display: none; }
    }
    
    /* Breakpoint: Compact for tablets */
    @media (max-width: 768px) {
      .user-badge { display: none !important; }
      .comment-toggle span:not(.count) { display: none; }
    }
    
    /* Breakpoint: Mobile */
    @media (max-width: 480px) {
      nav { padding: 0.5rem 0.75rem; }
      .logo { font-size: 1.25rem; }
      .nav-right { gap: 0.5rem; }
      .comments-dropdown { width: calc(100vw - 32px); right: 16px; max-height: 70vh; }
      .comments-dropdown-header { padding: 0.75rem; }
      .comments-dropdown-item { padding: 0.75rem; }
      .comments-dropdown-footer { padding: 0.625rem 0.75rem; }

      /* Reduce section padding on mobile */
      section { padding: 2rem 0; }
    }

    /* Breakpoint: Tablet - intermediate padding reduction */
    @media (max-width: 768px) and (min-width: 481px) {
      section { padding: 3rem 0; }
    }

    /* Splash modal mobile */
    @media (max-width: 600px) {
      .splash-modal { width: 95%; max-height: 90vh; border-radius: var(--radius-xl); }
      .splash-header { padding: 1.5rem; }
      .splash-header h1 { font-size: 1.25rem; }
      .splash-body { padding: 1.5rem; }
      .splash-section { margin-bottom: 1.25rem; }
      .splash-section p { font-size: 0.875rem; }
      .splash-tip { font-size: 0.8125rem; padding: 0.625rem 0.875rem; }
      .splash-footer { padding: 1rem 1.5rem; }
      .splash-btn { padding: 0.75rem 1.5rem; font-size: 0.9375rem; width: 100%; }
    }

    /* Onboarding Splash */
    .splash-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      transition: opacity 0.3s ease;
    }
    .splash-overlay.hidden { opacity: 0; pointer-events: none; }
    .splash-modal {
      background: var(--bg-surface);
      border: none;
      border-radius: var(--radius-xl);
      max-width: 580px;
      width: 90%;
      max-height: 85vh;
      overflow: hidden;
      box-shadow: 0 25px 80px -12px rgba(0, 0, 0, 0.4), 0 8px 32px rgba(98, 45, 138, 0.15);
      transform: translateY(0);
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
    }
    .splash-overlay.hidden .splash-modal { transform: translateY(20px); }
    .splash-header {
      background: linear-gradient(135deg, var(--purple-primary) 0%, #4A1D6A 50%, #2D1040 100%);
      color: white;
      padding: 2.5rem 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      flex-shrink: 0;
    }
    .splash-header::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 60%;
      height: 200%;
      background: radial-gradient(ellipse, rgba(255,255,255,0.08) 0%, transparent 70%);
      pointer-events: none;
    }
    .splash-header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    }
    .splash-header h1 { font-size: 1.75rem; font-weight: 700; margin-bottom: 0.625rem; letter-spacing: -0.02em; position: relative; }
    .splash-header p { font-size: 0.9375rem; opacity: 0.85; font-weight: 400; position: relative; }
    .splash-body { padding: 2rem; flex: 1; overflow-y: auto; min-height: 0; }
    .splash-section { margin-bottom: 1.75rem; }
    .splash-section:last-child { margin-bottom: 0; }
    .splash-section h2 {
      font-size: 0.6875rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--purple-primary);
      margin-bottom: 0.625rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .splash-section h2::before {
      content: '';
      width: 3px;
      height: 12px;
      background: var(--purple-primary);
      border-radius: var(--radius-sm);
    }
    .splash-section p {
      font-size: 0.9375rem;
      color: var(--gray-dark);
      line-height: 1.65;
    }
    .splash-section p code {
      background: var(--purple-pale);
      color: var(--purple-primary);
      padding: 0.125rem 0.375rem;
      border-radius: var(--radius-sm);
      font-size: 0.8125rem;
      font-weight: 500;
    }
    .splash-tip {
      background: var(--bg-elevated);
      border-left: 3px solid var(--orange);
      padding: 0.875rem 1rem;
      border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
      font-size: 0.875rem;
      color: var(--gray-dark);
      line-height: 1.5;
    }
    .splash-tip strong { color: var(--black); }
    .splash-footer {
      padding: 1.5rem 2rem;
      background: var(--bg-elevated);
      display: flex;
      justify-content: center;
      flex-shrink: 0;
    }
    .splash-btn {
      background: linear-gradient(135deg, var(--purple-primary) 0%, #4A1D6A 100%);
      color: white;
      border: none;
      padding: 1rem 3rem;
      border-radius: var(--radius-lg);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 4px 12px rgba(98, 45, 138, 0.3);
    }
    .splash-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(98, 45, 138, 0.4); }

    /* Comment System Styles */
    .user-badge { display: flex; align-items: center; gap: 0.5rem; padding: 0.375rem 0.75rem; background: transparent; border: 1px solid var(--border); border-radius: var(--radius-pill); font-size: 0.75rem; font-weight: 500; color: var(--text-secondary); transition: all 0.15s ease; }
    .user-badge:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .user-badge .avatar { width: 24px; height: 24px; background: var(--purple-primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.625rem; font-weight: 600; }
    .comment-toggle { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--gray-light); border-radius: var(--radius-lg); font-size: 0.8125rem; font-weight: 500; color: var(--gray-dark); cursor: pointer; transition: all 0.2s ease; margin-left: 1rem; }
    .comment-toggle:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .comment-toggle[data-state="active"] { background: var(--purple-primary); border-color: var(--purple-primary); color: white; }
    .comment-toggle .count { background: var(--orange-light); color: var(--orange); padding: 0.125rem 0.5rem; border-radius: var(--radius-pill); font-size: 0.6875rem; font-weight: 600; }
    .comment-toggle[data-state="active"] .count { background: rgba(255, 255, 255, 0.3); color: white; }
    .comment-toggle .kbd-hint { background: var(--gray-pale); border: 1px solid var(--gray-light); border-radius: var(--radius-sm); padding: 0.0625rem 0.375rem; font-size: 0.625rem; font-weight: 600; color: var(--gray-mid); margin-left: 0.25rem; }
    .comment-toggle[data-state="active"] .kbd-hint { background: rgba(255, 255, 255, 0.2); border-color: rgba(255, 255, 255, 0.3); color: rgba(255, 255, 255, 0.8); }
    .comment-pin { position: absolute; width: 28px; height: 28px; background: var(--orange); border: 2px solid white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 50; box-shadow: 0 2px 8px rgba(255, 96, 57, 0.4); transition: all 0.2s ease; transform: translate(-50%, -50%); }
    .comment-pin:hover { transform: translate(-50%, -50%); box-shadow: 0 3px 12px rgba(255, 96, 57, 0.5); }
    .comment-pin[data-resolved="true"] { background: var(--gray-mid); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); }
    .comment-pin svg { width: 14px; height: 14px; color: white; }
    /* Comment Popup - Social media inspired, matching panel design */
    .comment-popup { position: absolute; width: 300px; background: var(--bg-surface); border: none; border-radius: var(--radius-lg); box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15); z-index: 100; animation: popIn 0.2s ease; max-width: calc(100vw - 32px); }
    @media (max-width: 375px) { .comment-popup { width: calc(100vw - 32px); max-width: none; } }
    @keyframes popIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }
    .comment-popup-inner { display: flex; gap: 0.5rem; padding: 0.75rem; position: relative; }

    /* ========== UNIFIED COMMENT COMPONENTS (Portable across projects) ========== */
    /* Avatar component - used in popup, panel, inline contexts */
    .comment-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--purple-100);
      color: var(--purple-800);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      flex-shrink: 0;
      text-transform: uppercase;
    }
    .comment-avatar[data-resolved="true"] { background: var(--gray-pale); color: var(--gray-mid); }

    /* Typography components */
    .comment-author {
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text);
    }

    .comment-time {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .comment-body {
      font-size: 0.875rem;
      color: var(--text-secondary);
      line-height: 1.5;
      word-wrap: break-word;
    }

    /* Empty state component */
    .comment-empty-state {
      text-align: center;
      padding: 3rem 1.5rem;
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    /* Input field component */
    .comment-input {
      width: 100%;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 0.75rem;
      font-size: 0.875rem;
      resize: vertical;
      min-height: 80px;
      font-family: inherit;
      background: var(--bg-surface);
      color: var(--text);
      transition: border-color 0.15s ease;
    }

    .comment-input:focus {
      outline: none;
      border-color: var(--purple-primary);
      box-shadow: 0 0 0 3px var(--purple-pale);
    }

    .comment-input::placeholder {
      color: var(--gray-mid);
    }

    .comment-input-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    /* Reply structure (works in both panel and popup) */
    .comment-replies {
      margin-top: 0.75rem;
      padding-left: 2.5rem;
    }

    .comment-reply {
      position: relative;
      display: flex;
      gap: 0.75rem;
      padding: 0.75rem;
      background: var(--bg-elevated);
      border-radius: var(--radius-lg);
      margin-bottom: 0.5rem;
    }

    .comment-reply-header {
      display: flex;
      align-items: baseline;
      gap: 0.25rem;
      margin-bottom: 0.25rem;
    }

    .comment-reply-content {
      flex: 1;
      min-width: 0;
      padding-right: 2rem;
    }

    /* Overflow menu positioning within replies */
    .comments-panel-item .comment-reply .overflow-menu {
      position: absolute;
      right: 0.25rem;
      top: 0.25rem;
    }
    /* ========== END UNIFIED COMPONENTS ========== */

    .comment-popup-avatar { width: 28px; height: 28px; border-radius: 50%; background: var(--purple-pale); color: var(--purple-primary); display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; }
    .comment-popup-avatar[data-resolved="true"] { background: var(--gray-pale); color: var(--gray-mid); }
    .comment-popup-content { flex: 1; min-width: 0; }
    .comment-popup-header { display: flex; align-items: baseline; gap: 0.25rem; line-height: 1.3; margin-bottom: 0.25rem; }
    .comment-popup-author { font-size: 0.8125rem; font-weight: 600; color: var(--text); }
    .comment-popup-dot { color: var(--gray-mid); font-size: 0.75rem; }
    .comment-popup-time { font-size: 0.6875rem; color: var(--gray-mid); }
    .comment-popup-text { font-size: 0.8125rem; color: var(--text); line-height: 1.4; margin: 0; word-wrap: break-word; }
    .comment-popup .overflow-menu { position: absolute; right: 0.5rem; top: 0.5rem; }
    .comment-popup .overflow-trigger { opacity: 1; }
    .comment-popup-reply { position: relative; }
    .comment-popup-reply .overflow-menu { position: absolute; right: 0; top: 0.25rem; }
    .comment-popup-reply .overflow-trigger { opacity: 0; }
    .comment-popup-reply:hover .overflow-trigger { opacity: 1; }
    /* Replies in popup */
    .comment-popup-replies { margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid var(--gray-light); }
    .comment-popup-reply { display: flex; gap: 0.375rem; padding: 0.375rem 0; }
    .comment-popup-reply-avatar { width: 20px; height: 20px; border-radius: 50%; background: var(--gray-pale); color: var(--gray-mid); display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 0.5rem; font-weight: 600; text-transform: uppercase; }
    .comment-popup-reply-content { flex: 1; min-width: 0; }
    .comment-popup-reply-header { display: flex; align-items: baseline; gap: 0.25rem; line-height: 1.2; }
    .comment-popup-reply-author { font-size: 0.75rem; font-weight: 600; color: var(--text); }
    .comment-popup-reply-time { font-size: 0.625rem; color: var(--gray-mid); }
    .comment-popup-reply-text { font-size: 0.75rem; color: var(--text); line-height: 1.3; margin-top: 0.125rem; }
    /* Reply input in popup */
    .comment-popup-reply-input { margin-top: 0.5rem; position: relative; display: flex; align-items: center; }
    .comment-popup-reply-input textarea { flex: 1; min-height: 28px; padding: 0.375rem 1.75rem 0.375rem 0.5rem; border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem; font-family: inherit; resize: none; background: var(--bg-elevated); color: var(--text); }
    .comment-popup-reply-input textarea:focus { outline: none; border-color: var(--purple-primary); }
    .comment-popup-reply-btn { position: absolute; right: 0.25rem; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; border: none; background: transparent; color: var(--gray-mid); cursor: pointer; display: flex; align-items: center; justify-content: center; border-radius: 50%; padding: 0; outline: none; }
    .comment-popup-reply-btn:hover { color: var(--gray-dark); }
    .comment-popup-reply-btn:focus { outline: none; }
    .comment-popup-reply-btn svg { width: 12px; height: 12px; }
    /* Dropdown button icons */
    .comment-popup .overflow-dropdown button { display: flex; align-items: center; gap: 0.5rem; }
    .comment-popup .overflow-dropdown button svg { width: 14px; height: 14px; flex-shrink: 0; }
    /* Hidden actions container for edit mode */
    #commentActions:empty { display: none; }
    #commentActions { padding: 0.5rem 0.75rem; font-size: 0.6875rem; color: var(--gray-mid); text-align: center; }
    .comment-edit-textarea { width: 100%; min-height: 40px; padding: 0.375rem 0.5rem; border: 1px solid var(--purple-primary); border-radius: var(--radius-md); font-size: 0.8125rem; font-family: inherit; resize: none; line-height: 1.4; background: var(--bg-elevated); color: var(--text); }
    .comment-edit-textarea:focus { outline: none; border-color: var(--purple-primary); }
    .reply-edit-textarea { width: 100%; min-height: 40px; padding: 0.375rem; border: 1px solid var(--purple-primary); border-radius: var(--radius-sm); font-size: 0.8125rem; font-family: inherit; resize: none; margin-top: 0.25rem; }
    .reply-edit-actions { display: flex; gap: 0.25rem; margin-top: 0.25rem; justify-content: flex-end; }
    .reply-edit-actions button { padding: 0.25rem 0.5rem; border-radius: var(--radius-sm); font-size: 0.625rem; font-weight: 500; cursor: pointer; border: none; }
    .reply-input-area { margin-top: 0.75rem; }
    .reply-input-area textarea { width: 100%; min-height: 50px; padding: 0.5rem; border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.8125rem; font-family: inherit; resize: none; }
    .reply-input-area textarea:focus { outline: none; border-color: var(--purple-primary); }
    .reply-input-actions { display: flex; gap: 0.375rem; margin-top: 0.375rem; justify-content: flex-end; }
    .reply-input-actions button { padding: 0.375rem 0.75rem; border-radius: var(--radius-sm); font-size: 0.6875rem; font-weight: 500; cursor: pointer; }
    /* Inline comment input popover (Miro-style) */
    .comment-input-popover { position: absolute; width: 260px; background: var(--bg-surface); border: none; border-radius: var(--radius-lg); box-shadow: var(--shadow-popover); z-index: 1000; animation: popoverIn 0.15s ease; overflow: hidden; }
    @keyframes popoverIn { from { opacity: 0; transform: translateY(-4px); } to { opacity: 1; transform: translateY(0); } }
    .comment-input-popover textarea { width: 100%; min-height: 80px; padding: 0.875rem; border: none; font-size: 0.875rem; font-family: inherit; resize: none; background: transparent; }
    .comment-input-popover textarea:focus { outline: none; }
    .comment-input-popover textarea::placeholder { color: var(--gray-mid); }
    .comment-input-footer { padding: 0.5rem 0.875rem; background: var(--gray-pale); border-top: 1px solid var(--gray-light); display: flex; justify-content: space-between; align-items: center; }
    .comment-input-hint { font-size: 0.6875rem; color: var(--gray-mid); }
    .comment-input-hint kbd { background: var(--white); border: 1px solid var(--gray-light); border-radius: var(--radius-sm); padding: 0.125rem 0.375rem; font-family: inherit; font-size: 0.625rem; }
    body.comment-mode { cursor: crosshair; }
    body.comment-mode section { cursor: crosshair; }
    .comment-hint { position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%); background: var(--purple-primary); color: white; padding: 0.5rem 1rem; border-radius: var(--radius-pill); font-size: 0.8125rem; font-weight: 500; box-shadow: 0 4px 16px rgba(45, 21, 72, 0.3); z-index: 100; display: none; align-items: center; gap: 0.5rem; }
    .comment-hint kbd { background: rgba(255,255,255,0.2); border-radius: var(--radius-sm); padding: 0.125rem 0.375rem; font-family: inherit; font-size: 0.6875rem; }
    .hint-mobile { display: none; }
    .hint-cancel-btn { display: none; background: rgba(255,255,255,0.25); border: none; border-radius: var(--radius-md); padding: 0.375rem 0.75rem; cursor: pointer; margin-left: 0.75rem; color: white; font-size: 0.8125rem; font-weight: 600; font-family: inherit; }
    .hint-cancel-btn:hover, .hint-cancel-btn:active { background: rgba(255,255,255,0.4); }
    @media (max-width: 768px) {
      .hint-desktop { display: none; }
      .hint-mobile { display: inline; }
      .hint-cancel-btn { display: block; }
      .comment-hint { padding: 0.625rem 0.875rem; }
    }
    .mobile-post-btn { display: none; background: var(--purple-primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: var(--radius-md); font-size: 0.875rem; font-weight: 600; cursor: pointer; }
    .mobile-post-btn:hover { background: var(--purple-deep); }
    @media (max-width: 640px) { .mobile-post-btn { display: block; } }
    /* Comments dropdown */
    .comments-dropdown { position: fixed; top: calc(var(--header-height) + 8px); right: 16px; width: 320px; max-width: calc(100vw - 32px); max-height: 400px; background: var(--bg-surface); border: none; border-radius: var(--radius-xl); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15); z-index: 1001; overflow: hidden; animation: dropdownIn 0.2s ease; }
    @keyframes dropdownIn { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
    .comments-dropdown-header { padding: 0.875rem 1rem; background: var(--purple-pale); border-bottom: 1px solid var(--purple-light); display: flex; justify-content: space-between; align-items: center; }
    .dropdown-close-btn { display: none; background: transparent; border: none; padding: 0.25rem; cursor: pointer; color: var(--gray-mid); border-radius: var(--radius-sm); }
    .dropdown-close-btn:hover { background: rgba(0,0,0,0.05); color: var(--gray-dark); }
    @media (max-width: 768px) { .dropdown-close-btn { display: flex; align-items: center; justify-content: center; } }
    .comments-dropdown-header h4 { font-size: 0.8125rem; font-weight: 600; color: var(--purple-primary); margin: 0; }
    .comments-dropdown-header span { font-size: 0.6875rem; color: var(--gray-mid); }
    .comments-dropdown-section-header { padding: 0.5rem 1rem; background: var(--gray-pale); font-size: 0.6875rem; font-weight: 600; color: var(--gray-mid); text-transform: uppercase; letter-spacing: 0.5px; border-top: 1px solid var(--gray-light); border-bottom: 1px solid var(--gray-light); }
    .comments-dropdown-list { max-height: 280px; overflow-y: auto; }
    .comments-dropdown-empty { padding: 2rem 1rem; text-align: center; color: var(--gray-mid); font-size: 0.875rem; }
    .comments-dropdown-item { padding: 0.875rem 1rem; border-bottom: 1px solid var(--gray-light); cursor: pointer; transition: background 0.15s ease; display: flex; gap: 0.75rem; align-items: flex-start; }
    .comments-dropdown-item:hover { background: var(--gray-pale); }
    .comments-dropdown-item:last-child { border-bottom: none; }
    .comments-dropdown-item[data-resolved="true"] { opacity: 0.6; }
    .comments-dropdown-icon { width: 28px; height: 28px; border-radius: 50%; background: var(--orange-light); color: var(--orange); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
    .comments-dropdown-icon svg { width: 14px; height: 14px; }
    .comments-dropdown-item[data-resolved="true"] .comments-dropdown-icon { background: var(--green-light); color: var(--green); }
    .comments-dropdown-content { flex: 1; min-width: 0; }
    .comments-dropdown-text { font-size: 0.8125rem; color: var(--black); line-height: 1.4; margin-bottom: 0.25rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .comments-dropdown-meta { font-size: 0.6875rem; color: var(--gray-mid); display: flex; gap: 0.5rem; }
    .comments-dropdown-footer { padding: 0.75rem 1rem; background: var(--gray-pale); border-top: 1px solid var(--gray-light); display: flex; flex-direction: column; gap: 0.5rem; }
    .comments-dropdown-add { width: 100%; padding: 0.625rem 1rem; background: var(--purple-primary); color: white; border: none; border-radius: var(--radius-md); font-size: 0.8125rem; font-weight: 500; cursor: pointer; transition: background 0.2s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
    .comments-dropdown-add:hover { background: var(--purple-deep); }
    .comments-dropdown-add svg { width: 14px; height: 14px; }
    .comments-dropdown-sheet-link { width: 100%; padding: 0.5rem 1rem; background: transparent; color: var(--gray-mid); border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; text-decoration: none; }
    .comments-dropdown-sheet-link:hover { background: var(--white); color: var(--gray-dark); border-color: var(--gray-mid); }

    /* Comments Panel - Slide-in sidebar on desktop, full-screen modal on mobile */
    .comments-panel { position: fixed; top: 0; right: 0; width: 360px; height: 100vh; background: var(--bg-surface); box-shadow: -8px 0 32px rgba(0,0,0,0.12), -2px 0 8px rgba(0,0,0,0.08); z-index: 1002; display: flex; flex-direction: column; transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .comments-panel[data-state="open"] { transform: translateX(0); }
    /* Panel items use simple opacity, no stagger on re-render */
    .comments-panel-item { opacity: 1; }
    .comments-panel-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 1001; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; cursor: pointer; }
    .comments-panel-backdrop[data-state="visible"] { opacity: 1; visibility: visible; pointer-events: auto; }
    @media (max-width: 768px) { .comments-panel { width: 100%; height: 100%; top: 0; left: 0; right: 0; bottom: 0; border-radius: 0; padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom); } }
    .comments-panel-header { padding: 1.25rem 1.25rem; background: linear-gradient(135deg, var(--purple-800) 0%, var(--purple-900) 100%); border-bottom: 2px solid var(--orange); display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; }
    .comments-panel-header h4 { font-size: 1rem; font-weight: 600; color: white; margin: 0; }
    .comments-panel-header-meta { font-size: 0.75rem; color: rgba(255,255,255,0.7); }
    .comments-panel-close { background: rgba(255,255,255,0.1); border: none; padding: 0.5rem; cursor: pointer; color: rgba(255,255,255,0.8); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; transition: background 0.15s ease, color 0.15s ease; }
    .comments-panel-close:hover { background: rgba(255,255,255,0.2); color: white; }
    .comments-panel-close svg { width: 20px; height: 20px; }
    .comments-panel-list { flex: 1; min-height: 0; overflow-y: auto; }
    .comments-panel-empty { padding: 3rem 1.5rem; text-align: center; color: var(--gray-mid); font-size: 0.9375rem; display: flex; flex-direction: column; align-items: center; gap: 1rem; }
    .comments-panel-empty-icon { width: 64px; height: 64px; border-radius: 50%; background: var(--purple-pale); color: var(--purple-primary); display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem; }
    .comments-panel-empty-icon svg { width: 28px; height: 28px; }
    .comments-panel-empty-title { font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.25rem; }
    .comments-panel-empty-text { font-size: 0.875rem; color: var(--gray-mid); line-height: 1.5; }
    .comments-panel-section-header { padding: 0.5rem 0.875rem; background: var(--gray-pale); font-size: 0.6875rem; font-weight: 600; color: var(--gray-mid); text-transform: uppercase; letter-spacing: 0.5px; border-top: 1px solid var(--gray-light); border-bottom: 1px solid var(--gray-light); cursor: pointer; display: flex; align-items: center; gap: 0.375rem; transition: background 0.15s ease; }
    .comments-panel-section-header:hover { background: var(--gray-light); }
    .comments-panel-section-header svg { width: 10px; height: 10px; transition: transform 0.15s ease; }
    .comments-panel-section-header.collapsed svg { transform: rotate(-90deg); }
    .comments-panel-section-content { overflow: visible; }
    .comments-panel-section-content.collapsed { display: none; }
    /* Comment item — Twitter/Discord compact style */
    .comments-panel-item { padding: 0.5rem 0.875rem; border-bottom: 1px solid var(--gray-light); cursor: pointer; transition: background 0.15s ease; display: flex; gap: 0.5rem; align-items: flex-start; position: relative; }
    .comments-panel-item:hover { background: var(--bg-elevated); }
    .comments-panel-item:last-child { border-bottom: none; }
    .comments-panel-item[data-resolved="true"] { opacity: 0.5; }
    .comments-panel-item[data-resolved="true"] .comment-body { text-decoration: line-through; color: var(--gray-mid); }
    .comments-panel-item[data-expanded="true"] { background: var(--bg-elevated); border-left: 3px solid var(--purple-primary); }

    /* Panel-specific sizing for unified avatar component */
    .comments-panel-item .comment-avatar {
      width: 24px;
      height: 24px;
      font-size: 0.625rem;
      margin-top: 0.125rem;
    }

    .comments-panel-content { flex: 1; min-width: 0; }
    /* Header: author · time inline */
    .comments-panel-header-line { display: flex; align-items: baseline; gap: 0.25rem; line-height: 1.3; }
    .comments-panel-dot { color: var(--gray-mid); font-size: 0.75rem; }

    /* Panel-specific sizing for unified typography */
    .comments-panel-item .comment-author { font-size: 0.8125rem; }
    .comments-panel-item .comment-time { font-size: 0.75rem; }
    .comments-panel-item .comment-body {
      font-size: 0.8125rem;
      line-height: 1.4;
      margin-top: 0.125rem;
    }

    /* Panel-specific sizing for reply avatars (smaller than main comment avatars) */
    .comments-panel-item .comment-reply .comment-avatar {
      width: 20px;
      height: 20px;
      font-size: 0.625rem;
    }

    /* Panel-specific sizing for reply typography */
    .comments-panel-item .comment-reply .comment-author { font-size: 0.75rem; }
    .comments-panel-item .comment-reply .comment-time { font-size: 0.6875rem; }
    .comments-panel-item .comment-reply .comment-body {
      font-size: 0.75rem;
      line-height: 1.4;
      margin-top: 0.125rem;
    }

    .comments-panel-reply-count { font-size: 0.6875rem; color: var(--purple-primary); font-weight: 500; margin-left: 0.25rem; }
    /* Overflow menu floats right */
    .comments-panel-item .overflow-menu { position: absolute; right: 0.5rem; top: 0.375rem; }
    .comments-panel-meta { display: none; } /* Deprecated: using header-line instead */
    .comments-panel-meta-actions { display: flex; gap: 0.25rem; margin-left: auto; }
    /* PATTERN: .meta-icon-btn — Icon-only buttons (edit/delete/resolve). Reuse this, see STYLE_PATTERNS.md */
    .comments-panel-meta-actions .meta-icon-btn { width: 22px; height: 22px; padding: 0; border: none; background: transparent; color: var(--gray-mid); border-radius: var(--radius-sm); cursor: pointer; display: flex; align-items: center; justify-content: center; opacity: 0; transition: all 0.15s ease; }
    .comments-panel-meta-actions .meta-icon-btn:active { opacity: 0.7; }
    .comments-panel-item:hover .meta-icon-btn { opacity: 1; }
    .comments-panel-meta-actions .meta-icon-btn:hover { background: var(--gray-pale); color: var(--gray-dark); }
    .comments-panel-meta-actions .meta-icon-btn-delete:hover { background: var(--color-danger-bg); color: var(--color-danger); }
    .comments-panel-meta-actions .meta-icon-btn svg { width: 12px; height: 12px; }
    .comments-panel-reply-badge { background: var(--gray-light); color: var(--gray-dark); padding: 0.125rem 0.5rem; border-radius: var(--radius-pill); font-size: 0.6875rem; font-weight: 500; }
    .comments-panel-expanded-content { margin-top: 0.375rem; padding-top: 0.25rem; }
    @keyframes expandFadeIn { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
    .comments-panel-actions { display: flex; gap: 0.375rem; margin-bottom: 0.375rem; }
    .comments-panel-actions .btn-sm { display: flex; align-items: center; gap: 0.25rem; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm); font-size: 0.6875rem; font-weight: 500; cursor: pointer; transition: all 0.15s ease; border: 1px solid var(--border); background: var(--bg-surface); color: var(--gray-dark); }
    .comments-panel-actions .btn-sm:active { opacity: 0.8; }
    .comments-panel-actions .btn-sm:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .comments-panel-actions .btn-sm svg { width: 10px; height: 10px; }
    /* DELETED: .btn-location purple background - violates 90/10 neutral-forward design principle */
    /* "Go to pin" is a secondary action - uses ghost button pattern (neutral background, purple hover) */

    /* Panel-specific spacing overrides for unified reply structure (tighter than popup) */
    .comments-panel-item .comment-replies {
      margin-top: 0.25rem;
      padding-left: 0.25rem;
    }
    .comments-panel-item .comment-reply {
      padding: 0.375rem 0.5rem;
      gap: 0.375rem;
      margin-bottom: 0.5rem;
    }
    .comments-panel-item .comment-reply:last-child { margin-bottom: 0; }
    .comments-panel-item .comment-reply:hover .overflow-trigger { opacity: 1; }
    .comments-panel-reply-input { margin-top: 0.375rem; position: relative; display: flex; align-items: center; }
    .comments-panel-reply-input textarea { flex: 1; min-height: 32px; padding: 0.5rem 1.75rem 0.5rem 0.75rem; border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem; font-family: inherit; resize: none; background: var(--bg-elevated); color: var(--text); transition: border-color 0.15s ease; line-height: 1.4; }
    .comments-panel-reply-input textarea::placeholder { color: var(--gray-mid); }
    .comments-panel-reply-input textarea:focus { outline: none; border-color: var(--purple-primary); }
    /* Send button inside textarea */
    .comments-panel-reply-btn { position: absolute; right: 0.25rem; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; border: none; background: transparent; color: var(--gray-mid); border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: color 0.15s ease, background 0.15s ease; padding: 0; }
    .comments-panel-reply-btn:hover { color: var(--gray-dark); background: var(--gray-pale); }
    .comments-panel-reply-btn svg { width: 12px; height: 12px; }
    .comments-panel-footer { padding: 1rem 1.25rem; background: var(--gray-pale); border-top: 1px solid var(--gray-light); display: flex; flex-direction: column; gap: 0.625rem; flex-shrink: 0; }
    .comments-panel-new-comment { display: flex; gap: 0.5rem; align-items: flex-start; }
    
    /* Inline Edit — Notion-style: Enter to save, Escape to cancel, no buttons */
    .inline-edit-textarea { width: 100%; min-height: 24px; padding: 0.25rem 0.5rem; border: 1px solid var(--purple-primary); border-radius: var(--radius-sm); font-size: 0.8125rem; font-family: inherit; resize: none; line-height: 1.4; background: var(--bg-surface); color: var(--text); box-shadow: 0 0 0 2px var(--purple-pale); }
    .inline-edit-textarea:focus { outline: none; }
    .inline-edit-hint { font-size: 0.625rem; color: var(--gray-mid); margin-top: 0.125rem; }
    
    /* Overflow Menu — Single trigger for secondary actions (Edit, Delete, Resolve) */
    .overflow-menu { position: relative; }
    .overflow-trigger { width: 24px; height: 24px; border: none; background: transparent; color: var(--gray-mid); border-radius: var(--radius-sm); cursor: pointer; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.15s ease, background 0.15s ease; padding: 0; }
    .comments-panel-item:hover .overflow-trigger { opacity: 1; }
    .overflow-trigger:hover { background: var(--gray-pale); color: var(--gray-dark); }
    .overflow-trigger svg { width: 14px; height: 14px; }
    .overflow-dropdown { position: absolute; right: 0; top: 100%; min-width: 120px; background: var(--bg-surface); border: none; border-radius: var(--radius-md); box-shadow: 0 4px 12px rgba(0,0,0,0.12); opacity: 0; visibility: hidden; transition: opacity 0.15s ease, visibility 0.15s ease; z-index: 10; padding: 0.25rem 0; margin-top: 2px; }
    .overflow-dropdown[data-state="open"] { opacity: 1; visibility: visible; }
    /* Position dropdown upward for resolved comments to prevent clipping */
    .comments-panel-item[data-resolved="true"] .overflow-dropdown { top: auto; bottom: 100%; margin-top: 0; margin-bottom: 2px; }
    .overflow-dropdown button { display: block; width: 100%; padding: 0.5rem 0.75rem; text-align: left; font-size: 0.8125rem; color: var(--gray-dark); border: none; background: transparent; cursor: pointer; transition: background 0.1s ease; font-family: inherit; white-space: nowrap; }
    .overflow-dropdown button:hover { background: var(--gray-pale); }
    .overflow-dropdown button.danger:hover { background: var(--color-danger-bg); color: var(--color-danger); }
    /* Nav overflow menu — always visible, larger hit target */
    .nav-overflow { position: relative; }
    .nav-overflow-trigger { width: 36px; height: 36px; border: 1px solid var(--gray-light); background: var(--bg-surface); color: var(--gray-mid); border-radius: var(--radius-lg); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background 0.15s ease, border-color 0.15s ease; }
    .nav-overflow-trigger:hover { background: var(--gray-pale); border-color: var(--gray-mid); color: var(--gray-dark); }
    .nav-overflow-trigger svg { width: 18px; height: 18px; }
    .nav-overflow-dropdown { position: absolute; right: 0; top: calc(100% + 8px); min-width: 180px; background: var(--bg-surface); border: none; border-radius: var(--radius-lg); box-shadow: 0 4px 16px rgba(0,0,0,0.12); opacity: 0; visibility: hidden; transition: opacity 0.15s ease; z-index: 1002; padding: 0.375rem 0; }
    .nav-overflow-dropdown[data-state="open"] { opacity: 1; visibility: visible; }
    .nav-overflow-dropdown button, .nav-overflow-dropdown a { display: flex; align-items: center; gap: 0.75rem; width: 100%; padding: 0.625rem 1rem; text-align: left; font-size: 0.875rem; color: var(--text); border: none; background: transparent; cursor: pointer; transition: background 0.1s ease; font-family: inherit; text-decoration: none; }
    .nav-overflow-dropdown button:hover, .nav-overflow-dropdown a:hover { background: var(--gray-pale); }
    .nav-overflow-dropdown svg { width: 16px; height: 16px; color: var(--gray-mid); flex-shrink: 0; }
    .nav-overflow-dropdown .menu-divider { height: 1px; background: var(--border); margin: 0.375rem 0; }
    .nav-overflow-dropdown .menu-label { padding: 0.5rem 1rem 0.25rem; font-size: 0.6875rem; font-weight: 600; color: var(--gray-mid); text-transform: uppercase; letter-spacing: 0.05em; }
    
    .comments-panel-new-comment textarea { flex: 1; min-height: 36px; max-height: 100px; padding: 0.5rem 0.75rem; border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.8125rem; font-family: inherit; resize: none; line-height: 1.4; background: var(--bg-surface); color: var(--text); transition: border-color 0.15s ease; }
    .comments-panel-new-comment textarea::placeholder { color: var(--gray-mid); }
    .comments-panel-new-comment textarea:focus { outline: none; border-color: var(--purple-primary); }
    .btn-pin-comment { width: 36px; height: 36px; border: 1px solid var(--gray-light); background: var(--bg-surface); border-radius: var(--radius-md); cursor: pointer; display: flex; align-items: center; justify-content: center; color: var(--gray-mid); transition: all 0.15s ease; flex-shrink: 0; }
    .btn-pin-comment:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .comments-panel-sheet-link { display: flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.5rem 1rem; background: transparent; color: var(--gray-mid); border: 1px solid var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem; font-weight: 500; text-decoration: none; transition: all 0.2s ease; }
    .comments-panel-sheet-link:hover { background: var(--white); color: var(--gray-dark); border-color: var(--gray-mid); }
    /* Time tooltip for exact date/time */
    .time-tooltip { cursor: help; border-bottom: 1px dotted var(--gray-mid); }
    .time-tooltip:hover { color: var(--purple-primary); }

    /* Comment hint bar */
    .comment-hint { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%); background: var(--purple-primary); color: white; padding: 0.75rem 1.25rem; border-radius: var(--radius-pill); font-size: 0.875rem; font-weight: 500; z-index: 1003; display: flex; align-items: center; gap: 1rem; box-shadow: 0 4px 20px rgba(45, 21, 72, 0.3); }
    .comment-hint kbd { background: rgba(255,255,255,0.2); padding: 0.125rem 0.5rem; border-radius: var(--radius-sm); font-size: 0.75rem; font-weight: 600; }
    .comment-hint .hint-desktop { display: block; }
    .comment-hint .hint-mobile { display: none; }
    .comment-hint .hint-cancel-btn { background: rgba(255,255,255,0.2); border: none; color: white; padding: 0.375rem 0.75rem; border-radius: var(--radius-md); font-size: 0.8125rem; font-weight: 500; cursor: pointer; transition: background 0.15s ease; }
    .comment-hint .hint-cancel-btn:hover { background: rgba(255,255,255,0.3); }
    @media (max-width: 640px) { .comment-hint .hint-desktop { display: none; } .comment-hint .hint-mobile { display: block; } .comment-hint { padding: 0.625rem 1rem; font-size: 0.8125rem; } }

    /* Comment mode cursor */
    body.comment-mode { cursor: crosshair; }
    body.comment-mode main { cursor: crosshair; }
    body.comment-mode .doc-section { cursor: crosshair; }

    /* To Develop Section */
    .roadmap-grid { display: flex; flex-direction: column; gap: 1rem; max-width: 700px; margin: 0 auto; }
    .roadmap-section-header { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.15em; color: var(--gray-mid); margin-top: 1.5rem; margin-bottom: 0.25rem; padding-left: 0.25rem; }
    .expand-card { background: var(--bg-surface); border: none; border-radius: var(--radius-xl); overflow: hidden; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease; }
    .expand-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-card-hover); }
    .expand-card[data-state="open"] { box-shadow: 0 4px 20px rgba(45, 21, 72, 0.15), 0 8px 32px rgba(0,0,0,0.08); transform: none; }
    .expand-card-header { padding: 1.5rem; cursor: pointer; display: flex; gap: 1rem; align-items: flex-start; }
    .expand-card-info { flex: 1; }
    .expand-card-title { font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.25rem; }
    .expand-card-desc { font-size: 0.875rem; color: var(--gray-mid); line-height: 1.4; }
    .expand-card-toggle { width: 24px; height: 24px; color: var(--gray-mid); transition: transform 0.2s ease; flex-shrink: 0; margin-top: 0.25rem; }
    .expand-card.open .expand-card-toggle { transform: rotate(180deg); color: var(--purple-primary); }
    .expand-card-body { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
    .expand-card.open .expand-card-body { max-height: 400px; }
    .expand-card-content { padding: 0 1.5rem 1.5rem; border-top: 1px solid var(--gray-light); }
    .expand-card-progress { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; margin-bottom: 0.5rem; }
    .expand-card-progress-text { font-size: 0.75rem; font-weight: 600; color: var(--purple-primary); }
    .expand-card-progress-bar { flex: 1; height: 4px; background: var(--gray-light); border-radius: var(--radius-sm); margin-left: 1rem; overflow: hidden; }
    .expand-card-progress-fill { height: 100%; background: var(--purple-primary); border-radius: var(--radius-sm); transition: width 0.3s ease; }
    .todo-list { list-style: none; padding: 0; margin: 0; }
    .todo-list li { font-size: 0.875rem; padding: 0.625rem 0; border-bottom: 1px solid var(--gray-light); display: flex; align-items: flex-start; gap: 0.75rem; }
    .todo-list li:last-child { border-bottom: none; }
    .todo-checkbox { width: 18px; height: 18px; border: 2px solid var(--gray-light); border-radius: var(--radius-sm); flex-shrink: 0; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.15s ease; background: var(--white); }
    .todo-checkbox:hover { border-color: var(--purple-primary); }
    .todo-checkbox.checked { background: var(--purple-primary); border-color: var(--purple-primary); }
    .todo-checkbox.checked svg { display: block; }
    .todo-checkbox svg { display: none; width: 12px; height: 12px; color: white; }
    .todo-text { color: var(--gray-dark); line-height: 1.4; cursor: pointer; flex: 1; }
    .todo-text:hover { color: var(--purple-primary); }
    .todo-text.done { color: var(--gray-mid); text-decoration: line-through; }
    .todo-text.done:hover { color: var(--gray-dark); }
    .todo-comment-count { font-size: 0.75rem; color: var(--gray-mid); display: flex; align-items: center; gap: 0.25rem; }
    .todo-comment-count svg { width: 12px; height: 12px; }

    /* Add todo input */
    .add-todo-row { display: flex; gap: 0.5rem; padding: 0.75rem 0 0.25rem 0; border-top: 1px solid var(--gray-light); margin-top: 0.75rem; }
    .add-todo-input { flex: 1; padding: 0.5rem 0.75rem; border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 0.875rem; background: var(--bg-surface); color: var(--text); }
    .add-todo-input:focus { outline: none; border-color: var(--purple-primary); }
    .add-todo-btn { padding: 0.5rem 1rem; background: var(--purple-primary); color: white; border: none; border-radius: var(--radius-md); font-size: 0.875rem; cursor: pointer; transition: opacity 0.2s ease; }
    .add-todo-btn:hover { opacity: 0.9; }

    /* Todo item structure */
    .todo-item { margin-bottom: 0.5rem; }
    .todo-row { display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.625rem 0; }
    .todo-comment-badge { display: inline-flex; align-items: center; justify-content: center; min-width: 20px; height: 20px; padding: 0 6px; background: transparent; border: 1px solid var(--border); color: var(--text-secondary); border-radius: var(--radius-lg); font-size: 0.6875rem; font-weight: 600; cursor: pointer; flex-shrink: 0; transition: all 0.15s ease; }
    .todo-comment-badge:hover { background: var(--bg-elevated); border-color: var(--purple-primary); color: var(--purple-primary); }
    .todo-comment-badge.empty { background: transparent; border: 1px dashed var(--gray-light); color: var(--gray-mid); }

    /* Inline comments container */
    .todo-comments-inline { padding: 0.75rem 0 0.75rem 2.25rem; display: none; }
    .todo-comments-inline[data-state="open"] { display: block; }

    /* Comment card with icon buttons */
    .todo-comment-card { background: var(--bg-elevated); border-radius: var(--radius-lg); padding: 0.75rem 1rem; margin-bottom: 0.5rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05), 0 2px 6px rgba(0,0,0,0.03); }
    .todo-comment-card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.375rem; }
    .todo-comment-card-meta { display: flex; align-items: center; gap: 0.5rem; }
    .todo-comment-card-author { font-size: 0.75rem; font-weight: 600; color: var(--text); }
    .todo-comment-card-time { font-size: 0.6875rem; color: var(--gray-mid); }
    .todo-comment-card-body { font-size: 0.8125rem; color: var(--text-secondary); line-height: 1.5; }

    /* Icon buttons - ghost on hover pattern */
    .todo-comment-card:hover .icon-btn,
    .todo-reply-card:hover .icon-btn { opacity: 1; }

    /* Reply styling */
    .todo-replies { margin-left: 1rem; margin-top: 0.5rem; padding-left: 0.75rem; border-left: 2px solid var(--border); }
    .todo-reply-card { padding: 0.5rem 0.75rem; background: var(--bg-surface); border-radius: var(--radius-md); margin-bottom: 0.375rem; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
    .todo-reply-card:last-child { margin-bottom: 0; }
    .todo-reply-card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.25rem; }
    .todo-reply-card-meta { display: flex; align-items: center; gap: 0.375rem; }
    .todo-reply-card-author { font-size: 0.6875rem; font-weight: 600; color: var(--text); }
    .todo-reply-card-time { font-size: 0.625rem; color: var(--gray-mid); }
    .todo-reply-card-body { font-size: 0.75rem; color: var(--text-secondary); line-height: 1.4; }
    .reply-inline-icons { display: flex; gap: 0.125rem; }
    .reply-inline-icons .icon-btn { width: 20px; height: 20px; }
    .reply-inline-icons .icon-btn svg { width: 10px; height: 10px; }

    /* Reply input form */
    .todo-reply-form { display: flex; gap: 0.5rem; margin-top: 0.5rem; }
    .todo-reply-input { flex: 1; padding: 0.5rem 0.75rem; border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 0.75rem; background: var(--bg-surface); color: var(--text); }
    .todo-reply-input:focus { outline: none; border-color: var(--purple-primary); }

    /* Add comment form inline */
    .todo-add-comment-inline { display: flex; gap: 0.5rem; margin-top: 0.5rem; }
    .todo-add-comment-inline input { flex: 1; padding: 0.5rem 0.75rem; border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 0.8125rem; background: var(--bg-surface); color: var(--text); }
    .todo-add-comment-inline input:focus { outline: none; border-color: var(--purple-primary); }
    .todo-add-comment-inline button { padding: 0.5rem 1rem; background: var(--purple-primary); color: white; border: none; border-radius: var(--radius-md); font-size: 0.8125rem; font-weight: 500; cursor: pointer; transition: opacity 0.2s ease; }
    .todo-add-comment-inline button:hover { opacity: 0.9; }

    /* Edit mode */
    .todo-edit-input { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid var(--purple-primary); border-radius: var(--radius-md); font-size: 0.8125rem; background: var(--bg-surface); color: var(--text); }
    .todo-edit-actions { display: flex; gap: 0.5rem; margin-top: 0.375rem; }
    .todo-edit-save { padding: 0.375rem 0.75rem; background: var(--purple-primary); color: white; border: none; border-radius: var(--radius-sm); font-size: 0.75rem; cursor: pointer; }
    .todo-edit-cancel { padding: 0.375rem 0.75rem; background: var(--gray-light); color: var(--gray-dark); border: none; border-radius: var(--radius-sm); font-size: 0.75rem; cursor: pointer; }

    /* Expand card content padding fix */
    .expand-card-content { padding-bottom: 0.5rem; }

    /* Critical Analysis Section — Neutral-forward design: 90% gray/white, 10% accent */
    .analysis-content { max-width: 700px; margin: 0 auto; }
    .analysis-content > .card { margin-bottom: 1.5rem; }
    .analysis-content > .card:last-child { margin-bottom: 0; }

    /* Collapsible cards */
    .collapsible-card .card-content { max-height: 2000px; overflow: hidden; transition: max-height 0.3s ease, opacity 0.3s ease; opacity: 1; }
    .collapsible-card:not(.open) .card-content { max-height: 0; opacity: 0; }
    .collapsible-card:not(.open) .collapse-icon { transform: rotate(-90deg); }
    .collapsible-card.open .collapse-icon { transform: rotate(0deg); }

    /* Collapsible sections */
    section.collapsible-section.open .section-content { max-height: none; opacity: 1; }
    section.collapsible-section:not(.open) .section-content { max-height: 0; opacity: 0; overflow: hidden; transition: max-height 0.3s ease, opacity 0.3s ease; }
    section.collapsible-section .section-header { cursor: pointer; user-select: none; position: relative; }
    section.collapsible-section .section-title { position: relative; }
    section.collapsible-section .section-chevron { position: absolute; right: 0; top: 50%; transform: translateY(-50%); transition: transform 0.2s ease; width: 20px; height: 20px; opacity: 0.5; }
    section.collapsible-section .section-chevron:hover { opacity: 1; }
    section.collapsible-section:not(.open) .section-chevron { transform: translateY(-50%) rotate(-90deg); }
    .analysis-card:last-child { margin-bottom: 0; }
    .analysis-card h3 { font-size: 0.9375rem; font-weight: 600; color: var(--black); margin: 0 0 0.75rem 0; }
    .analysis-card p { font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin: 0; }
    .analysis-card p + p { margin-top: 0.75rem; }
    .analysis-callout { padding: 1rem; border-radius: var(--radius-lg); font-size: 0.875rem; margin-top: 1rem; background: var(--purple-pale); border-left: 3px solid var(--purple-primary); color: var(--gray-dark); }
    .analysis-list { list-style: none; padding: 0; margin: 0.75rem 0 0 0; }
    .analysis-list li { padding: 0.5rem 0; border-bottom: 1px solid var(--border); font-size: 0.8125rem; color: var(--gray-dark); }
    .analysis-list li:last-child { border-bottom: none; padding-bottom: 0; }
    .analysis-list li:first-child { padding-top: 0; }
    .analysis-table-wrap { overflow-x: auto; margin-top: 0.75rem; }
    .analysis-table { width: 100%; border-collapse: collapse; font-size: 0.8125rem; }
    .analysis-table th, .analysis-table td { padding: 0.625rem 0.75rem; text-align: left; border-bottom: 1px solid var(--border); }
    .analysis-table th { background: var(--bg-elevated); font-weight: 600; color: var(--gray-dark); font-size: 0.6875rem; text-transform: uppercase; letter-spacing: 0.05em; }
    .analysis-table td { color: var(--gray-dark); }
    .analysis-table code { background: var(--bg-elevated); color: var(--black); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.75rem; font-family: 'Monaco', 'Menlo', monospace; }
    .status-badge { display: inline-block; padding: 0.1875rem 0.5rem; border-radius: var(--radius-sm); font-size: 0.625rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.03em; border: 1px solid var(--border); background: transparent; }
    .status-open { border-color: var(--gray-300); color: var(--gray-dark); }
    .status-review { border-color: var(--purple-primary); color: var(--purple-primary); }
    .status-done { border-color: var(--border); color: var(--gray-mid); }
    .analysis-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-top: 0.75rem; }
    @media (max-width: 540px) { .analysis-grid { grid-template-columns: 1fr; } }
    .analysis-grid-item { padding: 0.75rem 1rem; background: var(--bg-elevated); border-radius: var(--radius-lg); font-size: 0.8125rem; color: var(--gray-dark); }
    .analysis-grid-item strong { color: var(--black); font-weight: 600; }
    .analysis-purple-compare { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-top: 0.75rem; }
    .analysis-purple-swatch { text-align: center; }
    .analysis-purple-swatch-color { padding: 0.875rem; border-radius: var(--radius-md); font-weight: 600; font-size: 0.8125rem; color: white; }
    .analysis-purple-swatch-label { font-size: 0.6875rem; color: var(--gray-mid); margin-top: 0.375rem; }
    .source-links { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.75rem; }
    .source-link-btn { display: inline-flex; align-items: center; gap: 0.375rem; padding: 0.5rem 0.75rem; background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 0.75rem; font-weight: 500; color: var(--gray-dark); cursor: pointer; transition: all 0.15s ease; font-family: inherit; }
    .source-link-btn:hover { border-color: var(--purple-primary); color: var(--purple-primary); }
    .source-link-btn svg { width: 14px; height: 14px; opacity: 0.5; }
    .source-link-btn:hover svg { opacity: 1; }
    .analysis-note { margin-top: 1.5rem; padding: 1rem 1.25rem; background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-lg); }
    .analysis-note p { font-size: 0.8125rem; color: var(--gray-mid); line-height: 1.6; margin: 0; }

    /* Floating Mini-Nav */
    .doc-sidebar { position: fixed; bottom: 2rem; left: 1.5rem; width: auto; min-width: 140px; max-width: 200px; padding: 0.75rem 1rem; background: var(--bg-surface); border: none; border-radius: var(--radius-xl); box-shadow: 0 4px 20px rgba(0,0,0,0.1); z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.2s ease, transform 0.2s ease; transform: translateY(10px); }
    .doc-sidebar[data-state="visible"] { opacity: 1; pointer-events: auto; transform: translateY(0); }
    .doc-sidebar .sidebar-chapter { margin-bottom: 0; cursor: pointer; }
    .doc-sidebar .sidebar-chapter-label { display: block; font-size: 0.625rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.125rem; }
    .doc-sidebar .sidebar-chapter-title { font-size: 0.9375rem; font-weight: 600; color: var(--text); margin: 0; }
    .doc-sidebar .sidebar-sections { display: flex; flex-direction: column; gap: 0.125rem; position: static; width: 100%; background: transparent; border: none; padding: 0; max-height: 0; overflow: hidden; transition: max-height 0.2s ease, margin 0.2s ease; margin-top: 0; }
    .doc-sidebar:hover .sidebar-sections { max-height: 300px; margin-top: 0.75rem; }
    .doc-sidebar .sidebar-section { display: block; padding: 0.375rem 0.5rem; font-size: 0.75rem; color: var(--text-secondary); border-radius: var(--radius-sm); text-decoration: none; transition: all 0.15s ease; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    @media (max-width: 480px) { .doc-sidebar .sidebar-section { white-space: normal; max-width: 120px; line-height: 1.3; } }
    .doc-sidebar .sidebar-section:hover { background: var(--bg-elevated); color: var(--text); }
    .doc-sidebar .sidebar-section[data-state="active"] { background: var(--bg-elevated); color: var(--purple-primary); border-left: 3px solid var(--purple-primary); font-weight: 500; }
    
    /* Chapter dropdown */
    .sidebar-chapter-title { display: flex; align-items: center; gap: 0.25rem; }
    .chapter-chevron { transition: transform 0.2s ease; flex-shrink: 0; }
    .doc-sidebar.chapter-open .chapter-chevron { transform: rotate(180deg); }
    .chapter-dropdown { display: none; flex-direction: column; gap: 0.125rem; margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid var(--border); }
    .doc-sidebar.chapter-open .chapter-dropdown { display: flex; }
    .doc-sidebar.chapter-open .sidebar-sections { display: none; }
    .chapter-option { display: block; padding: 0.375rem 0.5rem; font-size: 0.75rem; color: var(--text-secondary); border-radius: var(--radius-sm); text-decoration: none; transition: all 0.15s ease; }
    .chapter-option:hover { background: var(--bg-elevated); color: var(--text); }
    .chapter-option[data-state="active"] { background: var(--bg-elevated); color: var(--purple-primary); border-left: 3px solid var(--purple-primary); font-weight: 500; }
    
    .main-content-wrapper { margin-left: 0; }
    
    /* When nav-links are hidden, make sidebar always visible for navigation */
    @media (max-width: 1280px) {
      .doc-sidebar { opacity: 1; pointer-events: auto; transform: translateY(0); }
    }
    
    @media (max-width: 480px) {
      .doc-sidebar { left: 0.75rem; bottom: 1rem; min-width: 120px; padding: 0.5rem 0.75rem; }
      .doc-sidebar .sidebar-chapter-title { font-size: 0.8125rem; }
    }

    /* Document Viewer Modal */
    .doc-viewer-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); z-index: 2000; display: none; align-items: center; justify-content: center; padding: 2rem; animation: fadeIn 0.2s ease; }
    .doc-viewer-overlay[data-state="open"] { display: flex; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .doc-viewer-modal { width: 100%; max-width: 900px; max-height: 90vh; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-xl); overflow: hidden; display: flex; flex-direction: column; box-shadow: var(--shadow-modal); animation: slideUp 0.3s ease; }
    :root[data-theme="dark"] .doc-viewer-modal { background: rgba(26, 26, 26, 0.95); }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .doc-viewer-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; background: var(--bg-elevated); border-bottom: 1px solid var(--border); }
    .doc-viewer-header h3 { font-size: 1rem; font-weight: 600; color: var(--purple-primary); margin: 0; }
    .doc-viewer-close { width: 36px; height: 36px; border: none; background: transparent; color: var(--gray-mid); cursor: pointer; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; transition: all 0.15s ease; }
    .doc-viewer-close:hover { background: var(--bg-elevated); color: var(--purple-primary); }
    .doc-viewer-close svg { width: 20px; height: 20px; }
    .doc-viewer-content { flex: 1; overflow-y: auto; padding: 2rem; font-size: 0.9375rem; line-height: 1.7; color: var(--text); }
    .doc-viewer-content h1 { font-size: 1.75rem; font-weight: 700; color: var(--black); margin-bottom: 1rem; border-bottom: 2px solid var(--purple-light); padding-bottom: 0.75rem; }
    .doc-viewer-content h2 { font-size: 1.25rem; font-weight: 600; color: var(--black); margin-top: 2rem; margin-bottom: 0.75rem; }
    .doc-viewer-content h3 { font-size: 1rem; font-weight: 600; color: var(--purple-primary); margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .doc-viewer-content h4 { font-size: 0.875rem; font-weight: 600; color: var(--black); margin-top: 1rem; margin-bottom: 0.5rem; }
    .doc-viewer-content p { margin-bottom: 1rem; }
    .doc-viewer-content ul, .doc-viewer-content ol { margin-bottom: 1rem; padding-left: 1.5rem; }
    .doc-viewer-content li { margin-bottom: 0.5rem; }
    .doc-viewer-content code { background: var(--gray-pale); color: var(--text); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.875em; }
    .doc-viewer-content pre { background: var(--gray-pale); padding: 1rem; border-radius: var(--radius-lg); overflow-x: auto; margin-bottom: 1rem; }
    .doc-viewer-content pre code { background: transparent; padding: 0; }
    .doc-viewer-content table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; font-size: 0.875rem; }
    .doc-viewer-content th, .doc-viewer-content td { padding: 0.75rem; text-align: left; border: 1px solid var(--border); }
    .doc-viewer-content th { background: var(--gray-pale); font-weight: 600; }
    .doc-viewer-content blockquote { margin: 1rem 0; padding: 0.75rem 1rem; background: var(--purple-pale); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; }
    .doc-viewer-content hr { border: none; border-top: 1px solid var(--border); margin: 2rem 0; }
    .doc-viewer-content strong { font-weight: 600; color: var(--black); }
    .doc-viewer-content a { color: var(--purple-primary); text-decoration: none; }
    .doc-viewer-content a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <!-- Onboarding Splash -->
  <div id="splashOverlay" class="splash-overlay">
    <div class="splash-modal">
      <div class="splash-header">
        <h1>ENRG Brand Guide</h1>
        <p>Premium without pretension. Confidence without arrogance.</p>
      </div>
      <div class="splash-body">
        <div class="splash-section">
          <h2>What is this?</h2>
          <p>An interactive reference for ENRG's visual brand: logo usage, color palette, typography, effects, iconography, tone of voice, and anti-patterns. This validator documents the complete ENRG brand system, including the original foundation and all implementation specifications.</p>
        </div>
        <div class="splash-section">
          <h2>Why does this exist?</h2>
          <p>The original <strong>ENRG.realty Brand Guidelines</strong> established the foundation: colors, typography, logo usage. This validator consolidates all ENRG brand specifications established through strategic implementation, providing a single source of truth for the complete brand system.</p>
        </div>
        <div class="splash-section">
          <h2>Brand System Overview</h2>
          <p>ENRG uses a <strong>two-purple system</strong>: Purple 500 (<code>#6021E6</code>) is the hero purple for logos, headlines, and marketing CTAs, while Purple 800 (<code>#290080</code>) provides depth for dark backgrounds and UI surfaces. Typography uses Plus Jakarta Sans for marketing and Inter for tools. These patterns are documented with specific usage examples throughout this guide.</p>
        </div>
        <div class="splash-section">
          <h2>How to use this</h2>
          <p>Review each section to see the complete brand specifications with detailed usage patterns. Use comments to flag items that need leadership review or approval. The goal: provide comprehensive brand guidance at a more specific level than the original guidelines allowed.</p>
        </div>
        <div class="splash-section">
          <h2>How to use comments</h2>
          <div class="splash-tip" style="margin-bottom: 0.75rem;">
            <strong>On Desktop:</strong> Click the Comments button in the top nav, then "Add Comment" to enter comment mode. Click anywhere on the page to drop a pin and type your feedback.
          </div>
          <div class="splash-tip">
            <strong>On Mobile:</strong> Tap the comment icon in the top-right corner to open the comments panel. Tap "Add Comment" to enter comment mode, then tap anywhere on the page to leave feedback.
          </div>
        </div>
      </div>
      <div class="splash-footer">
        <button class="splash-btn" onclick="dismissSplash()">Got it, let's explore</button>
      </div>
    </div>
  </div>

  <nav id="nav">
    <div class="nav-inner">
      <div class="logo" onclick="scrollToTop()" style="cursor: pointer;">ENRG<span>.</span>brand</div>
      <ul class="nav-links">
        <li>
          <button class="nav-dropdown-trigger">Foundation <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
          <div class="nav-dropdown">
            <a href="#philosophy" onclick="scrollToSection('philosophy'); return false;">Philosophy</a>
            <a href="#voice" onclick="scrollToSection('voice'); return false;">Tone & Voice</a>
          </div>
        </li>
        <li>
          <button class="nav-dropdown-trigger">Brand Essentials <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
          <div class="nav-dropdown">
            <a href="#logo" onclick="scrollToSection('logo'); return false;">Logo</a>
            <a href="#colors" onclick="scrollToSection('colors'); return false;">Colors</a>
            <a href="#typography" onclick="scrollToSection('typography'); return false;">Typography</a>
            <a href="#sub-brands" onclick="scrollToSection('sub-brands'); return false;">Sub-brands</a>
            <a href="#cobranding" onclick="scrollToSection('cobranding'); return false;">Co-branding</a>
          </div>
        </li>
        <li>
          <button class="nav-dropdown-trigger">Design System <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
          <div class="nav-dropdown">
            <a href="#spacing" onclick="scrollToSection('spacing'); return false;">Spacing & Grid</a>
            <a href="#effects" onclick="scrollToSection('effects'); return false;">Effects & Radii</a>
            <a href="#dark-mode" onclick="scrollToSection('dark-mode'); return false;">Dark Mode</a>
          </div>
        </li>
        <li>
          <button class="nav-dropdown-trigger">More <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
          <div class="nav-dropdown" style="min-width: 220px;">
            <div style="padding: 0.5rem 1rem; font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--gray-mid); border-bottom: 1px solid var(--border); margin-bottom: 0.5rem;">For Agents</div>
            <a href="#headshot-standards" onclick="scrollToSection('headshot-standards'); return false;">Headshot Standards</a>
            <a href="#email-signatures" onclick="scrollToSection('email-signatures'); return false;">Email Signatures</a>

            <div style="padding: 0.5rem 1rem; font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--gray-mid); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); margin: 0.5rem 0;">For Designers</div>
            <a href="#photography-stock" onclick="scrollToSection('photography-stock'); return false;">Photography & Stock</a>
            <a href="#data-visualization" onclick="scrollToSection('data-visualization'); return false;">Data Visualization</a>
            <a href="#iconography" onclick="scrollToSection('iconography'); return false;">Iconography</a>
            <a href="#print" onclick="scrollToSection('print'); return false;">Print Production</a>

            <div style="padding: 0.5rem 1rem; font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--gray-mid); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); margin: 0.5rem 0;">For Developers</div>
            <a href="#motion" onclick="scrollToSection('motion'); return false;">Motion & Animation</a>
            <a href="#accessibility" onclick="scrollToSection('accessibility'); return false;">Accessibility</a>
            <a href="#mobile" onclick="scrollToSection('mobile'); return false;">Mobile Guidelines</a>
            <a href="#antipatterns" onclick="scrollToSection('antipatterns'); return false;">Anti-patterns</a>
          </div>
        </li>
        <li>
          <button class="nav-dropdown-trigger">Resources <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
          <div class="nav-dropdown">
            <a href="#roadmap" onclick="scrollToSection('roadmap'); return false;">Roadmap</a>
            <a href="#analysis" onclick="scrollToSection('analysis'); return false;">Critical Analysis</a>
            <a href="#treatments" onclick="scrollToSection('treatments'); return false;">Treatments</a>
            <div class="nav-dropdown-divider"></div>
            <a href="#roadmap" onclick="scrollToSection('roadmap'); toggleCard('figma'); return false;" class="nav-tbd">Figma Design System</a>
            <a href="#roadmap" onclick="scrollToSection('roadmap'); toggleCard('canva'); return false;" class="nav-tbd">Canva Build System</a>
            <a href="#roadmap" onclick="scrollToSection('roadmap'); toggleCard('assets'); return false;" class="nav-tbd">Asset Library</a>
          </div>
        </li>
      </ul>
      <div class="nav-right">
        <!-- Search box -->
        <div class="search-wrapper" style="position: relative;">
          <input type="text" id="brandGuideSearch" placeholder="Search..."
                 style="width: 200px; padding: 0.5rem 0.75rem 0.5rem 2rem; border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 0.8125rem; background: var(--bg-elevated); color: var(--text); transition: all 0.2s;"
                 oninput="searchBrandGuide(this.value)"
                 onfocus="this.style.width='280px'; this.style.borderColor='var(--purple-primary)'"
                 onblur="if(!this.value) this.style.width='200px'; this.style.borderColor='var(--border)'">
          <svg style="position: absolute; left: 8px; top: 50%; transform: translateY(-50%); width: 14px; height: 14px; color: var(--gray-mid); pointer-events: none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
          </svg>
        </div>
        <!-- Comments button stays visible -->
        <div class="comments-wrapper" style="position: relative;">
          <button class="comment-toggle" id="commentToggle" onclick="toggleCommentsPanel()" title="View comments">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <span>Comments</span>
            <span class="count" id="commentCount">0</span>
          </button>
          <div class="comments-dropdown" id="commentsDropdown" style="display: none;"></div>
        </div>
        <!-- Nav overflow menu -->
        <div class="nav-overflow">
          <button class="nav-overflow-trigger" onclick="toggleNavMenu(event)" title="More options">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1.5"/><circle cx="12" cy="12" r="1.5"/><circle cx="12" cy="19" r="1.5"/></svg>
          </button>
          <div class="nav-overflow-dropdown" id="navOverflowDropdown">
            <div class="menu-label">Account</div>
            <div id="navMenuUser" style="padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.5rem;">
              <span class="avatar" id="navUserInitials" style="width: 24px; height: 24px; font-size: 0.625rem;">?</span>
              <span id="navUserEmail" style="font-size: 0.8125rem; color: var(--text);">Loading...</span>
            </div>
            <div class="menu-divider"></div>
            <button id="navThemeToggle" onclick="toggleTheme(); closeNavMenu();" style="justify-content: space-between;">
              <span id="navThemeLabel">Dark mode</span>
              <div class="toggle-indicator" id="themeIndicator" style="width: 36px; height: 20px; background: var(--gray-light); border-radius: var(--radius-pill); position: relative; transition: background 0.2s;">
                <div style="position: absolute; top: 2px; left: 2px; width: 16px; height: 16px; background: white; border-radius: 50%; transition: transform 0.2s;"></div>
              </div>
            </button>
            <button id="navViewModeToggle" onclick="toggleViewMode(); closeNavMenu();" style="justify-content: space-between;">
              <span id="navViewModeLabel">Show review context</span>
              <div class="toggle-indicator" id="viewModeIndicator" style="width: 36px; height: 20px; background: var(--purple-primary); border-radius: var(--radius-pill); position: relative; transition: background 0.2s;">
                <div style="position: absolute; top: 2px; right: 2px; width: 16px; height: 16px; background: white; border-radius: 50%; transition: transform 0.2s;"></div>
              </div>
            </button>
            <a id="navSheetLink" href="#" target="_blank" style="display: none;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
              View in Sheets
            </a>
            <div class="menu-divider"></div>
            <button onclick="showSplash(); closeNavMenu();">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              About this app
            </button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Left Sidebar Navigation -->
  <aside class="doc-sidebar" id="docSidebar">
    <div class="sidebar-chapter" onclick="toggleChapterDropdown(event)">
      <span class="sidebar-chapter-label" id="sidebarChapterLabel">Chapter 1</span>
      <h2 class="sidebar-chapter-title" id="sidebarChapterTitle">Foundation <svg class="chapter-chevron" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></h2>
    </div>
    <div class="chapter-dropdown" id="chapterDropdown">
      <a href="#philosophy" class="chapter-option" data-chapter="foundation" onclick="selectChapter('foundation', event)">Foundation</a>
      <a href="#logo" class="chapter-option" data-chapter="brand-essentials" onclick="selectChapter('brand-essentials', event)">Brand Essentials</a>
      <a href="#spacing" class="chapter-option" data-chapter="design-system" onclick="selectChapter('design-system', event)">Design System</a>
      <a href="#headshot-standards" class="chapter-option" data-chapter="more" onclick="selectChapter('more', event)">More</a>
      <a href="#roadmap" class="chapter-option" data-chapter="resources" onclick="selectChapter('resources', event)">Resources</a>
    </div>
    <nav class="sidebar-sections" id="sidebarSections">
      <a href="#philosophy" class="sidebar-section active" data-section="philosophy">Philosophy</a>
      <a href="#voice" class="sidebar-section" data-section="voice">Tone & Voice</a>
    </nav>
  </aside>

  <!-- Main Content Wrapper -->
  <div class="main-content-wrapper">

  <section class="hero" id="hero">
    <div class="container">
      <div class="hero-content">
        <div class="hero-label">Brand Guide</div>
        <h1>ENRG Brand Guide</h1>
        <p>Premium without pretension. Confidence without arrogance.</p>
      </div>
    </div>
  </section>

  <!-- Philosophy Section -->
  <section id="philosophy" data-category="Foundation" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Foundation</span>
        <h2 class="section-title" style="color: var(--black);">
          Brand Philosophy
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">The principles that shape how ENRG looks, feels, and sounds.</p>
      </div>

      <div class="section-content">
      <div class="philosophy-intro">
        <p>ENRG eliminates false choices. High splits or strong support? Independence or community? Virtual efficiency or personal touch? We deliver all of it. The brand must reflect this: premium without pretension, Confidence without arrogance, boutique at scale.</p>
      </div>

      <div class="philosophy-tagline">
        <div class="philosophy-tagline-content">
          <div class="philosophy-tagline-text">
            <span>Boutique support</span><span class="philosophy-tagline-dot"></span><span>Virtual freedom</span><span class="philosophy-tagline-dot"></span><span>National power</span>
          </div>
          <div class="philosophy-tagline-divider"></div>
          <div class="philosophy-tagline-sub">This is the ENRG promise, and the brand must embody it at every touchpoint.</div>
        </div>
      </div>

      <div class="grid grid-2 gap-lg" style="margin-top: 2rem;">
        <div class="card">
          <div class="philosophy-card-title">
            Expensive Simplicity
          </div>
          <p>Premium through restraint, not decoration. White space is a feature. Clean layouts feel confident, not cheap. Every element earns its place.</p>
        </div>
        <div class="card">
          <div class="philosophy-card-title">
            Empathetic + Direct
          </div>
          <p>Acknowledge real challenges, then offer concrete solutions with specific numbers. No corporate speak, no empty promises, no hedging.</p>
        </div>
        <div class="card">
          <div class="philosophy-card-title">
            Progressive Disclosure
          </div>
          <p>Start simple, reveal complexity on demand. Don't overwhelm. Let users drill into details when they're ready, not before.</p>
        </div>
        <div class="card">
          <div class="philosophy-card-title">
            Partnership, Not Sales
          </div>
          <p>We recruit partners, not targets. The brand reflects respect for successful people who don't need us but choose us anyway.</p>
        </div>
      </div>

      <div class="philosophy-principles">
        <div class="philosophy-principles-title">Core Design Principles</div>
        <div class="principles-grid">
          <div class="principle-item">
            <strong>Neutral-forward</strong>
            <span>90% white and gray. Color is for emphasis.</span>
          </div>
          <div class="principle-item">
            <strong>White space is a feature</strong>
            <span>Generous padding. Cramped layouts feel cheap.</span>
          </div>
          <div class="principle-item">
            <strong>One accent rules</strong>
            <span>Purple dominates. Orange appears rarely.</span>
          </div>
          <div class="principle-item">
            <strong>Dark mode is first-class</strong>
            <span>Both themes are intentional, not afterthoughts.</span>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Tone & Voice Section -->
  <section id="voice" data-category="Foundation" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Foundation</span>
        <h2 class="section-title" style="color: var(--black);">
          Tone & Voice
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">How we talk about ENRG. Empathetic + Direct.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-auto-300 gap-md">
        <div class="card">
          <div class="voice-card-title">Specificity Rules</div>
          <div class="voice-example">
            <div class="voice-do">Do</div>
            <div class="voice-text">"$15K cap" / "85/15 split" / "161% growth"</div>
          </div>
          <div class="voice-example">
            <div class="voice-dont">Don't</div>
            <div class="voice-text">"Low cap" / "Competitive split" / "Significant growth"</div>
          </div>
        </div>

        <div class="card">
          <div class="voice-card-title">Competitor References</div>
          <div class="voice-example">
            <div class="voice-do">Do</div>
            <div class="voice-text">"Competitors cap at 5-7 levels. ENRG has no limits."</div>
          </div>
          <div class="voice-example">
            <div class="voice-dont">Don't</div>
            <div class="voice-text">"Other brokerages have limited levels."</div>
          </div>
        </div>

        <div class="card">
          <div class="voice-card-title">Three-Part Rhythm</div>
          <div class="voice-example">
            <div class="voice-do">Do</div>
            <div class="voice-text">"Boutique support - Virtual freedom - National power."</div>
          </div>
          <div class="voice-example">
            <div class="voice-dont">Don't</div>
            <div class="voice-text">"We offer support, freedom, and power."</div>
          </div>
        </div>

        <div class="card">
          <div class="voice-card-title">False Choice Framing</div>
          <div class="voice-example">
            <div class="voice-do">Do</div>
            <div class="voice-text">"ENRG eliminates false choices: high splits or strong support."</div>
          </div>
          <div class="voice-example">
            <div class="voice-dont">Don't</div>
            <div class="voice-text">"We offer both good splits and support."</div>
          </div>
        </div>

        <div class="card">
          <div class="voice-card-title">Trademark Usage</div>
          <div class="voice-example">
            <div class="voice-do">First Use</div>
            <div class="voice-text">Connect & Thrive™, ENRG Boost™, ENRG SHINE™</div>
          </div>
          <div class="voice-example">
            <div class="voice-do">Subsequent</div>
            <div class="voice-text">Connect & Thrive, Boost, SHINE</div>
          </div>
        </div>

        <div class="card">
          <div class="voice-card-title">Memorable Shorthand</div>
          <div class="voice-example">
            <div class="voice-text">"+1 deal": MDM data advantage</div>
          </div>
          <div class="voice-example">
            <div class="voice-text">"boutique at scale": Personalized + national</div>
          </div>
          <div class="voice-example">
            <div class="voice-text">"infinite-level": No rev share cap</div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Logo Section -->
  <section id="logo" data-category="Brand Essentials" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Brand Essentials</span>
        <h2 class="section-title">
          Logo Usage
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Select a logo type, style, color, and size to preview.</p>
      </div>

      <div class="section-content">
      <div class="logo-picker">
        <div class="logo-controls">
          <div class="logo-control">
            <label>Type</label>
            <select id="logoType" onchange="updateLogoOptions()">
              <option value="primary_logo">ENRG Logo</option>
              <option value="secondary_logo">ENRG Symbol</option>
              <option value="wordmark">Wordmark (Full)</option>
              <option value="short_wordmark">Wordmark (Short)</option>
              <option value="tiny_wordmark">Wordmark (Tiny)</option>
            </select>
          </div>
          <div class="logo-control">
            <label>Style</label>
            <select id="logoStyle" onchange="updateColorOptions(); updateLogoPreview()">
              <option value="horizontal">Horizontal</option>
              <option value="stacked">Stacked</option>
            </select>
          </div>
          <div class="logo-control">
            <label>Color</label>
            <select id="logoColor" onchange="updateLogoPreview()">
              <option value="black_on_white">Black on White</option>
              <option value="white_on_black">White on Black</option>
              <option value="white_on_purple">White on Purple</option>
              <option value="black_transparent">Black (Transparent)</option>
              <option value="white_transparent">White (Transparent)</option>
            </select>
          </div>
          <div class="logo-control">
            <label>Size</label>
            <select id="logoSize" onchange="updateLogoPreview()">
              <option value="1x">1x</option>
              <option value="2x" selected>2x</option>
              <option value="3x">3x</option>
            </select>
          </div>
        </div>

        <div class="logo-preview-container">
          <div class="logo-preview-bg" id="logoPreviewBg">
            <div class="logo-loading hidden" id="logoLoading"><div class="logo-spinner"></div><span>Loading...</span></div>
            <iframe id="logoPreviewFrame" src="" style="display: none; border: none; width: 100%; height: 300px;"></iframe>
            <div id="logoUnavailable" class="logo-unavailable" style="display: none;">This combination is not available</div>
          </div>
        </div>

        <div class="logo-info">
          <div class="logo-filename" id="logoFilename">wordmark-black_on_white-horizontal-2x.png</div>
          <div class="logo-actions">
            <a id="logoOpenBtn" class="logo-btn logo-btn-primary" href="#" target="_blank">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
              Open in Google Drive
            </a>
            <a class="logo-btn logo-btn-secondary" href="https://drive.google.com/open?id=1ujg2TxukS7IzIfpOcedCLovZ-wDPnj9J" target="_blank">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
              View All Logos
            </a>
          </div>
        </div>

        <div class="logo-guidelines">
          <div class="logo-guideline">
            <div class="logo-guideline-title">Minimum Sizes</div>
            <div class="logo-guideline-text">Horizontal: 30px / 15mm | Stacked: 60px / 30mm | Symbol: 80px / 8mm</div>
          </div>
          <div class="logo-guideline">
            <div class="logo-guideline-title">Typography</div>
            <div class="logo-guideline-text">"Realty" uses Helvetica Neue LT Std</div>
          </div>
        </div>

        <!-- Logo Symbol Meaning -->
        <div style="background: var(--bg-elevated); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; margin-top: 2rem;">
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">
            The ENRG Symbol
          </h4>
          <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
            The ENRG Symbol consists of <strong>three horizontal bars</strong> forming the letter "E" with a dot, symbolizing:
          </p>
          <!-- Two-column layout: E bars on left, Dot on right -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <!-- Left column: The 3 E bars -->
            <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--purple-light);">
              <div style="display: flex; align-items: center; gap: 1rem;">
                <!-- E bars SVG -->
                <svg viewBox="0 0 60 90" style="width: 48px; height: 72px; flex-shrink: 0;">
                  <rect x="0" y="0" width="55" height="14" rx="2" fill="var(--purple-primary)"/>
                  <rect x="0" y="38" width="40" height="14" rx="2" fill="var(--purple-primary)"/>
                  <rect x="0" y="76" width="55" height="14" rx="2" fill="var(--purple-primary)"/>
                </svg>
                <!-- Labels -->
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                  <div style="font-size: 0.8125rem;"><strong style="color: var(--purple-primary);">Elevated</strong> <span style="color: var(--gray-mid);">(top bar)</span></div>
                  <div style="font-size: 0.8125rem;"><strong style="color: var(--purple-primary);">Evolution</strong> <span style="color: var(--gray-mid);">(middle bar)</span></div>
                  <div style="font-size: 0.8125rem;"><strong style="color: var(--purple-primary);">Energy</strong> <span style="color: var(--gray-mid);">(bottom bar)</span></div>
                </div>
              </div>
            </div>
            <!-- Right column: The Dot -->
            <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--purple-light);">
              <div style="display: flex; align-items: flex-start; gap: 1rem;">
                <!-- Dot SVG -->
                <svg viewBox="0 0 24 24" style="width: 24px; height: 24px; flex-shrink: 0; margin-top: 2px;">
                  <circle cx="12" cy="12" r="10" fill="var(--purple-primary)"/>
                </svg>
                <!-- Description -->
                <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
                  <strong style="color: var(--purple-primary);">The "Dot" Element</strong><br>
                  Separates "ENRG" and "realty" (ENRG<span style="color: var(--purple-primary); font-weight: 700;">.</span>realty), reinforcing balance and precision.
                </div>
              </div>
            </div>
          </div>
          <p style="font-size: 0.75rem; color: var(--gray-mid); line-height: 1.5; background: var(--white); padding: 0.75rem; border-radius: var(--radius-md); border: 1px solid var(--gray-light);">
            <strong>Note:</strong> In wordmark asset files, the dot matches the text color (black/white). As a <strong>brand accent</strong>, the orange dot (<span style="color: #FF6039;">#FF6039</span>) appears decoratively. It signals "this is ENRG" rather than "click here."
          </p>
        </div>

        <!-- Exclusion Zone -->
        <div style="background: var(--gray-pale); border-radius: var(--radius-xl); padding: 1.5rem; margin-top: 1.5rem; border: 1px solid var(--gray-light);">
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Exclusion Zone</h4>
          <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6;">
            To ensure legibility and impact, the logo must maintain sufficient space around it, free from competing elements.
          </p>
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; margin-top: 1rem; font-family: monospace; font-size: 0.8125rem; color: var(--purple-primary); border: 1px dashed var(--purple-light);">
            Exclusion zone = height of the wordmark <strong>OR</strong> half the height of the symbol
          </div>
        </div>

        <!-- Logo Placement -->
        <div style="margin-top: 2rem;">
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Approved Placement Locations</h4>
          <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1rem;">The logo can only be placed in one of five approved locations:</p>
          <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.75rem;">
            <div style="text-align: center; padding: 0.75rem 0.5rem; background: var(--gray-pale); border-radius: var(--radius-lg); border: 1px solid var(--gray-light);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width: 24px; height: 24px; color: var(--purple-primary); margin-bottom: 0.25rem;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="7" cy="7" r="2" fill="currentColor"/></svg>
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--gray-dark);">Top Left</div>
            </div>
            <div style="text-align: center; padding: 0.75rem 0.5rem; background: var(--gray-pale); border-radius: var(--radius-lg); border: 1px solid var(--gray-light);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width: 24px; height: 24px; color: var(--purple-primary); margin-bottom: 0.25rem;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="17" cy="7" r="2" fill="currentColor"/></svg>
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--gray-dark);">Top Right</div>
            </div>
            <div style="text-align: center; padding: 0.75rem 0.5rem; background: var(--gray-pale); border-radius: var(--radius-lg); border: 1px solid var(--gray-light);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width: 24px; height: 24px; color: var(--purple-primary); margin-bottom: 0.25rem;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="12" cy="12" r="2" fill="currentColor"/></svg>
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--gray-dark);">Centered</div>
            </div>
            <div style="text-align: center; padding: 0.75rem 0.5rem; background: var(--gray-pale); border-radius: var(--radius-lg); border: 1px solid var(--gray-light);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width: 24px; height: 24px; color: var(--purple-primary); margin-bottom: 0.25rem;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="7" cy="17" r="2" fill="currentColor"/></svg>
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--gray-dark);">Bottom Left</div>
            </div>
            <div style="text-align: center; padding: 0.75rem 0.5rem; background: var(--gray-pale); border-radius: var(--radius-lg); border: 1px solid var(--gray-light);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width: 24px; height: 24px; color: var(--purple-primary); margin-bottom: 0.25rem;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="17" cy="17" r="2" fill="currentColor"/></svg>
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--gray-dark);">Bottom Right</div>
            </div>
          </div>
        </div>

        <!-- Logo Misuse -->
        <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--gray-light);">
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">
            Logo Misuse
          </h4>
          <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1rem;">The logo should never be modified, misinterpreted, or added to. No exceptions.</p>
          <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.75rem;">
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Bevel or emboss</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Stretch or distort</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Outline the logo</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Add drop shadow</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Add gradient fill</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Rearrange elements</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Rotate the logo</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Multiply</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Holding shape</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Unapproved colors</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Lock-up text</div>
            </div>
            <div style="text-align: center; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-lg); border: 1px solid var(--color-danger-border);">
              <div style="font-size: 0.6875rem; font-weight: 500; color: var(--red);">Change components</div>
            </div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Colors Section -->
  <section id="colors" data-category="Brand Essentials" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Brand Essentials</span>
        <h2 class="section-title" style="color: var(--black);">
          Color Palette
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Purple dominates. Orange appears rarely for emphasis.</p>
      </div>

      <div class="section-content">
      <div class="callout" data-bg="white">
        <strong>Official Color Palette:</strong> These colors are from the official ENRG.realty Brand Guidelines. ENRG uses a <strong>two-purple system</strong> for visual depth and hierarchy.
      </div>

      <!-- Two-Purple System -->
      <div style="background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; padding: 1.25rem; margin-bottom: 2rem;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">
          The Two-Purple System
        </div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
          ENRG uses two complementary purples with distinct roles: <strong>Purple 500</strong> is the hero purple for logos, headlines, and marketing CTAs. <strong>Purple 800</strong> provides depth for dark backgrounds and UI surfaces.
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
          <div style="text-align: center;">
            <button style="background: #6021E6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: var(--radius-lg); font-weight: 600; font-size: 0.875rem; cursor: pointer;">Purple 500</button>
            <div style="font-size: 0.6875rem; color: var(--gray-mid); margin-top: 0.5rem;">Hero purple: logos, headlines, marketing</div>
          </div>
          <div style="text-align: center;">
            <button style="background: #290080; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: var(--radius-lg); font-weight: 600; font-size: 0.875rem; cursor: pointer;">Purple 800</button>
            <div style="font-size: 0.6875rem; color: var(--gray-mid); margin-top: 0.5rem;">Depth purple: backgrounds, UI surfaces</div>
          </div>
        </div>
      </div>

      <div class="color-group">
        <div class="color-group-title">Purple Scale (Primary)</div>
        <div class="grid grid-5 gap-sm">
          <div class="color-swatch"><div class="swatch-color" style="background: #1E005E;"></div><div class="swatch-info"><div class="swatch-name">Purple 900</div><div class="swatch-hex">#1E005E</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #290080;"></div><div class="swatch-info"><div class="swatch-name">Purple 800</div><div class="swatch-hex">#290080</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #3604A2;"></div><div class="swatch-info"><div class="swatch-name">Purple 700</div><div class="swatch-hex">#3604A2</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #4A10C4;"></div><div class="swatch-info"><div class="swatch-name">Purple 600</div><div class="swatch-hex">#4A10C4</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #6021E6;"></div><div class="swatch-info"><div class="swatch-name">Purple 500</div><div class="swatch-hex">#6021E6</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #7534FF;"></div><div class="swatch-info"><div class="swatch-name">Purple 400</div><div class="swatch-hex">#7534FF</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #9461FF;"></div><div class="swatch-info"><div class="swatch-name">Purple 300</div><div class="swatch-hex">#9461FF</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #B38FFF;"></div><div class="swatch-info"><div class="swatch-name">Purple 200</div><div class="swatch-hex">#B38FFF</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #D2BDFF;"></div><div class="swatch-info"><div class="swatch-name">Purple 100</div><div class="swatch-hex">#D2BDFF</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #F1EAFF;"></div><div class="swatch-info"><div class="swatch-name">Purple 50</div><div class="swatch-hex">#F1EAFF</div></div></div>
        </div>
      </div>

      <div class="color-group">
        <div class="color-group-title">Orange Scale (Secondary Accent)</div>
        <div class="grid grid-5 gap-sm">
          <div class="color-swatch"><div class="swatch-color" style="background: #551100;"></div><div class="swatch-info"><div class="swatch-name">Orange 900</div><div class="swatch-hex">#551100</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #771902;"></div><div class="swatch-info"><div class="swatch-name">Orange 800</div><div class="swatch-hex">#771902</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #99270A;"></div><div class="swatch-info"><div class="swatch-name">Orange 700</div><div class="swatch-hex">#99270A</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #BB3716;"></div><div class="swatch-info"><div class="swatch-name">Orange 600</div><div class="swatch-hex">#BB3716</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #DD4A26;"></div><div class="swatch-info"><div class="swatch-name">Orange 500</div><div class="swatch-hex">#DD4A26</div></div></div>
          <div class="color-swatch" style="border: 2px solid var(--orange);"><div class="swatch-color" style="background: #FF6039;"></div><div class="swatch-info"><div class="swatch-name">Orange 400 <span style="color: var(--orange); font-size: 0.6rem; font-weight: 600;">BRAND</span></div><div class="swatch-hex">#FF6039</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #FF8465;"></div><div class="swatch-info"><div class="swatch-name">Orange 300</div><div class="swatch-hex">#FF8465</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #FFA792;"></div><div class="swatch-info"><div class="swatch-name">Orange 200</div><div class="swatch-hex">#FFA792</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #FFCBBE;"></div><div class="swatch-info"><div class="swatch-name">Orange 100</div><div class="swatch-hex">#FFCBBE</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #FFEFEB; border: 1px solid #FFCBBE;"></div><div class="swatch-info"><div class="swatch-name">Orange 50</div><div class="swatch-hex">#FFEFEB</div></div></div>
        </div>
      </div>

      <!-- Orange: The Signature Accent -->
      <div style="background: linear-gradient(135deg, var(--orange-light) 0%, #fff5f0 100%); border: 1px solid var(--orange); border-radius: var(--radius-xl); padding: 1.5rem; margin: 2rem 0;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--orange); margin-bottom: 0.75rem;">
          Orange: The Signature Accent
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">The Signature Dot</div>
            <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              Orange (<code>#FF6039</code>) is reserved for the dot in "ENRG<span style="color: var(--orange);">.</span>realty" and rare decorative accents.
            </div>
          </div>
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Usage Principle</div>
            <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              <strong>Purple dominates</strong>; orange punctuates. The dot signals "this is ENRG," not "click here."
            </div>
          </div>
        </div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; padding: 0.75rem; background: var(--white); border-radius: var(--radius-md); border-left: 3px solid var(--purple-primary);">
          <strong>Reason:</strong> Purple maintains the premium, sophisticated feel of the brand. Orange as a rare accent creates more impact when it appears. It signals "special" rather than "clickable."
        </div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; padding: 0.75rem; background: var(--white); border-radius: var(--radius-md); border-left: 3px solid var(--orange); margin-top: 0.75rem;">
          <strong>In the Wild:</strong> The founder's LinkedIn banner demonstrates this pattern perfectly: a deep purple background with "ENRG.realty" in white, and a single orange dot as the only accent. The tagline reads: <em>"Boutique by design. Virtual by choice. Innovative by nature."</em> Orange appears once, intentionally, as the distinctive dot element.
        </div>
      </div>

      <!-- Gradients: Sparing Use -->
      <div style="background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; margin: 2rem 0;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">
          Gradients: Sparing Use
        </div>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
          Gradients are permitted but must be used sparingly. They add depth and premium feel to hero moments, not everyday containers.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">When to Use</div>
            <ul style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin: 0; padding-left: 1rem;">
              <li>Hero banners and brand promise statements</li>
              <li>High-impact containers needing visual weight</li>
              <li>Depth elements requiring premium feel</li>
            </ul>
          </div>
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Never Use</div>
            <ul style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin: 0; padding-left: 1rem;">
              <li>Body content areas or standard cards</li>
              <li>Navigation elements or form inputs</li>
              <li>Rainbow, multi-hue, or distracting patterns</li>
            </ul>
          </div>
        </div>
        
        <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Approved Gradient Recipes</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Primary Hero Gradient</div>
            <div style="height: 48px; border-radius: var(--radius-md); background: linear-gradient(135deg, var(--purple-primary) 0%, #4A1D6A 50%, #2D1040 100%); margin-bottom: 0.5rem;"></div>
            <code style="font-size: 0.6875rem; color: var(--gray-mid); word-break: break-all;">linear-gradient(135deg, purple-800 0%, #4A1D6A 50%, #2D1040 100%)</code>
          </div>
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Subtle Depth Overlay</div>
            <div style="height: 48px; border-radius: var(--radius-md); background: var(--purple-primary); position: relative; overflow: hidden; margin-bottom: 0.5rem;">
              <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.08) 0%, transparent 50%);"></div>
            </div>
            <code style="font-size: 0.6875rem; color: var(--gray-mid); word-break: break-all;">radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.08) 0%, transparent 50%)</code>
          </div>
        </div>
        
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; padding: 0.75rem; background: var(--white); border-radius: var(--radius-md); border-left: 3px solid var(--purple-primary);">
          <strong>Rule:</strong> Gradients must be monochromatic (purple-to-deeper-purple only). 135-degree angle is standard. Subtle light overlays are permitted for added depth and dimension.
        </div>
      </div>

      <!-- Card Patterns: Standard Style -->
      <div style="background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; margin: 2rem 0;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">
          Card Patterns: Standard Style
        </div>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
          Cards use the <strong>Borderless with Shadow</strong> pattern. No borders, soft layered shadows, and subtle hover lift for premium feel.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Base State</div>
            <ul style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin: 0; padding-left: 1rem;">
              <li>Background: <code>var(--bg-surface)</code></li>
              <li>Border: none</li>
              <li>Border-radius: 12px</li>
              <li>Padding: 1.75rem</li>
              <li>Shadow: <code>0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04)</code></li>
            </ul>
          </div>
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Hover State</div>
            <ul style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin: 0; padding-left: 1rem;">
              <li>Transform: <code>translateY(-2px)</code></li>
              <li>Shadow: <code>0 4px 12px rgba(0,0,0,0.1), 0 8px 24px rgba(0,0,0,0.06)</code></li>
              <li>Transition: 0.2s ease</li>
            </ul>
          </div>
        </div>
        
        <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Live Example</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
          <div style="background: var(--bg-surface); border: none; border-radius: var(--radius-xl); padding: 1.25rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.1), 0 8px 24px rgba(0,0,0,0.06)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04)';">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.25rem;">Example Card</div>
            <div style="font-size: 0.8125rem; color: var(--gray-dark);">Hover to see the lift effect.</div>
          </div>
          <div style="background: var(--bg-surface); border: none; border-radius: var(--radius-xl); padding: 1.25rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.1), 0 8px 24px rgba(0,0,0,0.06)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04)';">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.25rem;">Another Card</div>
            <div style="font-size: 0.8125rem; color: var(--gray-dark);">Soft shadows, no borders.</div>
          </div>
        </div>
        
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; padding: 0.75rem; background: var(--white); border-radius: var(--radius-md); border-left: 3px solid var(--purple-primary);">
          <strong>Why this pattern:</strong> Borderless cards with layered shadows feel more modern and premium than bordered cards. The subtle hover lift provides clear interactive feedback without being distracting.
        </div>
      </div>

      <!-- Icon Button Patterns: Hover States -->
      <div style="background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; margin: 2rem 0;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">
          Icon Button Patterns: Hover States
        </div>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
          Icon buttons use <strong>colorless hover states</strong> by default. Red is the <strong>only exception</strong>, reserved exclusively for destructive actions like delete.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.5rem;">Default Hover</div>
            <ul style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin: 0; padding-left: 1rem;">
              <li>Background: <code>var(--gray-pale)</code></li>
              <li>Icon color: <code>var(--gray-dark)</code></li>
              <li>Use for: Edit, resolve, settings, etc.</li>
            </ul>
          </div>
          <div style="background: var(--white); border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--gray-light);">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--color-danger); margin-bottom: 0.5rem;">Destructive Hover</div>
            <ul style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin: 0; padding-left: 1rem;">
              <li>Background: <code>var(--color-danger-bg)</code></li>
              <li>Icon color: <code>var(--color-danger)</code></li>
              <li>Use for: Delete, remove, destroy only</li>
            </ul>
          </div>
        </div>
        
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; padding: 0.75rem; background: var(--white); border-radius: var(--radius-md); border-left: 3px solid var(--purple-primary);">
          <strong>Philosophy:</strong> When red is the only color in the UI, it becomes a genuine warning signal rather than competing with other semantic colors. Do NOT use green for "success" actions or purple for "edit." Colorless is cleaner.
        </div>
      </div>

      <div class="color-group">
        <div class="color-group-title">Core Neutrals</div>
        <div class="grid grid-5 gap-sm">
          <div class="color-swatch"><div class="swatch-color" style="background: #111111;"></div><div class="swatch-info"><div class="swatch-name">Black</div><div class="swatch-hex">#111111</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #374151;"></div><div class="swatch-info"><div class="swatch-name">Gray Dark</div><div class="swatch-hex">#374151</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #6B7280;"></div><div class="swatch-info"><div class="swatch-name">Gray Mid</div><div class="swatch-hex">#6B7280</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #E5E7EB;"></div><div class="swatch-info"><div class="swatch-name">Gray Light</div><div class="swatch-hex">#E5E7EB</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #F9FAFB;"></div><div class="swatch-info"><div class="swatch-name">Gray Pale</div><div class="swatch-hex">#F9FAFB</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #FFFFFF; border: 1px solid #E5E7EB;"></div><div class="swatch-info"><div class="swatch-name">White</div><div class="swatch-hex">#FFFFFF</div></div></div>
        </div>
      </div>

      <div class="color-group">
        <div class="color-group-title">Semantic Colors</div>
        <div class="grid grid-5 gap-sm">
          <div class="color-swatch"><div class="swatch-color" style="background: #10B981;"></div><div class="swatch-info"><div class="swatch-name">Success</div><div class="swatch-hex">#10B981</div></div></div>
          <div class="color-swatch"><div class="swatch-color" style="background: #F43F5E;"></div><div class="swatch-info"><div class="swatch-name">Error</div><div class="swatch-hex">#F43F5E</div></div></div>
        </div>
      </div>

      <!-- Print Specifications -->
      <div style="margin: 3rem 0; padding: 2rem; background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl);">
        <h4 style="font-size: 1.125rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 1rem;">Print Specifications</h4>
        <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1.5rem;">For physical materials requiring precise color matching. Always verify with your print vendor using PMS spot colors for critical brand applications.</p>

        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">HEX</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">CMYK</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">PMS</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 24px; height: 24px; background: #6021E6; border-radius: var(--radius-sm);"></div>
                    Purple 500
                  </div>
                </td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; color: var(--gray-dark);">#6021E6</td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; font-size: 0.75rem; color: var(--gray-dark);">76 / 80 / 0 / 0</td>
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--purple-primary);">2097 C</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 24px; height: 24px; background: #290080; border-radius: var(--radius-sm);"></div>
                    Purple 800
                  </div>
                </td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; color: var(--gray-dark);">#290080</td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; font-size: 0.75rem; color: var(--gray-dark);">100 / 100 / 0 / 50</td>
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--purple-primary);">2685 C</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 24px; height: 24px; background: #FF6039; border-radius: var(--radius-sm);"></div>
                    Orange
                  </div>
                </td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; color: var(--gray-dark);">#FF6039</td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; font-size: 0.75rem; color: var(--gray-dark);">0 / 62 / 78 / 0</td>
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: #FF6039;">Orange 021 C</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 24px; height: 24px; background: #111111; border-radius: var(--radius-sm); border: 1px solid #E5E7EB;"></div>
                    Black
                  </div>
                </td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; color: var(--gray-dark);">#111111</td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; font-size: 0.75rem; color: var(--gray-dark);">75 / 68 / 67 / 90</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-mid);">—</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 24px; height: 24px; background: #FFFFFF; border-radius: var(--radius-sm); border: 1px solid #E5E7EB;"></div>
                    White
                  </div>
                </td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; color: var(--gray-dark);">#FFFFFF</td>
                <td style="padding: 0.75rem 1rem; font-family: monospace; font-size: 0.75rem; color: var(--gray-dark);">0 / 0 / 0 / 0</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-mid);">—</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div style="margin-top: 1rem; padding: 0.75rem 1rem; background: var(--white); border-radius: var(--radius-md); font-size: 0.75rem; color: var(--gray-dark); border-left: 3px solid var(--purple-primary);">
          <strong>Note:</strong> Print CMYK values are approximate. Always verify with your print vendor using PMS spot colors for critical brand applications.
        </div>
      </div>

      <!-- Purple 500 vs 800: Decision Tree -->
      <div style="margin: 3rem 0; padding: 2rem; background: var(--white); border: 2px solid var(--purple-light); border-radius: var(--radius-xl);">
        <h4 style="font-size: 1.125rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Purple 500 vs 800: Quick Decision Guide</h4>
        <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 2rem;">Choose the right purple for your context. Purple 500 is for brand expression, Purple 800 is for UI depth.</p>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
          <!-- Purple 500 (Hero) Card -->
          <div style="background: linear-gradient(135deg, #6021E6 0%, #7534FF 100%); border-radius: var(--radius-lg); padding: 1.5rem; color: white; position: relative;">
            <div style="position: absolute; top: -12px; right: 12px; background: var(--orange); color: white; font-size: 0.625rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; padding: 0.25rem 0.75rem; border-radius: var(--radius-pill);">Hero</div>

            <div style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">#6021E6</div>
            <div style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; opacity: 0.9;">Purple 500</div>

            <div style="font-size: 0.8125rem; font-weight: 600; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; opacity: 0.8;">Use when:</div>
            <div style="display: grid; gap: 0.5rem; font-size: 0.8125rem; line-height: 1.5;">
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Logo is visible</div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Marketing context (website hero, social graphics)</div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Print materials (business cards, signage)</div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Brand-forward CTAs</div>
              </div>
            </div>

            <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.2);">
              <div style="font-size: 0.75rem; font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px; opacity: 0.8;">Examples:</div>
              <div style="font-size: 0.75rem; line-height: 1.6; opacity: 0.9;">Logo backgrounds, hero headlines, marketing CTAs, brand accents, social media graphics</div>
            </div>
          </div>

          <!-- Purple 800 (Depth) Card -->
          <div style="background: linear-gradient(135deg, #290080 0%, #3604A2 100%); border-radius: var(--radius-lg); padding: 1.5rem; color: white; position: relative;">
            <div style="position: absolute; top: -12px; right: 12px; background: var(--purple-light); color: var(--purple-primary); font-size: 0.625rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; padding: 0.25rem 0.75rem; border-radius: var(--radius-pill);">Depth</div>

            <div style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">#290080</div>
            <div style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; opacity: 0.9;">Purple 800</div>

            <div style="font-size: 0.8125rem; font-weight: 600; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; opacity: 0.8;">Use when:</div>
            <div style="display: grid; gap: 0.5rem; font-size: 0.8125rem; line-height: 1.5;">
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Dark background needed</div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>UI depth layers</div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Light mode primary buttons</div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <div>Navigation bars</div>
              </div>
            </div>

            <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.2);">
              <div style="font-size: 0.75rem; font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px; opacity: 0.8;">Examples:</div>
              <div style="font-size: 0.75rem; line-height: 1.6; opacity: 0.9;">Dark sections, card backgrounds, modal overlays, UI buttons, navigation headers</div>
            </div>
          </div>
        </div>

        <!-- Rule of Thumb -->
        <div style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0;">
          <div style="display: flex; align-items: center; gap: 1rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--purple-primary); flex-shrink: 0;">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 16v-4"/>
              <path d="M12 8h.01"/>
            </svg>
            <div>
              <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.25rem;">Rule of Thumb</div>
              <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
                Purple 500 for <strong>brand expression</strong>, Purple 800 for <strong>UI depth</strong>. When in doubt, ask: "Is this a marketing moment or a functional interface?" Marketing = 500, Interface = 800.
              </div>
            </div>
          </div>
        </div>

        <!-- Purple 200 for Dark Mode -->
        <div style="margin-top: 1rem; padding: 1rem 1.5rem; background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: var(--radius-lg);">
          <div style="display: flex; align-items: center; gap: 1rem;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#6B7280" stroke-width="2" style="flex-shrink: 0;">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
            <div style="font-size: 0.8125rem; line-height: 1.6; color: #374151;">
              <strong style="color: #B38FFF;">Purple 200 (#B38FFF)</strong> for dark mode primary buttons, links, and focus states. Softer and more comfortable on dark backgrounds than Purple 400.
            </div>
          </div>
        </div>
      </div>

      <!-- Color in Context -->
      <div class="color-context">
        <h3 class="color-context-title">Color in Context</h3>
        <p class="color-context-subtitle">ENRG design is <strong>neutral-forward</strong>: whites and grays dominate the canvas, while purple appears sparingly for emphasis. Purple 500 is the hero purple for branded moments; Purple 800 provides depth in UI surfaces. Orange is reserved for special moments.</p>

        <!-- Usage Examples -->
        <div class="grid grid-auto-280 gap-md">
          <!-- Purple 900 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #1E005E;"></div>
              <div>
                <div class="usage-card-title">Purple 900</div>
                <div class="usage-card-var">--purple-900</div>
              </div>
            </div>
            <div class="usage-demo-area" style="background: #1E005E;">
              <span class="demo-text" style="color: white;">Dark backgrounds</span>
            </div>
            <div class="usage-description">Hero sections, footer backgrounds, dark mode surfaces. Deepest purple for maximum contrast.</div>
            <div class="usage-examples">Used in: Navbar, hero backgrounds, modal overlays</div>
            <div class="usage-contrast"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> White text: 17.12:1 (AAA)</div>
          </div>

          <!-- Purple 800 (DEPTH) -->
          <div class="card card--compact" style="border: 2px solid var(--purple-light);">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #290080;"></div>
              <div>
                <div class="usage-card-title">Purple 800 <span style="color: var(--purple-primary); font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; margin-left: 0.5rem;">Depth</span></div>
                <div class="usage-card-var">--purple-800 / --purple-primary</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <button class="demo-btn" data-color="800">UI Button</button>
            </div>
            <div class="usage-description">Dark backgrounds, UI surfaces, overlays. Provides depth and sophistication in interfaces.</div>
            <div class="usage-examples">Used in: Dark sections, card backgrounds, modal overlays, UI buttons</div>
            <div class="usage-contrast"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> White text: 12.63:1 (AAA)</div>
          </div>

          <!-- Purple 700 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #3604A2;"></div>
              <div>
                <div class="usage-card-title">Purple 700</div>
                <div class="usage-card-var">--purple-700</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <button class="demo-btn" data-color="700">Hover State</button>
            </div>
            <div class="usage-description">Hover states on Purple 800 buttons. Also used for gradient midpoints.</div>
            <div class="usage-examples">Used in: Button :hover, pressed states, progress indicators</div>
          </div>

          <!-- Purple 600 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #4A10C4;"></div>
              <div>
                <div class="usage-card-title">Purple 600</div>
                <div class="usage-card-var">--purple-600 / --purple-mid</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <button class="demo-btn" data-color="600">Secondary Action</button>
            </div>
            <div class="usage-description">Secondary buttons, less prominent interactive elements.</div>
            <div class="usage-examples">Used in: Secondary CTAs, toggle switches, selection rings</div>
          </div>

          <!-- Purple 500 (HERO) -->
          <div class="card card--compact" style="border: 2px solid var(--orange);">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #6021E6;"></div>
              <div>
                <div class="usage-card-title">Purple 500 <span style="color: var(--orange); font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; margin-left: 0.5rem;">Hero</span></div>
                <div class="usage-card-var">--purple-500</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-text" style="color: #6021E6; font-weight: 600;">Headlines & Logos</span>
            </div>
            <div class="usage-description">The hero purple. Used for logos, headlines, marketing CTAs, and branded moments.</div>
            <div class="usage-examples">Used in: Logo backgrounds, hero headlines, marketing CTAs, brand accents</div>
            <div class="usage-contrast"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> On white: 5.27:1 (AA)</div>
          </div>

          <!-- Purple 400 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #7534FF;"></div>
              <div>
                <div class="usage-card-title">Purple 400</div>
                <div class="usage-card-var">--purple-400</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-badge" style="background: #7534FF; color: white;">Active</span>
            </div>
            <div class="usage-description">Vibrant accent for badges, icons, and decorative elements.</div>
            <div class="usage-examples">Used in: Status badges, notification dots, chart highlights</div>
          </div>

          <!-- Purple 300 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #9461FF;"></div>
              <div>
                <div class="usage-card-title">Purple 300</div>
                <div class="usage-card-var">--purple-300 / --purple-light</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-text" style="color: #9461FF;">Decorative accents</span>
            </div>
            <div class="usage-description">Subtle borders, disabled states, placeholder text on dark backgrounds.</div>
            <div class="usage-examples">Used in: Dividers, subtle icons, secondary text</div>
          </div>

          <!-- Purple 200 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #B38FFF;"></div>
              <div>
                <div class="usage-card-title">Purple 200</div>
                <div class="usage-card-var">--purple-200</div>
              </div>
            </div>
            <div class="usage-demo-area" style="background: #1E005E;">
              <span class="demo-text" style="color: #B38FFF;">Text on dark</span>
            </div>
            <div class="usage-description">Secondary text on dark backgrounds, soft glows, skeleton loading.</div>
            <div class="usage-examples">Used in: Subtext on dark, loading states, soft shadows</div>
          </div>

          <!-- Purple 100 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #D2BDFF; border: 1px solid #9461FF;"></div>
              <div>
                <div class="usage-card-title">Purple 100</div>
                <div class="usage-card-var">--purple-100</div>
              </div>
            </div>
            <div class="usage-demo-area" style="background: #D2BDFF;">
              <span class="demo-badge" style="background: #D2BDFF; color: #290080;">Tag</span>
            </div>
            <div class="usage-description">Light badge backgrounds, selected row highlights, soft tint surfaces.</div>
            <div class="usage-examples">Used in: Tag backgrounds, selected states, hover tints</div>
          </div>

          <!-- Purple 50 -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #F1EAFF; border: 1px solid #D2BDFF;"></div>
              <div>
                <div class="usage-card-title">Purple 50</div>
                <div class="usage-card-var">--purple-50 / --purple-pale</div>
              </div>
            </div>
            <div class="usage-demo-area" style="background: #F1EAFF;">
              <span class="demo-badge" style="background: white; color: #290080; border: 1px solid #D2BDFF;">Code Block</span>
            </div>
            <div class="usage-description">Lightest purple. Background tint for cards, code blocks, section backgrounds.</div>
            <div class="usage-examples">Used in: Page backgrounds, card surfaces, input backgrounds</div>
          </div>

          <!-- Orange -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #FF6039;"></div>
              <div>
                <div class="usage-card-title">Orange</div>
                <div class="usage-card-var">--orange</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-badge" style="background: #FF6039; color: white;">Featured</span>
            </div>
            <div class="usage-description">Secondary accent. Section dividers, "new" badges, promotional highlights. Use sparingly.</div>
            <div class="usage-examples">Used in: Section underlines, promo badges, accent icons</div>
          </div>
        </div>

        <!-- Neutrals Section -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin: 2rem 0 0.5rem; padding-top: 2rem; border-top: 1px solid var(--gray-light);">Neutrals: The Foundation</h4>
        <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1.5rem;">90% of the interface is neutral. Whites and grays create breathing room, letting purple moments truly pop. This neutral-forward approach embodies "expensive simplicity."</p>

        <div class="grid grid-auto-280 gap-md">
          <!-- White -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #FFFFFF; border: 1px solid #E5E7EB;"></div>
              <div>
                <div class="usage-card-title">White</div>
                <div class="usage-card-var">--white / --bg</div>
              </div>
            </div>
            <div class="usage-demo-area" style="background: #FFFFFF; border: 1px solid var(--gray-light);">
              <div class="demo-card" style="font-size: 0.75rem;">Card on white</div>
            </div>
            <div class="usage-description">Page backgrounds, card surfaces, modal backgrounds. The primary canvas for all content.</div>
            <div class="usage-examples">Used in: Page backgrounds, cards, modals, inputs</div>
          </div>

          <!-- Gray Pale -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #F9FAFB; border: 1px solid #E5E7EB;"></div>
              <div>
                <div class="usage-card-title">Gray Pale</div>
                <div class="usage-card-var">--gray-pale / --bg-elevated</div>
              </div>
            </div>
            <div class="usage-demo-area" style="background: #F9FAFB;">
              <span class="demo-nav-item" style="background: #F9FAFB; border: 1px solid #E5E7EB; font-size: 0.75rem;">Hover state</span>
            </div>
            <div class="usage-description">Elevated surfaces, hover states, alternating row backgrounds. Adds subtle depth.</div>
            <div class="usage-examples">Used in: Table rows, hover states, nested cards</div>
          </div>

          <!-- Gray Light -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #E5E7EB;"></div>
              <div>
                <div class="usage-card-title">Gray Light</div>
                <div class="usage-card-var">--gray-light / --border</div>
              </div>
            </div>
            <div class="usage-demo-area" style="border-bottom: 2px solid #E5E7EB; padding-bottom: 1.5rem;">
              <span class="demo-text" style="font-size: 0.75rem; color: var(--gray-dark);">Border & dividers</span>
            </div>
            <div class="usage-description">Card borders, dividers, subtle separators. Creates structure without distraction.</div>
            <div class="usage-examples">Used in: Card borders, hr lines, input borders</div>
          </div>

          <!-- Gray Mid -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #6B7280;"></div>
              <div>
                <div class="usage-card-title">Gray Mid</div>
                <div class="usage-card-var">--gray-mid / --text-muted</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-text" style="color: #6B7280; font-size: 0.75rem;">Placeholder text</span>
            </div>
            <div class="usage-description">Muted text, placeholders, timestamps, metadata. Secondary information hierarchy.</div>
            <div class="usage-examples">Used in: Timestamps, placeholders, helper text</div>
          </div>

          <!-- Gray Dark -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #374151;"></div>
              <div>
                <div class="usage-card-title">Gray Dark</div>
                <div class="usage-card-var">--gray-dark / --text-secondary</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-text" style="color: #374151; font-size: 0.875rem;">Secondary text</span>
            </div>
            <div class="usage-description">Body text, descriptions, secondary content. Readable but not attention-grabbing.</div>
            <div class="usage-examples">Used in: Body text, descriptions, labels</div>
          </div>

          <!-- Black -->
          <div class="card card--compact">
            <div class="usage-card-header">
              <div class="usage-color-pip" style="background: #111111;"></div>
              <div>
                <div class="usage-card-title">Black</div>
                <div class="usage-card-var">--black / --text</div>
              </div>
            </div>
            <div class="usage-demo-area">
              <span class="demo-text" style="color: #111111; font-size: 1rem; font-weight: 600;">Headlines</span>
            </div>
            <div class="usage-description">Headlines, titles, primary text. Maximum contrast for key content.</div>
            <div class="usage-examples">Used in: H1-H3, card titles, primary labels</div>
          </div>
        </div>
      </div>

      <!-- Dark Mode Showcase -->
      <div class="color-context" style="margin-top: 3rem; padding-top: 3rem; border-top: 1px solid var(--gray-light);">
        <h3 class="color-context-title">Dark Mode Colors</h3>
        <p class="color-context-subtitle">Dark mode uses clean grays, not purple tints. Purple 400 becomes the primary accent.</p>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1.5rem;">
          <!-- Light Mode -->
          <div style="background: var(--white); border: 1px solid var(--gray-light); border-radius: var(--radius-xl); padding: 1.25rem;">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 1rem;">Light Mode</div>
            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #FFFFFF; border: 1px solid #E5E7EB; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: var(--gray-dark);">Background: #FFFFFF</span>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: var(--gray-dark);">Surface: #F9FAFB</span>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #290080; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: var(--gray-dark);">Hero: #6021E6 (500) | Depth: #290080 (800)</span>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #111111; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: var(--gray-dark);">Text: #111111</span>
              </div>
            </div>
          </div>

          <!-- Dark Mode -->
          <div style="background: #0f0f0f; border: 1px solid #333333; border-radius: var(--radius-xl); padding: 1.25rem;">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: #888888; margin-bottom: 1rem;">Dark Mode</div>
            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #0f0f0f; border: 1px solid #333333; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: #cccccc;">Background: #0f0f0f</span>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #1a1a1a; border: 1px solid #333333; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: #cccccc;">Surface: #1a1a1a</span>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #B38FFF; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: #cccccc;">Primary: #B38FFF (200)</span>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 24px; height: 24px; background: #f0f0f0; border-radius: var(--radius-sm);"></div>
                <span style="font-size: 0.75rem; color: #cccccc;">Text: #f0f0f0</span>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 1rem; padding: 0.75rem 1rem; background: var(--gray-pale); border-radius: var(--radius-md); font-size: 0.75rem; color: var(--gray-dark);">
          <strong>Key shift:</strong> Purple 800 is too dark for dark mode backgrounds. Purple 200 provides comfortable contrast without harsh brightness.
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Typography Section -->
  <section id="typography" data-category="Brand Essentials" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Brand Essentials</span>
        <h2 class="section-title" style="color: var(--black);">
          Typography
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Two contexts, two typefaces.</p>
      </div>

      <div class="section-content">
      <!-- Typography Rationale -->
      <div style="background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); padding: 1rem 1.25rem; margin-bottom: 2rem; border-radius: 0 var(--radius-lg) var(--radius-lg) 0;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Why Two Fonts?</div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
          <strong>Plus Jakarta Sans</strong> is the brand typeface: warm, distinctive, and premium. It shines on the website, marketing materials, and anywhere ENRG needs to make a first impression.
          <br><br>
          <strong>Inter</strong> is optimized for screen legibility at small sizes. It's the industry standard for dashboards, data-dense interfaces, and tools (used by Linear, Notion, Figma). For internal apps where clarity trumps personality, Inter delivers.
        </div>
      </div>

      <div class="grid grid-auto-280 gap-md">
        <div class="card">
          <div class="font-card-title">Brand & Marketing</div>
          <div class="font-name" style="font-family: 'Plus Jakarta Sans', sans-serif;">Plus Jakarta Sans</div>
          <div class="font-use">Website, marketing materials, external docs, presentations</div>
          <div class="font-weights">Weights: Light (300), Regular (400), Medium (500), SemiBold (600), Bold (700)</div>
          <a class="font-download" href="https://www.fontshare.com/fonts/plus-jakarta-sans" target="_blank">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Download Font
          </a>
        </div>
        <div class="card">
          <div class="font-card-title">Tools & Apps</div>
          <div class="font-name" style="font-family: 'Inter', sans-serif;">Inter</div>
          <div class="font-use">Discovery Guide, validators, internal tools, dashboards</div>
          <div class="font-weights">Weights: 400, 500, 600, 700</div>
          <a class="font-download" href="https://fonts.google.com/specimen/Inter" target="_blank">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Download Font
          </a>
        </div>
      </div>

      <!-- Official Type Hierarchy from Brand Guidelines -->
      <div style="background: var(--gray-pale); border-radius: var(--radius-xl); padding: 1.5rem; margin-top: 2rem; border: 1px solid var(--gray-light);">
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Official Type Hierarchy (ENRG Brand Guidelines)</h4>
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem;">
            <thead>
              <tr style="border-bottom: 2px solid var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; color: var(--gray-mid); font-weight: 600; text-transform: uppercase; font-size: 0.6875rem; letter-spacing: 0.05em;">Level</th>
                <th style="text-align: left; padding: 0.75rem 1rem; color: var(--gray-mid); font-weight: 600; text-transform: uppercase; font-size: 0.6875rem; letter-spacing: 0.05em;">Weight</th>
                <th style="text-align: left; padding: 0.75rem 1rem; color: var(--gray-mid); font-weight: 600; text-transform: uppercase; font-size: 0.6875rem; letter-spacing: 0.05em;">Case</th>
                <th style="text-align: left; padding: 0.75rem 1rem; color: var(--gray-mid); font-weight: 600; text-transform: uppercase; font-size: 0.6875rem; letter-spacing: 0.05em;">Line Height</th>
                <th style="text-align: left; padding: 0.75rem 1rem; color: var(--gray-mid); font-weight: 600; text-transform: uppercase; font-size: 0.6875rem; letter-spacing: 0.05em;">Letter Spacing</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Headline Large</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">SemiBold (600)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">ALL CAPS</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">100%</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">0</td>
              </tr>
              <tr style="border-bottom: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Headline Small</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">SemiBold (600)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">ALL CAPS</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">120%</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">0</td>
              </tr>
              <tr style="border-bottom: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Subheadline</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">SemiBold (600)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">ALL CAPS</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">140%</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">0</td>
              </tr>
              <tr style="border-bottom: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Large Body Text</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Medium (500)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Sentence case</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">140%</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">-1%</td>
              </tr>
              <tr>
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Regular Body Text</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Regular (400)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Sentence case</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">140%</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">-1%</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="margin-top: 1rem; padding: 0.75rem 1rem; background: var(--white); border-radius: var(--radius-md); font-size: 0.75rem; color: var(--gray-dark); border-left: 3px solid var(--purple-primary);">
          <strong>Note:</strong> Headlines in the original brand guidelines use ALL CAPS. Implementation may use sentence case for internal tools to improve readability. The type scale below shows practical sizing for web applications.
        </div>
      </div>

      <div class="section-header" style="margin-top: 3rem;">
        <h3 class="section-title" style="color: var(--black); font-size: 1.5rem;">Type Scale Comparison</h3>
      </div>

      <div class="dual-type-scale">
        <div class="type-scale-column" style="font-family: 'Plus Jakarta Sans', sans-serif;">
          <div class="type-scale-header">
            <span class="type-scale-font">Plus Jakarta Sans</span>
            <span class="type-scale-badge">Brand</span>
          </div>
          <div class="type-scale">
            <div class="type-sample">
              <div class="type-label">XL</div>
              <div class="type-text" style="font-size: 24px; font-weight: 600;">Page Title</div>
              <div class="type-meta">24px / 600</div>
            </div>
            <div class="type-sample">
              <div class="type-label">LG</div>
              <div class="type-text" style="font-size: 20px; font-weight: 600;">Section Title</div>
              <div class="type-meta">20px / 600</div>
            </div>
            <div class="type-sample">
              <div class="type-label">MD</div>
              <div class="type-text" style="font-size: 17px; font-weight: 500;">Card Title</div>
              <div class="type-meta">17px / 500</div>
            </div>
            <div class="type-sample">
              <div class="type-label">BASE</div>
              <div class="type-text" style="font-size: 15px;">Body text and form inputs</div>
              <div class="type-meta">15px / 400</div>
            </div>
            <div class="type-sample">
              <div class="type-label">SM</div>
              <div class="type-text" style="font-size: 13px; color: var(--gray-mid);">Secondary text, notes</div>
              <div class="type-meta">13px / 400</div>
            </div>
            <div class="type-sample">
              <div class="type-label">XS</div>
              <div class="type-text" style="font-size: 12px; color: var(--gray-mid); text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">LABEL TEXT</div>
              <div class="type-meta">12px / 600</div>
            </div>
          </div>
        </div>

        <div class="type-scale-column" style="font-family: 'Inter', sans-serif;">
          <div class="type-scale-header">
            <span class="type-scale-font">Inter</span>
            <span class="type-scale-badge" style="background: var(--gray-light); color: var(--gray-dark);">Tools</span>
          </div>
          <div class="type-scale">
            <div class="type-sample">
              <div class="type-label">XL</div>
              <div class="type-text" style="font-size: 24px; font-weight: 600;">Page Title</div>
              <div class="type-meta">24px / 600</div>
            </div>
            <div class="type-sample">
              <div class="type-label">LG</div>
              <div class="type-text" style="font-size: 20px; font-weight: 600;">Section Title</div>
              <div class="type-meta">20px / 600</div>
            </div>
            <div class="type-sample">
              <div class="type-label">MD</div>
              <div class="type-text" style="font-size: 17px; font-weight: 500;">Card Title</div>
              <div class="type-meta">17px / 500</div>
            </div>
            <div class="type-sample">
              <div class="type-label">BASE</div>
              <div class="type-text" style="font-size: 15px;">Body text and form inputs</div>
              <div class="type-meta">15px / 400</div>
            </div>
            <div class="type-sample">
              <div class="type-label">SM</div>
              <div class="type-text" style="font-size: 13px; color: var(--gray-mid);">Secondary text, notes</div>
              <div class="type-meta">13px / 400</div>
            </div>
            <div class="type-sample">
              <div class="type-label">XS</div>
              <div class="type-text" style="font-size: 12px; color: var(--gray-mid); text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">LABEL TEXT</div>
              <div class="type-meta">12px / 600</div>
            </div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Co-branding / Indie Brand Section -->
  <section id="sub-brands" data-category="Brand Essentials" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Brand Essentials</span>
        <h2 class="section-title" style="color: var(--black);">
          Sub-brand Styling
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Visual identity guidelines for ENRG's three signature programs: Boost™, SHINE™, and Connect & Thrive™.</p>
      </div>

      <div class="section-content">
      <!-- Overview -->
      <div class="card" style="margin-bottom: 3rem;">
        <div style="border-left: 4px solid var(--purple-primary); padding-left: 1.25rem;">
          <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">Key Principle</div>
          <div style="font-size: 0.9375rem; color: var(--gray-dark); line-height: 1.6;">
            Unified through purple, differentiated through metaphor. All sub-brands maintain the parent brand's purple foundation while expressing unique personality through visual metaphors and accent elements.
          </div>
        </div>
      </div>

      <!-- ENRG Boost -->
      <div style="margin-bottom: 4rem;">
        <div style="display: flex; align-items: baseline; gap: 1rem; margin-bottom: 1.5rem;">
          <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--black); margin: 0;">ENRG Boost™</h3>
          <span style="font-size: 0.9375rem; font-style: italic; color: var(--gray-mid);">Infinite Levels of Agent Support</span>
        </div>

        <!-- Boost Visual Identity -->
        <div class="grid grid-2 gap-md" style="margin-bottom: 2rem;">
          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Visual Concept</h4>
            <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
              A progression system that visualizes unlimited growth potential. Like a video game level-up system, ENRG Boost represents continuous advancement without a ceiling.
            </p>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Visual Metaphor:</div>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              Ascending bars, upward arrows, stacked layers. Each symbolizes another level of support and achievement.
            </p>
          </div>

          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Logo Design</h4>
            <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.7rem; color: var(--gray-dark); border-radius: var(--radius-md); margin-bottom: 1rem;">┌────────────────────────────────┐
│  ENRG                          │
│  BOOST™                        │
│  [Ascending bar icon]          │
│  Infinite Levels of Support    │
└────────────────────────────────┘</pre>
            <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              <strong>Icon:</strong> Three ascending bars (short, medium, tall) in gradient purple. The tallest bar has an upward arrow, suggesting infinite continuation.
            </div>
          </div>
        </div>

        <!-- Boost Color Palette -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Color Palette</h4>
        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Hex</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Swatch</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Primary Purple</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6021E6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Base level, logo, headlines</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Electric Violet</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#8B5CF6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #8B5CF6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Mid-level accent</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Bright Purple</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#A78BFA</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #A78BFA; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">High-level accent</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Gradient</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6 → #A78BFA</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: linear-gradient(90deg, #6021E6 0%, #A78BFA 100%); border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Progress bars, level indicators</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Boost Level Badges -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Level Badges</h4>
        <div class="grid grid-3 gap-md" style="margin-bottom: 2rem;">
          <!-- Level 1-5 -->
          <div class="card">
            <div style="text-align: center; margin-bottom: 1rem;">
              <div style="background: linear-gradient(135deg, #6021E6 0%, #7C3AED 100%); border: 2px solid #8B5CF6; border-radius: 50%; width: 64px; height: 64px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.5rem; margin: 0 auto 0.75rem; box-shadow: 0 2px 8px rgba(96,33,230,0.2);">
                5
              </div>
              <div style="font-size: 0.875rem; font-weight: 600; color: var(--black);">Level 1-5</div>
              <div style="font-size: 0.75rem; color: var(--gray-mid); margin-top: 0.25rem;">Bronze to Silver</div>
            </div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">background:</span> <span style="color: #98C379;">linear-gradient</span>(<span style="color: #D19A66;">135deg</span>, <span style="color: #56B6C2;">#6021E6</span> <span style="color: #D19A66;">0%</span>, <span style="color: #56B6C2;">#7C3AED</span> <span style="color: #D19A66;">100%</span>);
<span style="color: #E06C75;">border:</span> <span style="color: #D19A66;">2px solid</span> <span style="color: #56B6C2;">#8B5CF6</span>;</pre>
          </div>

          <!-- Level 6-10 -->
          <div class="card">
            <div style="text-align: center; margin-bottom: 1rem;">
              <div style="background: linear-gradient(135deg, #8B5CF6 0%, #A78BFA 100%); border: 2px solid #C4B5FD; border-radius: 50%; width: 64px; height: 64px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.5rem; margin: 0 auto 0.75rem; box-shadow: 0 2px 8px rgba(139,92,246,0.25);">
                10
              </div>
              <div style="font-size: 0.875rem; font-weight: 600; color: var(--black);">Level 6-10</div>
              <div style="font-size: 0.75rem; color: var(--gray-mid); margin-top: 0.25rem;">Silver to Gold</div>
            </div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">background:</span> <span style="color: #98C379;">linear-gradient</span>(<span style="color: #D19A66;">135deg</span>, <span style="color: #56B6C2;">#8B5CF6</span> <span style="color: #D19A66;">0%</span>, <span style="color: #56B6C2;">#A78BFA</span> <span style="color: #D19A66;">100%</span>);
<span style="color: #E06C75;">border:</span> <span style="color: #D19A66;">2px solid</span> <span style="color: #56B6C2;">#C4B5FD</span>;</pre>
          </div>

          <!-- Level 11+ -->
          <div class="card">
            <div style="text-align: center; margin-bottom: 1rem;">
              <div style="background: linear-gradient(135deg, #A78BFA 0%, #DDD6FE 100%); border: 2px solid white; border-radius: 50%; width: 64px; height: 64px; display: flex; align-items: center; justify-content: center; color: #5B21B6; font-weight: 700; font-size: 1.5rem; margin: 0 auto 0.75rem; box-shadow: 0 4px 12px rgba(96,33,230,0.3);">
                11+
              </div>
              <div style="font-size: 0.875rem; font-weight: 600; color: var(--black);">Level 11+</div>
              <div style="font-size: 0.75rem; color: var(--gray-mid); margin-top: 0.25rem;">Diamond/Platinum</div>
            </div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">background:</span> <span style="color: #98C379;">linear-gradient</span>(<span style="color: #D19A66;">135deg</span>, <span style="color: #56B6C2;">#A78BFA</span> <span style="color: #D19A66;">0%</span>, <span style="color: #56B6C2;">#DDD6FE</span> <span style="color: #D19A66;">100%</span>);
<span style="color: #E06C75;">border:</span> <span style="color: #D19A66;">2px solid white</span>;
<span style="color: #E06C75;">box-shadow:</span> <span style="color: #D19A66;">0 4px 12px</span> <span style="color: #98C379;">rgba</span>(<span style="color: #D19A66;">96, 33, 230, 0.3</span>);</pre>
          </div>
        </div>

        <!-- Progress Bar Example -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Progress Bar</h4>
        <div class="card">
          <div style="margin-bottom: 1rem;">
            <div style="width: 100%; height: 12px; background: var(--gray-light); border-radius: 999px; overflow: hidden;">
              <div style="width: 65%; height: 100%; background: linear-gradient(90deg, #6021E6 0%, #A78BFA 100%); border-radius: 999px;"></div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.75rem; color: var(--gray-mid);">
              <span>Level 8 Progress</span>
              <span style="font-weight: 600; color: var(--purple-primary);">65%</span>
            </div>
          </div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"width: 100%; height: 8px; background: #E5E7EB; border-radius: 999px; overflow: hidden;"</span><span style="color: #E06C75;">&gt;</span>
  <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"width: 60%; height: 100%; background: linear-gradient(90deg, #6021E6 0%, #A78BFA 100%); border-radius: 999px;"</span><span style="color: #E06C75;">&gt;&lt;/div&gt;</span>
<span style="color: #E06C75;">&lt;/div&gt;</span></pre>
        </div>
      </div>

      <!-- ENRG SHINE -->
      <div style="margin-bottom: 4rem;">
        <div style="display: flex; align-items: baseline; gap: 1rem; margin-bottom: 1.5rem;">
          <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--black); margin: 0;">ENRG SHINE™</h3>
          <span style="font-size: 0.9375rem; font-style: italic; color: var(--gray-mid);">Equity Ownership Tiers</span>
        </div>

        <!-- SHINE Visual Identity -->
        <div class="grid grid-2 gap-md" style="margin-bottom: 2rem;">
          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Visual Concept</h4>
            <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
              A five-tier equity ownership program represented by ascending gemstone/prism metaphors. Each tier reflects increasing equity stakes and leadership responsibility.
            </p>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Visual Metaphor:</div>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              Faceted gems, prisms, light refraction. These symbolize clarity, value, and brilliance.
            </p>
          </div>

          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Logo Design</h4>
            <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.7rem; color: var(--gray-dark); border-radius: var(--radius-md); margin-bottom: 1rem;">┌────────────────────────────────┐
│  ENRG                          │
│  SHINE™                        │
│  [Faceted gem icon]            │
│  Equity Ownership Tiers        │
└────────────────────────────────┘</pre>
            <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              <strong>Icon:</strong> Five-sided faceted gem (pentagon) with light refraction lines radiating outward. Gradient from purple at center to lighter edges.
            </div>
          </div>
        </div>

        <!-- SHINE Color Palette -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Color Palette by Tier</h4>
        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Hex</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Swatch</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Gemstone Metaphor</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier 1</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Silver</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--gray-mid);">#D1D5DB</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #D1D5DB; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Clear Quartz</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier 2</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Sapphire</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: #3B82F6;">#3B82F6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #3B82F6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Blue Sapphire</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier 3</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Amethyst</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#8B5CF6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #8B5CF6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple Amethyst</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier 4</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Violet</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6021E6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Royal Violet Diamond</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier 5</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Platinum</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--gray-mid);">#F3F4F6 + #6021E6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 50%, #F3F4F6 100%); border: 2px solid #6021E6; border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Iridescent Opal</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- SHINE Tier Badges (LIVE PREVIEWS) -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Tier Badges (Live Previews)</h4>
        <div class="grid grid-5 gap-sm" style="margin-bottom: 2rem;">
          <!-- Tier 1: Clear Quartz -->
          <div style="background: linear-gradient(135deg, #F3F4F6 0%, #D1D5DB 100%); border: 2px solid #9CA3AF; color: #4B5563; padding: 1.5rem 1rem; border-radius: var(--radius-lg); text-align: center; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="font-size: 0.6875rem; opacity: 0.8; text-transform: uppercase; letter-spacing: 0.05em;">Tier 1</div>
            <div style="font-size: 0.9375rem; margin-top: 0.5rem;">Clear Quartz</div>
          </div>

          <!-- Tier 2: Blue Sapphire -->
          <div style="background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%); border: 2px solid #60A5FA; color: white; padding: 1.5rem 1rem; border-radius: var(--radius-lg); text-align: center; font-weight: 600; box-shadow: 0 2px 8px rgba(59,130,246,0.25);">
            <div style="font-size: 0.6875rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 0.05em;">Tier 2</div>
            <div style="font-size: 0.9375rem; margin-top: 0.5rem;">Blue Sapphire</div>
          </div>

          <!-- Tier 3: Amethyst -->
          <div style="background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%); border: 2px solid #A78BFA; color: white; padding: 1.5rem 1rem; border-radius: var(--radius-lg); text-align: center; font-weight: 600; box-shadow: 0 2px 8px rgba(139,92,246,0.25);">
            <div style="font-size: 0.6875rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 0.05em;">Tier 3</div>
            <div style="font-size: 0.9375rem; margin-top: 0.5rem;">Amethyst</div>
          </div>

          <!-- Tier 4: Violet Diamond -->
          <div style="background: linear-gradient(135deg, #6021E6 0%, #5B21B6 100%); border: 2px solid #8B5CF6; color: white; padding: 1.5rem 1rem; border-radius: var(--radius-lg); text-align: center; font-weight: 600; box-shadow: 0 4px 12px rgba(96,33,230,0.35);">
            <div style="font-size: 0.6875rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 0.05em;">Tier 4</div>
            <div style="font-size: 0.9375rem; margin-top: 0.5rem;">Violet Diamond</div>
          </div>

          <!-- Tier 5: Platinum -->
          <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 50%, #F3F4F6 100%); border: 3px solid #6021E6; color: #6021E6; padding: 1.5rem 1rem; border-radius: var(--radius-lg); text-align: center; font-weight: 700; box-shadow: 0 0 24px rgba(96,33,230,0.3), inset 0 0 20px rgba(96,33,230,0.08);">
            <div style="font-size: 0.6875rem; opacity: 0.8; text-transform: uppercase; letter-spacing: 0.05em;">Tier 5</div>
            <div style="font-size: 0.9375rem; margin-top: 0.5rem;">Platinum</div>
          </div>
        </div>

        <!-- SHINE CSS Code Examples -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">CSS Styling Examples</h4>
        <div class="grid grid-2 gap-md">
          <!-- Tier 1 Code -->
          <div class="card">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Tier 1: Clear Quartz</div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.tier-badge-1</span> <span style="color: #ABB2BF;">{</span>
  <span style="color: #E06C75;">background:</span> <span style="color: #98C379;">linear-gradient</span>(<span style="color: #D19A66;">135deg</span>, <span style="color: #56B6C2;">#F3F4F6</span> <span style="color: #D19A66;">0%</span>, <span style="color: #56B6C2;">#D1D5DB</span> <span style="color: #D19A66;">100%</span>);
  <span style="color: #E06C75;">border:</span> <span style="color: #D19A66;">2px solid</span> <span style="color: #56B6C2;">#9CA3AF</span>;
  <span style="color: #E06C75;">color:</span> <span style="color: #56B6C2;">#4B5563</span>;
<span style="color: #ABB2BF;">}</span></pre>
          </div>

          <!-- Tier 4 Code -->
          <div class="card">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Tier 4: Royal Violet Diamond</div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.tier-badge-4</span> <span style="color: #ABB2BF;">{</span>
  <span style="color: #E06C75;">background:</span> <span style="color: #98C379;">linear-gradient</span>(<span style="color: #D19A66;">135deg</span>, <span style="color: #56B6C2;">#6021E6</span> <span style="color: #D19A66;">0%</span>, <span style="color: #56B6C2;">#5B21B6</span> <span style="color: #D19A66;">100%</span>);
  <span style="color: #E06C75;">border:</span> <span style="color: #D19A66;">2px solid</span> <span style="color: #56B6C2;">#8B5CF6</span>;
  <span style="color: #E06C75;">color:</span> <span style="color: #56B6C2;">white</span>;
  <span style="color: #E06C75;">box-shadow:</span> <span style="color: #D19A66;">0 4px 12px</span> <span style="color: #98C379;">rgba</span>(<span style="color: #D19A66;">96, 33, 230, 0.4</span>);
<span style="color: #ABB2BF;">}</span></pre>
          </div>
        </div>
      </div>

      <!-- Connect & Thrive -->
      <div style="margin-bottom: 4rem;">
        <div style="display: flex; align-items: baseline; gap: 1rem; margin-bottom: 1.5rem;">
          <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--black); margin: 0;">Connect & Thrive™</h3>
          <span style="font-size: 0.9375rem; font-style: italic; color: var(--gray-mid);">Recruitment & Community Program</span>
        </div>

        <!-- Connect Visual Identity -->
        <div class="grid grid-2 gap-md" style="margin-bottom: 2rem;">
          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Visual Concept</h4>
            <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
              A network/connection system that emphasizes community, growth, and mutual support. Visual elements suggest nodes connecting, vines growing, or roots spreading.
            </p>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Visual Metaphor:</div>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              Connected dots/nodes, branching vines, interlocking circles. These represent agents bringing in new talent and creating a thriving network.
            </p>
          </div>

          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Logo Design</h4>
            <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.7rem; color: var(--gray-dark); border-radius: var(--radius-md); margin-bottom: 1rem;">┌────────────────────────────────┐
│  CONNECT & THRIVE™             │
│  [Connected nodes icon]        │
│  by ENRG.realty                │
│  Recruitment & Community       │
└────────────────────────────────┘</pre>
            <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.5;">
              <strong>Icon:</strong> Three interlocking circles or connected nodes forming a triangle. Center circle is Purple 500, surrounding circles are Purple 300, with connecting lines in Purple 200.
            </div>
          </div>
        </div>

        <!-- Connect Color Palette -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Color Palette</h4>
        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Hex</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Swatch</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Primary Purple</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6021E6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Core nodes, logo, headlines</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Purple 600</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#7C3AED</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #7C3AED; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Secondary connections</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Green Accent</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: #10B981;">#10B981</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #10B981; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Growth, "Thrive" element (optional)</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Purple + Green Gradient</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6 → #10B981</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: linear-gradient(90deg, #6021E6 0%, #10B981 100%); border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Connect (purple) to Thrive (green)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div style="background: var(--bg-elevated); border-left: 4px solid #10B981; border-radius: 0 var(--radius-lg) var(--radius-lg) 0; padding: 1.25rem; margin-bottom: 2rem;">
          <div style="font-size: 0.875rem; font-weight: 600; color: #10B981; margin-bottom: 0.75rem;">Note on Green Accent</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            Green is <strong>optional</strong>. The program can remain entirely purple-focused if preferred. When using green, limit to 10-20% of design and use sparingly for growth metaphors only.
          </div>
        </div>

        <!-- Network Diagram -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Connection Network Diagram</h4>
        <div class="card">
          <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 1rem; font-size: 0.875rem; color: var(--purple-primary); border-radius: var(--radius-md); text-align: center; line-height: 1.8; margin-bottom: 1rem;">      ●────●────●
      │    │    │
      ●────●────●
      │    │    │
      ●────●────●</pre>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            Each node represents an agent. Connecting lines show recruitment relationships. Central node is highlighted (recruiter), surrounding nodes are recruits. Use this pattern as a subtle background element on recruitment materials.
          </div>
        </div>

        <!-- Community Badge -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem; margin-top: 2rem;">Community Badge</h4>
        <div class="grid grid-2 gap-md">
          <div class="card">
            <div style="background: linear-gradient(135deg, #6021E6 0%, #8B5CF6 100%); border-radius: var(--radius-lg); padding: 1.5rem; color: white; text-align: center; margin-bottom: 1rem;">
              <div style="width: 56px; height: 56px; margin: 0 auto 1rem; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.75rem;">⬡</div>
              <div style="font-weight: 600; font-size: 1.125rem;">Community Builder</div>
              <div style="font-size: 0.8125rem; opacity: 0.9; margin-top: 0.25rem;">15 Connections</div>
            </div>
          </div>

          <div class="card">
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.community-badge</span> <span style="color: #ABB2BF;">{</span>
  <span style="color: #E06C75;">background:</span> <span style="color: #98C379;">linear-gradient</span>(<span style="color: #D19A66;">135deg</span>, <span style="color: #56B6C2;">#6021E6</span> <span style="color: #D19A66;">0%</span>, <span style="color: #56B6C2;">#8B5CF6</span> <span style="color: #D19A66;">100%</span>);
  <span style="color: #E06C75;">border-radius:</span> <span style="color: #D19A66;">12px</span>;
  <span style="color: #E06C75;">padding:</span> <span style="color: #D19A66;">16px 24px</span>;
  <span style="color: #E06C75;">color:</span> <span style="color: #56B6C2;">white</span>;
  <span style="color: #E06C75;">text-align:</span> <span style="color: #56B6C2;">center</span>;
<span style="color: #ABB2BF;">}</span></pre>
          </div>
        </div>
      </div>

      <!-- Sub-brand Lockup Guidelines -->
      <div style="margin-bottom: 3rem;">
        <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--black); margin-bottom: 1.5rem;">Sub-brand Lockup Guidelines</h3>

        <div class="grid grid-2 gap-md">
          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">When to Use Sub-brand Logo</h4>
            <div style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6;">
              <strong style="color: var(--black);">Use sub-brand logo:</strong>
              <ul style="margin: 0.5rem 0 1rem 1.5rem; padding: 0;">
                <li>Materials exclusively about that program</li>
                <li>Program-specific events or communications</li>
                <li>Internal program dashboards and tracking</li>
              </ul>
              <strong style="color: var(--black);">Use ENRG parent brand logo:</strong>
              <ul style="margin: 0.5rem 0 0 1.5rem; padding: 0;">
                <li>General marketing materials</li>
                <li>Agent websites and business cards</li>
                <li>External-facing corporate communications</li>
              </ul>
            </div>
          </div>

          <div class="card">
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Co-branding Hierarchy</h4>
            <div style="margin-bottom: 1rem;">
              <div style="font-size: 0.8125rem; font-weight: 600; color: #10B981; margin-bottom: 0.5rem;">✓ Correct:</div>
              <pre style="background: var(--bg-elevated); border: 1px solid #10B981; padding: 0.75rem; font-size: 0.7rem; color: var(--gray-dark); border-radius: var(--radius-md);">ENRG.realty
ENRG Boost™</pre>
            </div>
            <div>
              <div style="font-size: 0.8125rem; font-weight: 600; color: var(--danger); margin-bottom: 0.5rem;">✗ Wrong:</div>
              <pre style="background: var(--bg-elevated); border: 1px solid var(--danger); padding: 0.75rem; font-size: 0.7rem; color: var(--gray-dark); border-radius: var(--radius-md);">ENRG Boost™
by ENRG.realty  ← Don't put parent brand as secondary</pre>
            </div>
          </div>
        </div>
      </div>

      <!-- Typography Across Sub-brands -->
      <div style="margin-bottom: 3rem;">
        <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--black); margin-bottom: 1rem;">Typography Across Sub-brands</h3>
        <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1.5rem;">All sub-brands use <strong>Plus Jakarta Sans</strong> to maintain family unity.</p>

        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Element</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Weight</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Case</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Size</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Program Name</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Bold (700)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">ALL CAPS or Title Case</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">24-32px</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tagline</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Regular (400)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Sentence case</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">13-15px</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Body Copy</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Regular (400)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Sentence case</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">15px</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tier/Level Labels</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">SemiBold (600)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">ALL CAPS</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">11-12px</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Usage Matrix -->
      <div style="margin-bottom: 3rem;">
        <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--black); margin-bottom: 1rem;">Sub-brand Usage Matrix</h3>

        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Sub-brand</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Primary Use</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Secondary Use</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Avoid Using For</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">ENRG Boost™</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Agent training materials, level-up announcements, support program communications</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Internal dashboards, agent portals</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Client-facing listing materials</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">ENRG SHINE™</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Equity owner communications, leadership materials, tier announcements</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Recruitment materials for equity program</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">General agent marketing</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Connect & Thrive™</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Recruitment campaigns, community events, referral programs</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">New agent onboarding, networking events</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Transaction-specific materials</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- QC Checklist -->
      <div class="card">
        <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--black); margin-bottom: 1rem;">QC Checklist</h3>
        <p style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 1.5rem;">Before releasing sub-brand materials, verify:</p>

        <div style="display: grid; gap: 0.75rem;">
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Sub-brand logo uses correct colors from palette</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Plus Jakarta Sans is used consistently</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Parent ENRG brand is visible (co-branded appropriately)</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Visual metaphor (bars, gems, nodes) is clear</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Tier/level indicators are accurate</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Trademark symbol (™) is present on first usage</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Purple is primary color (green is accent only, if used)</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Design feels consistent with ENRG parent brand</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>Clear space around logos is maintained</span>
          </label>
          <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
            <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
            <span>File is named using convention</span>
          </label>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- To Develop Section -->
  <section id="cobranding" data-category="Brand Essentials" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Brand Essentials</span>
        <h2 class="section-title" style="color: var(--black);">
          Co-branding & Indie Brands
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">How Independent Brands and partner logos integrate with ENRG identity.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-2 gap-md">
        <!-- Indie Brand Policy -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Indie Brand Policy</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">Independent Brand agents may use their <strong>own branding</strong> instead of ENRG branding, subject to compliance requirements.</p>
            <div style="display: grid; grid-template-columns: auto 1fr 1fr; gap: 0.5rem; font-size: 0.75rem; margin-bottom: 1rem;">
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Aspect</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Standard</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Indie</div>
              <div style="padding: 0.5rem;">ENRG branding</div><div style="padding: 0.5rem;">Required</div><div style="padding: 0.5rem;">Not required</div>
              <div style="padding: 0.5rem;">Own logos/colors</div><div style="padding: 0.5rem;">Not allowed</div><div style="padding: 0.5rem;">Fully retained</div>
              <div style="padding: 0.5rem;">Social media</div><div style="padding: 0.5rem;">"Powered by ENRG"</div><div style="padding: 0.5rem;">Own brand name</div>
              <div style="padding: 0.5rem;">On departure</div><div style="padding: 0.5rem;">Pages stay with ENRG</div><div style="padding: 0.5rem;">Indie retains accounts</div>
            </div>
          </div>
        </div>

        <!-- ENRG Visibility Requirements -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">ENRG Visibility Requirements</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">Even with independent branding, certain ENRG visibility is <strong>legally required</strong>:</p>
            <ul style="margin: 0; padding-left: 1.25rem;">
              <li style="margin-bottom: 0.5rem;">Legal disclosures must include ENRG affiliation</li>
              <li style="margin-bottom: 0.5rem;">State-required broker name disclosure still applies</li>
              <li style="margin-bottom: 0.5rem;">Fair Housing, NAR Code of Ethics requirements apply</li>
              <li style="margin-bottom: 0.5rem;">"Powered by ENRG" lockup for co-branded materials</li>
            </ul>
            <div style="margin-top: 1rem; padding: 0.75rem; background: var(--bg-elevated); border-left: 3px solid var(--purple-primary); border-radius: 0 var(--radius-md) var(--radius-md) 0; font-size: 0.75rem; color: var(--text);">
              <strong>Note:</strong> Indie Brand Leaders are exempt from "ENRG Realty of [City]" naming restrictions.
            </div>
          </div>
        </div>

        <!-- Approval Workflow -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Approval Workflow</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">Sample marketing materials require initial ENRG review before use:</p>
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <div style="display: flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: var(--purple-primary); color: white; border-radius: 50%; font-weight: 700; font-size: 1.25rem;">5</div>
              <div>
                <div style="font-weight: 600; color: var(--black);">Business Days</div>
                <div style="font-size: 0.75rem;">Review turnaround for Indie Brand assets</div>
              </div>
            </div>
            <div style="padding: 0.75rem; background: var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem;">
              <strong>Process:</strong> Submit samples to State Managing Broker for compliance review. Approved templates can be reused without re-submission.
            </div>
          </div>
        </div>

        <!-- Co-branding Placement -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Partner Logo Placement</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">When co-branding with MLS badges, partner logos, or team branding:</p>
            <ul style="margin: 0; padding-left: 1.25rem;">
              <li style="margin-bottom: 0.5rem;">ENRG logo must appear in one of five approved positions (corners or centered)</li>
              <li style="margin-bottom: 0.5rem;">Partner logos should not exceed ENRG logo size</li>
              <li style="margin-bottom: 0.5rem;">Maintain exclusion zone around all logos</li>
              <li style="margin-bottom: 0.5rem;">MLS badges follow MLS-specific placement rules</li>
            </ul>
            <div style="margin-top: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">Top Left</span>
              <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">Top Right</span>
              <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">Center</span>
              <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">Bottom Left</span>
              <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">Bottom Right</span>
            </div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Spacing Section -->
  <section id="spacing" data-category="Design System" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Design System</span>
        <h2 class="section-title" style="color: var(--black);">
          Spacing & Grid
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">8px grid system for consistent rhythm and alignment. Use spacing tokens for all layout decisions.</p>
      </div>

      <div class="section-content">
      <!-- Spacing Scale -->
      <div style="margin-bottom: 2rem;">
        <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Spacing Scale</h3>
        <div class="spacing-grid">
          <div class="spacing-item"><div class="spacing-box" style="width: 4px; height: 4px;"></div><div class="spacing-label">1</div><div class="spacing-value">4px</div></div>
          <div class="spacing-item"><div class="spacing-box" style="width: 8px; height: 8px;"></div><div class="spacing-label">2</div><div class="spacing-value">8px</div></div>
          <div class="spacing-item"><div class="spacing-box" style="width: 12px; height: 12px;"></div><div class="spacing-label">3</div><div class="spacing-value">12px</div></div>
          <div class="spacing-item"><div class="spacing-box" style="width: 16px; height: 16px;"></div><div class="spacing-label">4</div><div class="spacing-value">16px</div></div>
          <div class="spacing-item"><div class="spacing-box" style="width: 20px; height: 20px;"></div><div class="spacing-label">5</div><div class="spacing-value">20px</div></div>
          <div class="spacing-item"><div class="spacing-box" style="width: 24px; height: 24px;"></div><div class="spacing-label">6</div><div class="spacing-value">24px</div></div>
          <div class="spacing-item"><div class="spacing-box" style="width: 32px; height: 32px;"></div><div class="spacing-label">8</div><div class="spacing-value">32px</div></div>
        </div>
      </div>

      <!-- Common Patterns -->
      <div class="spacing-patterns-grid">
        <!-- Component Spacing -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Component Spacing</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; gap: 0.75rem;">
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Card Padding</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">Header: 20px (--space-5) | Body: 24px (--space-6)</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Button Padding</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">Vertical: 12px (--space-3) | Horizontal: 16px (--space-4)</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Input Padding</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">All sides: 12px (--space-3)</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Icon + Text Gap</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">8px (--space-2) between icon and label</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Layout Spacing -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Layout Spacing</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; gap: 0.75rem;">
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Section Gaps</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">24px (--space-6) between major sections</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Button Groups</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">8px (--space-2) gap between buttons</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">Form Fields</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">16px (--space-4) bottom margin between fields</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">List Items</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">12px (--space-3) vertical padding</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Responsive Padding -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Responsive Padding</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 0.75rem;">Cards adapt padding based on screen size:</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 1rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto; margin: 0;">.card {
  padding: var(--space-4); /* 16px mobile */
}

@media (min-width: 768px) {
  .card {
    padding: var(--space-6); /* 24px desktop */
  }
}</pre>
          </div>
        </div>

        <!-- Stack Spacing (Vertical Rhythm) -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Stack Spacing (Vertical Rhythm)</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 0.75rem;">Use lobotomized owl selector for consistent vertical rhythm:</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 1rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto; margin: 0;">/* Default */
.stack > * + * {
  margin-top: var(--space-4); /* 16px */
}

/* Tight */
.stack-tight > * + * {
  margin-top: var(--space-2); /* 8px */
}

/* Loose */
.stack-loose > * + * {
  margin-top: var(--space-6); /* 24px */
}</pre>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Effects Section (Border Radii & Shadows) -->
  <section id="effects" data-category="Design System" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Design System</span>
        <h2 class="section-title">
          Effects & Radii
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle">Consistent corner radii and shadow depths for UI depth.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-2 gap-xl">
        <div class="effects-group">
          <div class="effects-group-title">Border Radii</div>
          <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">CSS variable tokens for consistent corner radii across all UI elements.</p>
          <div class="radii-grid">
            <div class="radius-item">
              <div class="radius-box" style="border-radius: var(--radius-sm);"></div>
              <div class="radius-label">--radius-sm</div>
              <div class="radius-value">4px</div>
              <div class="radius-use">Tags, small chips, tooltips</div>
            </div>
            <div class="radius-item">
              <div class="radius-box" style="border-radius: var(--radius-md);"></div>
              <div class="radius-label">--radius-md</div>
              <div class="radius-value">6px</div>
              <div class="radius-use">Buttons, inputs, dropdowns</div>
            </div>
            <div class="radius-item">
              <div class="radius-box" style="border-radius: var(--radius-lg);"></div>
              <div class="radius-label">--radius-lg</div>
              <div class="radius-value">8px</div>
              <div class="radius-use">Cards, panels</div>
            </div>
            <div class="radius-item">
              <div class="radius-box" style="border-radius: var(--radius-xl);"></div>
              <div class="radius-label">--radius-xl</div>
              <div class="radius-value">12px</div>
              <div class="radius-use">Large panels, modals</div>
            </div>
            <div class="radius-item">
              <div class="radius-box" style="border-radius: var(--radius-pill);"></div>
              <div class="radius-label">--radius-pill</div>
              <div class="radius-value">100px</div>
              <div class="radius-use">Pill buttons, badges, full-round</div>
            </div>
          </div>
        </div>

        <div class="effects-group">
          <div class="effects-group-title">Shadows</div>
          <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Layered shadows create depth without heaviness. Dark mode shadows are stronger to maintain visibility.</p>
          <div style="display: grid; gap: 1rem;">
            <div class="shadow-item">
              <div class="shadow-box" style="box-shadow: var(--shadow-card-base);"></div>
              <div class="shadow-info">
                <div class="shadow-label">--shadow-card-base</div>
                <div class="shadow-use">Cards, content containers (base state)</div>
                <div class="shadow-value" style="font-size: 0.6875rem; font-family: monospace; color: var(--gray-mid);">
                  Light: 0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04)<br>
                  Dark: 0 1px 3px rgba(0,0,0,0.4), 0 4px 12px rgba(0,0,0,0.25)
                </div>
              </div>
            </div>
            <div class="shadow-item">
              <div class="shadow-box" style="box-shadow: var(--shadow-card-hover);"></div>
              <div class="shadow-info">
                <div class="shadow-label">--shadow-card-hover</div>
                <div class="shadow-use">Interactive cards (hover state)</div>
                <div class="shadow-value" style="font-size: 0.6875rem; font-family: monospace; color: var(--gray-mid);">
                  Light: 0 4px 12px rgba(0,0,0,0.1), 0 8px 24px rgba(0,0,0,0.06)<br>
                  Dark: 0 4px 12px rgba(0,0,0,0.5), 0 8px 24px rgba(0,0,0,0.35)
                </div>
              </div>
            </div>
            <div class="shadow-item">
              <div class="shadow-box" style="box-shadow: var(--shadow-dropdown);"></div>
              <div class="shadow-info">
                <div class="shadow-label">--shadow-dropdown</div>
                <div class="shadow-use">Dropdowns, menus</div>
                <div class="shadow-value" style="font-size: 0.6875rem; font-family: monospace; color: var(--gray-mid);">
                  Light: 0 8px 24px rgba(0,0,0,0.12)<br>
                  Dark: 0 8px 24px rgba(0,0,0,0.5)
                </div>
              </div>
            </div>
            <div class="shadow-item">
              <div class="shadow-box" style="box-shadow: var(--shadow-popover);"></div>
              <div class="shadow-info">
                <div class="shadow-label">--shadow-popover</div>
                <div class="shadow-use">Popovers, tooltips</div>
                <div class="shadow-value" style="font-size: 0.6875rem; font-family: monospace; color: var(--gray-mid);">
                  Light: 0 4px 20px rgba(0,0,0,0.15)<br>
                  Dark: 0 4px 20px rgba(0,0,0,0.4)
                </div>
              </div>
            </div>
            <div class="shadow-item">
              <div class="shadow-box" style="box-shadow: var(--shadow-modal);"></div>
              <div class="shadow-info">
                <div class="shadow-label">--shadow-modal</div>
                <div class="shadow-use">Large modals, overlays</div>
                <div class="shadow-value" style="font-size: 0.6875rem; font-family: monospace; color: var(--gray-mid);">
                  Light: 0 24px 80px rgba(0,0,0,0.3)<br>
                  Dark: 0 24px 80px rgba(0,0,0,0.6)
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Dark Mode Section -->
  <section id="dark-mode" data-category="Design System" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Design System</span>
        <h2 class="section-title" style="color: var(--black);">
          Dark Mode
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Complete dark theme specifications with clean dark grays. Purple is for accents only.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-2 gap-md">
        <!-- Color Mapping -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Color Variable Mapping</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark);">
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; font-weight: 500; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border); margin-bottom: 0.5rem;">
              <span>Element</span><span>Light</span><span>Dark</span>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Page background</span><span style="font-family: monospace; font-size: 0.75rem;">#FFFFFF</span><span style="font-family: monospace; font-size: 0.75rem;">#0f0f0f</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Card background</span><span style="font-family: monospace; font-size: 0.75rem;">#FFFFFF</span><span style="font-family: monospace; font-size: 0.75rem;">#1a1a1a</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Elevated surface</span><span style="font-family: monospace; font-size: 0.75rem;">#F9FAFB</span><span style="font-family: monospace; font-size: 0.75rem;">#252525</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Primary text</span><span style="font-family: monospace; font-size: 0.75rem;">#111111</span><span style="font-family: monospace; font-size: 0.75rem;">#f0f0f0</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Muted text</span><span style="font-family: monospace; font-size: 0.75rem;">#6B7280</span><span style="font-family: monospace; font-size: 0.75rem;">#888888</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Borders</span><span style="font-family: monospace; font-size: 0.75rem;">#E5E7EB</span><span style="font-family: monospace; font-size: 0.75rem;">#333333</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Primary button</span><span style="font-family: monospace; font-size: 0.75rem;">#290080</span><span style="font-family: monospace; font-size: 0.75rem;">#B38FFF</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; padding: 0.25rem 0;"><span>Active nav bg</span><span style="font-family: monospace; font-size: 0.75rem;">#EDE8F5</span><span style="font-family: monospace; font-size: 0.75rem;">#2D1548</span></div>
          </div>
        </div>

        <!-- Surface Hierarchy -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Surface Elevation Hierarchy</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">Dark mode uses <strong>clean dark grays</strong>. Never tint the entire interface purple.</p>
            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 40px; height: 40px; background: #0f0f0f; border-radius: var(--radius-md); border: 1px solid #333;"></div>
                <div><strong>--bg</strong> #0f0f0f: Page background (deepest)</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 40px; height: 40px; background: #1a1a1a; border-radius: var(--radius-md); border: 1px solid #333;"></div>
                <div><strong>--bg-surface</strong> #1a1a1a: Cards, panels, modals</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 40px; height: 40px; background: #252525; border-radius: var(--radius-md); border: 1px solid #333;"></div>
                <div><strong>--bg-elevated</strong> #252525: Nested surfaces, hover</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 40px; height: 40px; background: #2a2a2a; border-radius: var(--radius-md); border: 1px solid #333;"></div>
                <div><strong>--bg-muted</strong> #2a2a2a: Disabled, secondary</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Shadow Adaptation -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Shadow Adaptations</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">Dark mode shadows are <strong>stronger</strong> to maintain visibility on dark backgrounds.</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <div style="font-weight: 600; margin-bottom: 0.5rem;">Light Mode</div>
                <div style="font-family: monospace; font-size: 0.7rem; background: var(--gray-light); padding: 0.5rem; border-radius: var(--radius-sm);">--shadow-sm: 0 1px 2px rgba(0,0,0,0.05)</div>
                <div style="font-family: monospace; font-size: 0.7rem; background: var(--gray-light); padding: 0.5rem; border-radius: var(--radius-sm); margin-top: 0.5rem;">--shadow-md: 0 4px 6px rgba(0,0,0,0.07)</div>
              </div>
              <div>
                <div style="font-weight: 600; margin-bottom: 0.5rem;">Dark Mode</div>
                <div style="font-family: monospace; font-size: 0.7rem; background: var(--gray-light); padding: 0.5rem; border-radius: var(--radius-sm);">--shadow-sm: 0 1px 2px rgba(0,0,0,0.4)</div>
                <div style="font-family: monospace; font-size: 0.7rem; background: var(--gray-light); padding: 0.5rem; border-radius: var(--radius-sm); margin-top: 0.5rem;">--shadow-md: 0 4px 6px rgba(0,0,0,0.5)</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Implementation -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Implementation</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 0.75rem;">Toggle via <code style="background: var(--gray-light); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.75rem;">data-theme="dark"</code> on <code style="background: var(--gray-light); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.75rem;">&lt;html&gt;</code>:</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 1rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto; margin: 0;">:root[data-theme="dark"] {
  --bg: #0f0f0f;
  --bg-card: #1a1a1a;
  --bg-muted: #252525;
  --text: #f0f0f0;
  --text-muted: #888888;
  --border-color: #333333;
  --purple: #B38FFF;  /* Purple 200 */
  --purple-light: #2D1548;
}</pre>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Iconography Section -->
  <section id="headshot-standards" data-category="For Agents" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Agents</span>
        <h2 class="section-title" style="color: var(--black);">
          Headshot Standards
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Professional headshot requirements, AI-enhanced backgrounds, and file specifications for ENRG materials.</p>
      </div>

      <div class="section-content">
      <!-- Overview Callout -->
      <div style="background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; padding: 1.25rem; margin-bottom: 2rem;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">Key Principle</div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">Professional headshots are a cornerstone of ENRG's visual identity. These standards ensure consistency across all agent profiles, website rosters, marketing materials, and physical signage. <strong>Unified, professional, and approachable.</strong> AI-enhanced headshots create a cohesive visual language while maintaining individual authenticity.</div>
      </div>

      <!-- AI Background Options -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">AI Background Options</h3>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1.5rem;">ENRG uses AI-generated backgrounds to ensure visual consistency across all agent headshots. All backgrounds use the brand's purple palette and professional aesthetic.</p>

        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Background Name</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Description</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Primary Use Case</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Purple Tone</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Midnight Violet</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Deep purple gradient with subtle texture</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Leadership, premium listings</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">Purple 800 → Purple 900</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Soft Lavender</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Light purple wash with gentle bokeh</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Standard agent profiles, website roster</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">Purple 100 → Purple 200</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Gradient Depth</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Diagonal gradient from Purple 500 to Purple 800</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Marketing materials, social media</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">Purple 500 → Purple 800</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Neutral Professional</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Warm gray with purple undertones</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Print materials, business cards</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">Gray 200 + 10% purple tint</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Studio Blur</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Simulated studio background with depth</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">High-end brochures, signage</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">Purple 300 + bokeh effect</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Background Selection by Role</h4>
        <div class="grid grid-2 gap-md">
          <div>
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Leadership</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li><strong>Executive Leadership:</strong> Midnight Violet or Gradient Depth</li>
              <li><strong>Managing Brokers:</strong> Gradient Depth or Studio Blur</li>
            </ul>
          </div>
          <div>
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Staff & Agents</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li><strong>Licensed Agents:</strong> Soft Lavender, Neutral Professional, or Studio Blur</li>
              <li><strong>Support Staff:</strong> Soft Lavender or Neutral Professional</li>
              <li><strong>Guest Speakers/Affiliates:</strong> Neutral Professional</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Professional Attire Guidelines -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Professional Attire Guidelines</h3>

        <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); margin-bottom: 1.5rem;">
          <h4 style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">General Standards (All Roles)</h4>
          <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
            <li>Professional business or business casual attire</li>
            <li>Solid colors or subtle patterns preferred</li>
            <li>Avoid logos, graphics, or busy patterns</li>
            <li>Jewelry should be minimal and classic</li>
            <li>Grooming should be neat and professional</li>
          </ul>
        </div>

        <div class="grid grid-2 gap-md" style="margin-bottom: 1.5rem;">
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--green); margin-bottom: 0.75rem;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Best Color Choices
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Navy, charcoal, or black (provides contrast with purple backgrounds)</li>
              <li>White, cream, or light gray (professional, clean)</li>
              <li>Jewel tones (emerald, sapphire, burgundy)</li>
            </ul>
          </div>
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--red); margin-bottom: 0.75rem;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              Avoid These Colors
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Bright purple (clashes with brand purple backgrounds)</li>
              <li>Neon or overly saturated colors</li>
              <li>All-white or all-black (can create exposure issues)</li>
            </ul>
          </div>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Attire by Role</h4>
        <div class="grid grid-auto-280 gap-md">
          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Leadership</div>
            <div style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Executive & Managing Brokers</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Business professional attire</li>
              <li>Suit jacket or blazer recommended</li>
              <li>Solid colors preferred</li>
              <li>Ties optional but subtle patterns</li>
            </ul>
          </div>
          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Agents</div>
            <div style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Licensed Agents</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Business casual to business professional</li>
              <li>Blazers, button-downs, or professional tops</li>
              <li>Can be slightly more relaxed than leadership</li>
            </ul>
          </div>
          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Staff</div>
            <div style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Support Staff</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Business casual</li>
              <li>Professional tops or blouses</li>
              <li>Consistent with office environment</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Crop Ratios & Safe Zones -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Crop Ratios & Safe Zones</h3>

        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Use Case</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Aspect Ratio</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Dimensions (px)</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Safe Zone</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Website Roster Card</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">3:4 (portrait)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">600×800</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">10% margin all sides</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Social Media Profile</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1:1 (square)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1200</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">15% margin (circular crop)</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Email Signature</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1:1 (square)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">300×300</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">10% margin all sides</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Business Card</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">3:4 (portrait)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">900×1200</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">12% margin all sides</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Yard Sign Rider</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">4:5 (portrait)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">800×1000</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">15% margin (for text overlay)</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Presentation Slide</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">3:4 (portrait)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1600</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">8% margin all sides</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Composition Guidelines</h4>
        <div class="grid grid-2 gap-md">
          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Framing</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Head and shoulders visible (not full body)</li>
              <li>Face should occupy 40-50% of frame height</li>
              <li>Top of head should have 10-15% breathing room</li>
              <li>Eye line should be in upper third of frame</li>
            </ul>
          </div>
          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Safe Zone</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Keep all critical facial features within safe zone</li>
              <li>Allow margin for text overlays (name, credentials)</li>
              <li>Account for circular crops on social platforms</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- AI Enhancement Standards -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">AI Enhancement Standards</h3>

        <div class="grid grid-2 gap-md">
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--green); margin-bottom: 0.75rem;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Subtle Enhancement (Recommended)
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Light skin smoothing (reduce blemishes, not remove texture)</li>
              <li>Color correction for even skin tones</li>
              <li>Eye brightness enhancement</li>
              <li>Hair tidying (flyaways, smoothing)</li>
              <li>Background replacement with approved ENRG backgrounds</li>
            </ul>
          </div>
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--red); margin-bottom: 0.75rem;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              What NOT to Enhance
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Do not alter facial structure or proportions</li>
              <li>Do not whiten teeth to unnatural levels</li>
              <li>Do not change eye color</li>
              <li>Do not add makeup digitally</li>
              <li>Do not slim or reshape body</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- File Naming & Resolution Requirements -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">File Naming & Resolution Requirements</h3>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">File Naming Convention</h4>
        <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto; margin-bottom: 1.5rem;">{LastName}_{FirstName}_{RoleCode}_{Version}_{BackgroundType}.{ext}

Examples:
Smith_John_AGT_v1_SoftLavender.jpg
Johnson_Sarah_MBR_v2_GradientDepth.png
Williams_Michael_EXE_v1_MidnightViolet.jpg</pre>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Role Codes</h4>
        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Code</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Role</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Example Filename</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary); font-weight: 600;">EXE</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Executive Leadership</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.7rem; color: var(--gray-dark);">Williams_Michael_EXE_v1_MidnightViolet.jpg</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary); font-weight: 600;">MBR</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Managing Broker</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.7rem; color: var(--gray-dark);">Johnson_Sarah_MBR_v2_GradientDepth.png</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary); font-weight: 600;">AGT</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Licensed Agent</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.7rem; color: var(--gray-dark);">Smith_John_AGT_v1_SoftLavender.jpg</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary); font-weight: 600;">STF</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Support Staff</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.7rem; color: var(--gray-dark);">Davis_Jennifer_STF_v1_NeutralProfessional.jpg</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary); font-weight: 600;">GST</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Guest/Affiliate</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.7rem; color: var(--gray-dark);">Brown_David_GST_v1_NeutralProfessional.jpg</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Resolution Requirements</h4>
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Output Type</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Minimum Resolution</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Recommended</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Format</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Max File Size</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Website (roster)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">600×800px</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1600px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">JPG (85% quality)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">300 KB</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Print (business card)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">900×1200px</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1800×2400px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">PNG or TIFF</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">2 MB</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Print (signage)</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1600px</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">2400×3200px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">PNG or TIFF</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">5 MB</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Social Media</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1200px</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1200px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">JPG (90% quality)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">500 KB</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Email Signature</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">300×300px</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">300×300px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">JPG (75% quality)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">50 KB</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Presentation</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1600px</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">1200×1600px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">PNG</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1 MB</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Photography Tips -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Photography Tips (For Original Source Photos)</h3>

        <div class="grid grid-auto-280 gap-md">
          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Lighting</div>
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Best Lighting Setups</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Natural window light from the side (45° angle)</li>
              <li>Overcast day outdoors (even, diffused light)</li>
              <li>Professional softbox setup (2-light or 3-light)</li>
            </ul>
            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border);">
              <div style="font-size: 0.75rem; font-weight: 600; color: var(--red); margin-bottom: 0.5rem;">Avoid:</div>
              <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
                <li>Direct overhead fluorescent lighting</li>
                <li>Harsh direct sunlight</li>
                <li>Single on-camera flash</li>
              </ul>
            </div>
          </div>

          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Camera Settings</div>
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Recommended Settings</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li><strong>Focal Length:</strong> 85mm-135mm (portrait lens, avoids distortion)</li>
              <li><strong>Aperture:</strong> f/2.8 to f/5.6 (shallow depth of field)</li>
              <li><strong>Eye Level:</strong> Camera at subject's eye level (not looking down or up)</li>
            </ul>
          </div>

          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Posing</div>
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Natural Posing Tips</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li><strong>Shoulders:</strong> Slight angle to camera (not straight-on)</li>
              <li><strong>Head Tilt:</strong> Very slight (avoid rigid straight posture)</li>
              <li><strong>Expression:</strong> Natural smile, approachable (not forced)</li>
              <li><strong>Hands:</strong> Not visible in headshot crop</li>
              <li><strong>Chin:</strong> Slightly forward and down (avoids double chin)</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- QC Checklist -->
      <div class="card">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">QC Checklist</h3>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1.5rem;">Before approving a headshot for use, verify all items:</p>

        <div style="background: var(--bg-elevated); padding: 1.5rem; border-radius: var(--radius-md);">
          <div style="display: grid; gap: 0.75rem;">
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Background is one of the approved ENRG styles</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Attire is professional and follows color guidelines</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Face is clearly visible and well-lit</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Resolution meets minimum requirements for intended use</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>File is properly named using convention</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Enhancement is subtle and natural (not over-processed)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Safe zones are respected for intended crop</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Color space is correct (sRGB for web, Adobe RGB for print)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Subject has approved the final image</span>
            </label>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Email Signatures Section -->
  <section id="email-signatures" data-category="For Agents" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Agents</span>
        <h2 class="section-title" style="color: var(--black);">
          Email Signatures & Templates
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Standardized email signature templates and installation guides for all ENRG agents and staff.</p>
      </div>

      <div class="section-content">
      <!-- Overview Callout -->
      <div style="background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; padding: 1.25rem; margin-bottom: 2rem;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">Key Principle</div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">Standardized email signatures ensure professional, consistent communication across ENRG. These templates work across all major email clients (Gmail, Outlook, Apple Mail) and mobile devices. <strong>Simple, scannable, and mobile-friendly.</strong> Include only essential information.</div>
      </div>

      <!-- Agent Signature (Standard) -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Agent Signature (Standard)</h3>

        <div style="margin-bottom: 1.5rem;">
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Visual Layout</h4>
          <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.65rem; color: var(--gray-dark); border-radius: var(--radius-md); overflow-x: auto; margin: 0;">┌─────────────────────────────────────────┐
│  [Headshot]   FIRST LAST                │
│   120x120     Licensed Real Estate Agent│
│               ENRG.realty                │
│                                          │
│               📱 (XXX) XXX-XXXX          │
│               ✉️ first.last@enrg.realty    │
│               🌐 enrg.realty/first-last    │
│                                          │
│               [ENRG Logo - Purple]       │
│               Equal Housing Opportunity  │
└─────────────────────────────────────────┘</pre>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">HTML Code</h4>
        <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">&lt;table</span> <span style="color: #D19A66;">cellpadding</span>=<span style="color: #98C379;">"0"</span> <span style="color: #D19A66;">cellspacing</span>=<span style="color: #98C379;">"0"</span> <span style="color: #D19A66;">border</span>=<span style="color: #98C379;">"0"</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-family: 'Plus Jakarta Sans', Arial, sans-serif; font-size: 14px; line-height: 1.4; color: #1F2937; max-width: 500px;"</span><span style="color: #E06C75;">&gt;</span>
  <span style="color: #E06C75;">&lt;tr&gt;</span>
    <span style="color: #E06C75;">&lt;td</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"padding-right: 16px; vertical-align: top;"</span><span style="color: #E06C75;">&gt;</span>
      <span style="color: #E06C75;">&lt;img</span> <span style="color: #D19A66;">src</span>=<span style="color: #98C379;">"https://enrg.realty/signatures/headshots/firstname-lastname.jpg"</span> <span style="color: #D19A66;">alt</span>=<span style="color: #98C379;">"First Last"</span> <span style="color: #D19A66;">width</span>=<span style="color: #98C379;">"120"</span> <span style="color: #D19A66;">height</span>=<span style="color: #98C379;">"120"</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"border-radius: 8px; display: block;"</span><span style="color: #E06C75;">&gt;</span>
    <span style="color: #E06C75;">&lt;/td&gt;</span>
    <span style="color: #E06C75;">&lt;td</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"vertical-align: top;"</span><span style="color: #E06C75;">&gt;</span>
      <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-weight: 600; font-size: 16px; color: #111827; margin-bottom: 2px;"</span><span style="color: #E06C75;">&gt;</span>First Last<span style="color: #E06C75;">&lt;/div&gt;</span>
      <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-size: 13px; color: #6B7280; margin-bottom: 12px;"</span><span style="color: #E06C75;">&gt;</span>Licensed Real Estate Agent<span style="color: #E06C75;">&lt;/div&gt;</span>
      <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-size: 15px; font-weight: 500; color: #6021E6; margin-bottom: 16px;"</span><span style="color: #E06C75;">&gt;</span>ENRG.realty<span style="color: #E06C75;">&lt;/div&gt;</span>

      <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"margin-bottom: 4px;"</span><span style="color: #E06C75;">&gt;</span>
        <span style="color: #E06C75;">&lt;span</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #6B7280;"</span><span style="color: #E06C75;">&gt;</span>📱<span style="color: #E06C75;">&lt;/span&gt;</span> <span style="color: #E06C75;">&lt;a</span> <span style="color: #D19A66;">href</span>=<span style="color: #98C379;">"tel:+1XXXXXXXXXX"</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #1F2937; text-decoration: none;"</span><span style="color: #E06C75;">&gt;</span>(XXX) XXX-XXXX<span style="color: #E06C75;">&lt;/a&gt;</span>
      <span style="color: #E06C75;">&lt;/div&gt;</span>
      <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"margin-bottom: 4px;"</span><span style="color: #E06C75;">&gt;</span>
        <span style="color: #E06C75;">&lt;span</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #6B7280;"</span><span style="color: #E06C75;">&gt;</span>✉️<span style="color: #E06C75;">&lt;/span&gt;</span> <span style="color: #E06C75;">&lt;a</span> <span style="color: #D19A66;">href</span>=<span style="color: #98C379;">"mailto:first.last@enrg.realty"</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #6021E6; text-decoration: none;"</span><span style="color: #E06C75;">&gt;</span>first.last@enrg.realty<span style="color: #E06C75;">&lt;/a&gt;</span>
      <span style="color: #E06C75;">&lt;/div&gt;</span>
      <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"margin-bottom: 16px;"</span><span style="color: #E06C75;">&gt;</span>
        <span style="color: #E06C75;">&lt;span</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #6B7280;"</span><span style="color: #E06C75;">&gt;</span>🌐<span style="color: #E06C75;">&lt;/span&gt;</span> <span style="color: #E06C75;">&lt;a</span> <span style="color: #D19A66;">href</span>=<span style="color: #98C379;">"https://enrg.realty/first-last"</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #6021E6; text-decoration: none;"</span><span style="color: #E06C75;">&gt;</span>enrg.realty/first-last<span style="color: #E06C75;">&lt;/a&gt;</span>
      <span style="color: #E06C75;">&lt;/div&gt;</span>

      <span style="color: #E06C75;">&lt;div&gt;</span>
        <span style="color: #E06C75;">&lt;img</span> <span style="color: #D19A66;">src</span>=<span style="color: #98C379;">"https://enrg.realty/signatures/logo-small.png"</span> <span style="color: #D19A66;">alt</span>=<span style="color: #98C379;">"ENRG.realty"</span> <span style="color: #D19A66;">height</span>=<span style="color: #98C379;">"28"</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"display: block; margin-bottom: 6px;"</span><span style="color: #E06C75;">&gt;</span>
        <span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-size: 10px; color: #9CA3AF; text-transform: uppercase; letter-spacing: 0.5px;"</span><span style="color: #E06C75;">&gt;</span>Equal Housing Opportunity<span style="color: #E06C75;">&lt;/div&gt;</span>
      <span style="color: #E06C75;">&lt;/div&gt;</span>
    <span style="color: #E06C75;">&lt;/td&gt;</span>
  <span style="color: #E06C75;">&lt;/tr&gt;</span>
<span style="color: #E06C75;">&lt;/table&gt;</span></pre>
      </div>

      <!-- Agent Signature with Credentials -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Agent Signature with Credentials</h3>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1.5rem;">Use when agent has notable designations (ABR, CRS, GRI, etc.)</p>

        <div style="margin-bottom: 1.5rem;">
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Visual Layout</h4>
          <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.65rem; color: var(--gray-dark); border-radius: var(--radius-md); overflow-x: auto; margin: 0;">┌─────────────────────────────────────────┐
│  [Headshot]   FIRST LAST, ABR, CRS      │
│   120x120     Licensed Real Estate Agent│
│               ENRG.realty                │
│                                          │
│               📱 (XXX) XXX-XXXX          │
│               ✉️ first.last@enrg.realty    │
│               🌐 enrg.realty/first-last    │
│                                          │
│               [ENRG Logo - Purple]       │
│               Equal Housing Opportunity  │
└─────────────────────────────────────────┘</pre>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">HTML Code</h4>
        <p style="font-size: 0.75rem; color: var(--gray-dark); margin-bottom: 0.75rem;">Key difference: Add credentials after name as <code style="background: var(--gray-pale); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.7rem;">&lt;span&gt;, ABR, CRS&lt;/span&gt;</code></p>
        <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">&lt;div</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-weight: 600; font-size: 16px; color: #111827; margin-bottom: 2px;"</span><span style="color: #E06C75;">&gt;</span>
  First Last<span style="color: #E06C75;">&lt;span</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"font-weight: 400; color: #6B7280;"</span><span style="color: #E06C75;">&gt;</span>, ABR, CRS<span style="color: #E06C75;">&lt;/span&gt;</span>
<span style="color: #E06C75;">&lt;/div&gt;</span></pre>
      </div>

      <!-- Leadership & Staff Signatures -->
      <div class="grid grid-2 gap-md" style="margin-bottom: 2rem;">
        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Leadership</div>
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Leadership Signature</h4>
          <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">For Managing Brokers, Executive Leadership</p>
          <div style="font-size: 0.75rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Key Differences:</div>
          <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.8;">
            <li>Title reflects leadership role (Managing Broker, Chief Growth Officer, etc.)</li>
            <li>Website link goes to main enrg.realty (not personal agent page)</li>
            <li>Optional: Add office line number in addition to mobile</li>
          </ul>
        </div>

        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Staff</div>
          <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Staff Signature</h4>
          <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">For Support Staff, Administrative Roles</p>
          <div style="font-size: 0.75rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Key Differences:</div>
          <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.8;">
            <li>No "Equal Housing Opportunity" disclosure (not required for non-agent staff)</li>
            <li>Title reflects role (Marketing Coordinator, Transaction Coordinator, etc.)</li>
          </ul>
        </div>
      </div>

      <!-- Mobile Signature -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Mobile Signature (Simplified)</h3>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1.5rem;">For mobile email clients (iPhone Mail, Gmail app, Outlook mobile)</p>

        <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); margin-bottom: 1.5rem;">
          <pre style="background: transparent; border: none; padding: 0; margin: 0; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.8;">First Last
Licensed Real Estate Agent | ENRG.realty
📱 (XXX) XXX-XXXX
✉️ first.last@enrg.realty
🌐 enrg.realty/first-last</pre>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Why Simplified</h4>
        <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
          <li>HTML rendering inconsistent on mobile email clients</li>
          <li>Headshot increases message size (slow on cellular data)</li>
          <li>Focus on essential contact information only</li>
        </ul>
      </div>

      <!-- Email Newsletter Templates -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Email Newsletter Templates</h3>

        <div class="grid grid-2 gap-md">
          <div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Newsletter Header</h4>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Full-width header for agent newsletters, market updates, listings announcements</p>
            <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.6rem; color: var(--gray-dark); border-radius: var(--radius-md); overflow-x: auto; margin: 0;">┌──────────────────────────────────┐
│                                   │
│  [ENRG Logo]  [Agent Headshot]   │
│                FIRST LAST         │
│                (XXX) XXX-XXXX     │
│                first@enrg.realty     │
│                                   │
└──────────────────────────────────┘
Background: Purple 800 gradient</pre>
          </div>

          <div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Newsletter Footer</h4>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Consistent footer for all ENRG email communications</p>
            <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.6rem; color: var(--gray-dark); border-radius: var(--radius-md); overflow-x: auto; margin: 0;">┌──────────────────────────────────┐
│  Stay Connected                   │
│  [FB] [IG] [LI]                   │
│                                   │
│  ENRG.realty                      │
│  123 Main St, Suite 100           │
│  City, State 12345                │
│                                   │
│  Equal Housing Opportunity        │
│  Unsubscribe | Privacy Policy     │
└──────────────────────────────────┘
Background: Gray 50</pre>
          </div>
        </div>
      </div>

      <!-- Typography & Button Styling -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Typography & Button Styling</h3>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Email-Safe Typography</h4>
        <div style="background: var(--bg-elevated); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1.5rem;">
          <div style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Font Stack:</div>
          <code style="background: var(--white); border: 1px solid var(--border); padding: 0.5rem; border-radius: var(--radius-sm); font-size: 0.75rem; display: block;">font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;</code>
          <p style="font-size: 0.75rem; color: var(--gray-dark); margin-top: 0.5rem; margin-bottom: 0;">If Plus Jakarta Sans not loading, fallback to system fonts.</p>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Email Type Scale</h4>
        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Element</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Size</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Weight</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Line Height</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Headline</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">24px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">700 (Bold)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">#111827 (Gray 900)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1.2</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Subheadline</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">18px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">600 (SemiBold)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">#1F2937 (Gray 800)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1.3</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Body Text</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">15px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">400 (Regular)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">#374151 (Gray 700)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1.6</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Small Text</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">13px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">400 (Regular)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">#6B7280 (Gray 500)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1.5</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Captions</td>
                <td style="padding: 0.75rem 1rem; color: var(--purple-primary); font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem;">11px</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">400 (Regular)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">#9CA3AF (Gray 400)</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">1.4</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Button Styling</h4>
        <div class="grid grid-auto-280 gap-md">
          <div style="background: var(--bg-elevated); padding: 1rem; border-radius: var(--radius-md);">
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Primary Button</div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.5rem; border-radius: var(--radius-sm); font-size: 0.6rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">&lt;a</span> <span style="color: #D19A66;">href</span>=<span style="color: #98C379;">"..."</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"background: #6021E6; color: white; padding: 12px 32px; border-radius: 6px;"</span><span style="color: #E06C75;">&gt;</span>View Listing<span style="color: #E06C75;">&lt;/a&gt;</span></pre>
          </div>
          <div style="background: var(--bg-elevated); padding: 1rem; border-radius: var(--radius-md);">
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Secondary Button</div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.5rem; border-radius: var(--radius-sm); font-size: 0.6rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">&lt;a</span> <span style="color: #D19A66;">href</span>=<span style="color: #98C379;">"..."</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"background: white; color: #6021E6; border: 2px solid #6021E6;"</span><span style="color: #E06C75;">&gt;</span>Contact Me<span style="color: #E06C75;">&lt;/a&gt;</span></pre>
          </div>
          <div style="background: var(--bg-elevated); padding: 1rem; border-radius: var(--radius-md);">
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.5rem;">Text Link</div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.5rem; border-radius: var(--radius-sm); font-size: 0.6rem; overflow-x: auto; margin: 0;"><span style="color: #E06C75;">&lt;a</span> <span style="color: #D19A66;">href</span>=<span style="color: #98C379;">"..."</span> <span style="color: #D19A66;">style</span>=<span style="color: #98C379;">"color: #6021E6; text-decoration: underline;"</span><span style="color: #E06C75;">&gt;</span>Learn more<span style="color: #E06C75;">&lt;/a&gt;</span></pre>
          </div>
        </div>
      </div>

      <!-- Installation Instructions -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Email Signature Installation</h3>

        <div class="grid grid-2 gap-md">
          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Gmail</div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Gmail Installation</h4>
            <ol style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Open Gmail → Click <strong>Settings</strong> (gear icon) → <strong>See all settings</strong></li>
              <li>Scroll to <strong>Signature</strong> section</li>
              <li>Click <strong>+ Create new</strong> → Name it "ENRG Signature"</li>
              <li>Paste HTML code in editor</li>
              <li>Upload headshot image via <strong>Insert image</strong> button</li>
              <li>Set as default signature for new emails and replies</li>
              <li>Click <strong>Save Changes</strong></li>
            </ol>
          </div>

          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Outlook</div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Outlook Desktop</h4>
            <ol style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Open Outlook → <strong>File</strong> → <strong>Options</strong> → <strong>Mail</strong> → <strong>Signatures</strong></li>
              <li>Click <strong>New</strong> → Name it "ENRG Signature"</li>
              <li>Paste HTML code</li>
              <li>Upload headshot via <strong>Insert Picture</strong></li>
              <li>Set as default for new messages and replies/forwards</li>
              <li>Click <strong>OK</strong></li>
            </ol>
          </div>

          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Apple Mail</div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Apple Mail</h4>
            <ol style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Open Mail → <strong>Mail</strong> → <strong>Settings</strong> → <strong>Signatures</strong></li>
              <li>Select email account in left panel</li>
              <li>Click <strong>+</strong> to create new signature</li>
              <li>Name it "ENRG Signature"</li>
              <li>Paste HTML code</li>
              <li>Drag-and-drop headshot image into signature area</li>
              <li>Close Settings (auto-saves)</li>
            </ol>
          </div>

          <div class="card">
            <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Outlook Web</div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Outlook.com</h4>
            <ol style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li>Open Outlook.com → <strong>Settings</strong> (gear icon) → <strong>View all Outlook settings</strong></li>
              <li>Go to <strong>Mail</strong> → <strong>Compose and reply</strong></li>
              <li>Under <strong>Email signature</strong>, paste HTML code</li>
              <li>Use <strong>Insert image</strong> to add headshot</li>
              <li>Check "Include signature on new messages" and "on replies/forwards"</li>
              <li>Click <strong>Save</strong></li>
            </ol>
          </div>
        </div>
      </div>

      <!-- Email Content Best Practices -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Email Content Best Practices</h3>

        <div class="grid grid-auto-280 gap-md">
          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md);">
            <h4 style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Subject Lines</h4>
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--green); margin-bottom: 0.5rem;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.35rem;">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Good Examples:
            </div>
            <ul style="margin: 0; padding-left: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>"New Listing: 3BR Home in [Neighborhood] - $XXX,XXX"</li>
              <li>"Market Update: [City] Real Estate Trends - January 2026"</li>
              <li>"Open House This Weekend - [Address]"</li>
            </ul>
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--red); margin-top: 0.75rem; margin-bottom: 0.5rem;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.35rem;">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              Avoid:
            </div>
            <ul style="margin: 0; padding-left: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>ALL CAPS SUBJECT LINES</li>
              <li>Excessive punctuation (!!!)</li>
              <li>Misleading clickbait</li>
            </ul>
          </div>

          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md);">
            <h4 style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Greeting</h4>
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--green); margin-bottom: 0.5rem;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.35rem;">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Professional:
            </div>
            <ul style="margin: 0; padding-left: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>"Hi [First Name],"</li>
              <li>"Hello [First Name],"</li>
              <li>"Good morning/afternoon, [First Name],"</li>
            </ul>
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--red); margin-top: 0.75rem; margin-bottom: 0.5rem;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.35rem;">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              Avoid:
            </div>
            <ul style="margin: 0; padding-left: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>"Hey" (too casual)</li>
              <li>"Dear Sir/Madam" (too formal)</li>
              <li>No greeting (cold)</li>
            </ul>
          </div>

          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md);">
            <h4 style="font-size: 0.875rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Closing</h4>
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--green); margin-bottom: 0.5rem;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.35rem;">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Recommended:
            </div>
            <ul style="margin: 0; padding-left: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>"Best regards,"</li>
              <li>"Best,"</li>
              <li>"Thank you,"</li>
              <li>"Looking forward to hearing from you,"</li>
            </ul>
            <div style="font-size: 0.75rem; font-weight: 600; color: var(--red); margin-top: 0.75rem; margin-bottom: 0.5rem;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="display: inline-block; vertical-align: middle; margin-right: 0.35rem;">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
              Avoid:
            </div>
            <ul style="margin: 0; padding-left: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>"Cheers" (too casual)</li>
              <li>"Sincerely yours" (too formal)</li>
              <li>No closing (abrupt)</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- QC Checklist -->
      <div class="card">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">QC Checklist</h3>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1.5rem;">Before sending email, verify all items:</p>

        <div style="background: var(--bg-elevated); padding: 1.5rem; border-radius: var(--radius-md);">
          <div style="display: grid; gap: 0.75rem;">
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Signature includes correct headshot</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>All links are clickable and lead to correct URLs</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Phone number is formatted consistently</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Email address is correct</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Logo displays properly (not broken image)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Equal Housing Opportunity disclosure present (agents only)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Mobile preview looks acceptable (test on phone)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Spelling and grammar are correct</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Recipient name is spelled correctly</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Subject line is clear and accurate</span>
            </label>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Data Visualization Section -->
  <section id="photography-stock" data-category="For Designers" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Designers</span>
        <h2 class="section-title" style="color: var(--black);">
          Photography & Stock Imagery
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Visual style guidelines, approved stock sources, and image treatment standards.</p>
      </div>

      <div class="section-content">
      <!-- Overview Callout -->
      <div style="background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; padding: 1.25rem; margin-bottom: 2rem;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">Key Principle</div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">Photography establishes the emotional tone of ENRG's brand. All visuals should feel <strong>modern, warm, and aspirational</strong>, reflecting the energy and professionalism of the real estate experience. Show real moments, not staged perfection. Authenticity over artifice.</div>
      </div>

      <!-- Visual Character Guidelines -->
      <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl); margin-bottom: 2rem;">
        <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Visual Character</h3>
        <div class="grid grid-2 gap-md">
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--green); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
              ENRG photography IS:
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li style="margin-bottom: 0.5rem;"><strong>Modern:</strong> Clean lines, contemporary architecture, updated interiors</li>
              <li style="margin-bottom: 0.5rem;"><strong>Warm:</strong> Natural light, golden hour tones, inviting atmospheres</li>
              <li style="margin-bottom: 0.5rem;"><strong>Aspirational:</strong> Desirable but attainable, luxury without ostentation</li>
              <li style="margin-bottom: 0.5rem;"><strong>Human:</strong> People in natural moments, genuine expressions</li>
            </ul>
          </div>
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--red); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
              ENRG photography is NOT:
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.8;">
              <li style="margin-bottom: 0.5rem;">Overly staged or artificial</li>
              <li style="margin-bottom: 0.5rem;">Dark, moody, or dramatic (avoid noir aesthetics)</li>
              <li style="margin-bottom: 0.5rem;">Cluttered or chaotic</li>
              <li style="margin-bottom: 0.5rem;">Dated or vintage (avoid retro filters or outdated decor)</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Real Estate Photography Standards -->
      <h3 style="font-size: 1.25rem; font-weight: 600; margin: 3rem 0 1.5rem; color: var(--black);">Real Estate Photography Standards</h3>

      <div class="grid grid-2 gap-md" style="margin-bottom: 2rem;">
        <!-- Property Photography Guidelines -->
        <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl);">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; color: var(--purple-primary); text-transform: uppercase; letter-spacing: 0.05em;">Property Photography</h4>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 600; font-size: 0.8125rem; margin-bottom: 0.5rem; color: var(--black);">Exterior Shots:</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>Golden hour (1 hour after sunrise or before sunset)</li>
              <li>Include landscaping and curb appeal</li>
              <li>Wide-angle lens (16-24mm), avoid excessive distortion</li>
              <li>Ensure straight verticals (no leaning buildings)</li>
            </ul>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 600; font-size: 0.8125rem; margin-bottom: 0.5rem; color: var(--black);">Interior Shots:</div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li>Natural light preferred (open curtains, blinds)</li>
              <li>Use HDR or bracketing for balanced exposure</li>
              <li>Declutter and stage minimally</li>
              <li>Shoot from corners at 4-5 feet height (eye level)</li>
            </ul>
          </div>

          <div>
            <div style="font-weight: 600; font-size: 0.8125rem; margin-bottom: 0.5rem; color: var(--black);">Room Priorities:</div>
            <div style="display: grid; grid-template-columns: auto 1fr; gap: 0.5rem; font-size: 0.75rem; color: var(--gray-dark);">
              <span style="font-weight: 600; color: var(--purple-primary);">1.</span><span>Kitchen (most important, multiple angles)</span>
              <span style="font-weight: 600; color: var(--purple-primary);">2.</span><span>Living Room (show flow and layout)</span>
              <span style="font-weight: 600; color: var(--purple-primary);">3.</span><span>Primary Bedroom (serene, inviting)</span>
              <span style="font-weight: 600; color: var(--purple-primary);">4.</span><span>Bathrooms (clean, well-lit, updated)</span>
              <span style="font-weight: 600; color: var(--purple-primary);">5.</span><span>Outdoor Spaces (patios, decks, yards)</span>
            </div>
          </div>
        </div>

        <!-- Technical Settings -->
        <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl);">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; color: var(--purple-primary); text-transform: uppercase; letter-spacing: 0.05em;">Technical Settings</h4>

          <div style="display: grid; grid-template-columns: auto 1fr; gap: 0.75rem 1rem; font-size: 0.8125rem;">
            <div style="font-weight: 600; color: var(--black);">ISO:</div>
            <div style="color: var(--gray-dark);">100-400 (minimize noise)</div>

            <div style="font-weight: 600; color: var(--black);">Aperture:</div>
            <div style="color: var(--gray-dark);">f/8-f/11 (sharp focus front-to-back)</div>

            <div style="font-weight: 600; color: var(--black);">White Balance:</div>
            <div style="color: var(--gray-dark);">Daylight (5000-5500K) or Auto with correction</div>

            <div style="font-weight: 600; color: var(--black);">Format:</div>
            <div style="color: var(--gray-dark);">RAW for editing, JPEG for web</div>
          </div>

          <div style="margin-top: 1.5rem; padding: 0.75rem; background: var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem; color: var(--gray-dark);">
            <strong style="color: var(--black);">Lifestyle & People:</strong> See <a href="#headshot-standards" style="color: var(--purple-primary); text-decoration: none; font-weight: 500;">Headshot Standards</a> for agent portraits. For lifestyle scenes: authentic moments, diverse representation, natural interactions in real estate contexts.
          </div>
        </div>
      </div>

      <!-- Color Grading & Filters -->
      <h3 style="font-size: 1.25rem; font-weight: 600; margin: 3rem 0 1.5rem; color: var(--black);">Color Grading & Filters</h3>

      <div class="grid grid-auto-280 gap-md" style="margin-bottom: 2rem;">
        <!-- Warm & Inviting Style -->
        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Primary Style</div>
          <div style="font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Warm & Inviting</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.5;">Slight warm shift, enhanced golden hour tones, lifted shadows, soft contrast</div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;">Exposure: +0.3
Contrast: +10
Highlights: -15
Shadows: +20
Whites: +10
Blacks: -5
Temperature: +5
Tint: +2
Vibrance: +15
Saturation: +5</pre>
        </div>

        <!-- Clean & Modern Style -->
        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Secondary Style</div>
          <div style="font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Clean & Modern</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.5;">Neutral white balance, enhanced whites, crisp but not oversaturated, minimal vignetting</div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;">Exposure: +0.2
Contrast: +15
Highlights: -10
Shadows: +15
Whites: +15
Blacks: 0
Temperature: 0
Tint: 0
Clarity: +10
Vibrance: +10</pre>
        </div>

        <!-- Luxury Style -->
        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">High-End Listings</div>
          <div style="font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Luxury</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.5;">Deeper shadows for drama, rich tones, subtle purple cast in shadows, enhanced contrast</div>
          <div style="padding: 0.75rem; background: var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem; color: var(--gray-dark); line-height: 1.5;">
            <strong style="color: var(--black);">Brand Integration:</strong> Add subtle purple color cast in shadows to integrate brand identity into luxury property photography.
          </div>
        </div>
      </div>

      <!-- Avoid These Filters -->
      <div class="card icon-card-warning" style="margin-bottom: 2rem; border-left: 4px solid var(--color-danger-border);">
        <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--red); margin-bottom: 0.5rem;">Never Use</div>
        <div style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Prohibited Filters</div>
        <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
          <li style="margin-bottom: 0.5rem;">Heavy vignetting (dark corners)</li>
          <li style="margin-bottom: 0.5rem;">Black-and-white or sepia tones (dated)</li>
          <li style="margin-bottom: 0.5rem;">Oversaturated "Instagram" filters</li>
          <li style="margin-bottom: 0.5rem;">Vintage film grain effects</li>
          <li style="margin-bottom: 0.5rem;">Extreme HDR (halo artifacts, unnatural glow)</li>
        </ul>
      </div>

      <!-- Approved Stock Sources -->
      <h3 style="font-size: 1.25rem; font-weight: 600; margin: 3rem 0 1.5rem; color: var(--black);">Approved Stock Sources</h3>

      <div style="overflow-x: auto; margin-bottom: 2rem;">
        <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
          <thead>
            <tr style="background: var(--gray-light);">
              <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Source</th>
              <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">License Type</th>
              <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Best For</th>
              <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Cost</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-top: 1px solid var(--gray-light);">
              <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Unsplash</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Free (Unsplash License)</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Lifestyle, interiors, architecture</td>
              <td style="padding: 0.75rem 1rem; color: var(--green); font-weight: 600;">Free</td>
            </tr>
            <tr style="border-top: 1px solid var(--gray-light);">
              <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Pexels</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Free (Pexels License)</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">People, homes, general lifestyle</td>
              <td style="padding: 0.75rem 1rem; color: var(--green); font-weight: 600;">Free</td>
            </tr>
            <tr style="border-top: 1px solid var(--gray-light);">
              <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Adobe Stock</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Paid (Standard License)</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">High-quality professional imagery</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">$29.99/month (10 images)</td>
            </tr>
            <tr style="border-top: 1px solid var(--gray-light);">
              <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">iStock</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Paid (Standard License)</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Diverse real estate scenes</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">$29/month (10 images)</td>
            </tr>
            <tr style="border-top: 1px solid var(--gray-light);">
              <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Shutterstock</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Paid (Standard License)</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Extensive library, people-focused</td>
              <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">$29/month (10 images)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Stock Source Cards with Links -->
      <div class="grid grid-auto-280 gap-md" style="margin-bottom: 2rem;">
        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Free Stock</div>
          <div style="font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Unsplash</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">High-quality, free stock photos with commercial use allowed. Excellent for lifestyle and architectural imagery.</div>
          <a href="https://unsplash.com" target="_blank" class="font-download" style="display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.8125rem; font-weight: 500; color: var(--purple-primary); text-decoration: none; margin-top: 0.75rem;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
              <polyline points="15 3 21 3 21 9"/>
              <line x1="10" y1="14" x2="21" y2="3"/>
            </svg>
            Visit Unsplash
          </a>
        </div>

        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Free Stock</div>
          <div style="font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Pexels</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Curated free photos and videos. Great for people-focused imagery and home/lifestyle content.</div>
          <a href="https://pexels.com" target="_blank" class="font-download" style="display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.8125rem; font-weight: 500; color: var(--purple-primary); text-decoration: none; margin-top: 0.75rem;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
              <polyline points="15 3 21 3 21 9"/>
              <line x1="10" y1="14" x2="21" y2="3"/>
            </svg>
            Visit Pexels
          </a>
        </div>

        <div class="card">
          <div style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple-primary); margin-bottom: 0.5rem;">Paid Premium</div>
          <div style="font-size: 1.125rem; font-weight: 600; color: var(--black); margin-bottom: 0.5rem;">Adobe Stock</div>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Professional-grade imagery with extensive licensing options. Integrates with Creative Cloud workflows.</div>
          <a href="https://stock.adobe.com" target="_blank" class="font-download" style="display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.8125rem; font-weight: 500; color: var(--purple-primary); text-decoration: none; margin-top: 0.75rem;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
              <polyline points="15 3 21 3 21 9"/>
              <line x1="10" y1="14" x2="21" y2="3"/>
            </svg>
            Visit Adobe Stock
          </a>
        </div>
      </div>

      <!-- Image Treatment Techniques -->
      <h3 style="font-size: 1.25rem; font-weight: 600; margin: 3rem 0 1.5rem; color: var(--black);">Image Treatment for Brand Consistency</h3>

      <div class="grid grid-2 gap-md" style="margin-bottom: 2rem;">
        <!-- Purple Overlay Technique -->
        <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl);">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; color: var(--purple-primary); text-transform: uppercase; letter-spacing: 0.05em;">Purple Overlay Technique</h4>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.6;">
            <strong style="color: var(--black);">When:</strong> Using generic stock photos that need brand integration.
          </div>
          <div style="font-size: 0.75rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.6;">
            <strong>Photoshop:</strong> Create layer with Purple 500 (#6021E6), set blend mode to "Multiply" or "Color", reduce opacity to 10-20%.
          </div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;">/* CSS Equivalent */
.branded-image {
  position: relative;
}
.branded-image::after {
  content: '';
  position: absolute;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background: rgba(96, 33, 230, 0.1);
  mix-blend-mode: multiply;
  pointer-events: none;
}</pre>
        </div>

        <!-- Gradient Mask Technique -->
        <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl);">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; color: var(--purple-primary); text-transform: uppercase; letter-spacing: 0.05em;">Gradient Mask Technique</h4>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.6;">
            <strong style="color: var(--black);">When:</strong> Hero images that need text overlay for readability.
          </div>
          <div style="font-size: 0.75rem; color: var(--gray-dark); margin-bottom: 1rem; line-height: 1.6;">
            Gradient from Purple 800 (bottom) to transparent (top), overlay on bottom 40% of image, place white text on gradient area.
          </div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;">/* Hero Image Gradient */
.hero-image-mask {
  background: linear-gradient(
    to top,
    rgba(41, 0, 128, 0.85) 0%,
    transparent 50%
  );
}</pre>
        </div>
      </div>

      <!-- Stock Image Selection Criteria -->
      <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl); margin-bottom: 2rem;">
        <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Stock Image Selection Criteria</h3>
        <div class="grid grid-2 gap-md">
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--green); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
              Use Images That Are:
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li style="margin-bottom: 0.5rem;"><strong>High Resolution:</strong> Minimum 2000px on longest side</li>
              <li style="margin-bottom: 0.5rem;"><strong>Well-Lit:</strong> Natural light, even exposure</li>
              <li style="margin-bottom: 0.5rem;"><strong>On-Brand:</strong> Modern, warm, aspirational aesthetic</li>
              <li style="margin-bottom: 0.5rem;"><strong>Authentic:</strong> Real moments, not overly staged</li>
              <li style="margin-bottom: 0.5rem;"><strong>Diverse:</strong> Varied ages, ethnicities, family structures</li>
              <li style="margin-bottom: 0.5rem;"><strong>Relevant:</strong> Clear connection to real estate, homeownership</li>
            </ul>
          </div>
          <div>
            <div style="font-size: 0.8125rem; font-weight: 600; color: var(--red); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
              Avoid Images That Are:
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <li style="margin-bottom: 0.5rem;"><strong>Clichéd:</strong> Overused stock tropes (couple with house keys)</li>
              <li style="margin-bottom: 0.5rem;"><strong>Dated:</strong> Old fashion, decor, or technology</li>
              <li style="margin-bottom: 0.5rem;"><strong>Watermarked:</strong> Always download licensed, clean files</li>
              <li style="margin-bottom: 0.5rem;"><strong>Cluttered:</strong> Busy backgrounds that distract</li>
              <li style="margin-bottom: 0.5rem;"><strong>Inconsistent:</strong> Drastically different styles from ENRG</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- File Organization -->
      <h3 style="font-size: 1.25rem; font-weight: 600; margin: 3rem 0 1.5rem; color: var(--black);">Asset Organization</h3>

      <div class="grid grid-2 gap-md">
        <!-- File Naming Convention -->
        <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl);">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; color: var(--purple-primary); text-transform: uppercase; letter-spacing: 0.05em;">File Naming Convention</h4>
          <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.65rem; color: var(--gray-dark); border-radius: var(--radius-md); overflow-x: auto; margin-bottom: 1rem;">{ProjectType}_{Location}_{Description}_{Photographer}_{Date}.{ext}</pre>
          <div style="font-size: 0.75rem; color: var(--gray-dark); margin-bottom: 0.5rem;"><strong style="color: var(--black);">Examples:</strong></div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;">Listing_123MainSt_Kitchen_JohnDoe_2026-01-15.jpg
Marketing_SocialPost_FamilyMovingIn_Stock_2026-01.jpg
Headshot_SmithJohn_SoftLavender_2026-01-10.jpg</pre>
        </div>

        <!-- Folder Structure -->
        <div class="card" style="background: var(--white); border: 1px solid var(--border); border-radius: var(--radius-xl);">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; color: var(--purple-primary); text-transform: uppercase; letter-spacing: 0.05em;">Folder Structure</h4>
          <pre style="background: var(--bg-elevated); border: 1px solid var(--border); padding: 0.75rem; font-size: 0.65rem; color: var(--gray-dark); border-radius: var(--radius-md); overflow-x: auto; margin: 0;">ENRG Photography/
├── Listings/
│   ├── 2026/
│   │   ├── 123-Main-St/
│   │   │   ├── Exterior/
│   │   │   ├── Interior/
│   │   │   └── Edited/
├── Marketing/
│   ├── Stock-Licensed/
│   ├── Original-Shoots/
│   └── Social-Media/
├── Headshots/
│   ├── Agents/
│   ├── Leadership/
│   └── Staff/
└── Brand-Assets/
    ├── Lifestyle/
    └── Architecture/</pre>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Headshot Standards Section -->
  <section id="data-visualization" data-category="For Designers" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Designers</span>
        <h2 class="section-title" style="color: var(--black);">
          Data Visualization
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Chart color palettes, styling guidelines, and best practices for creating data-driven visualizations.</p>
      </div>

      <div class="section-content">
      <!-- Overview Callout -->
      <div style="background: var(--bg-elevated); border-left: 4px solid var(--purple-primary); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; padding: 1.25rem; margin-bottom: 2rem;">
        <div style="font-size: 0.875rem; font-weight: 600; color: var(--purple-primary); margin-bottom: 0.75rem;">Key Principle</div>
        <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">Data visualization brings ENRG's market insights and performance metrics to life. Whether presenting to agents, leadership, or clients, effective data visualization balances aesthetic appeal with clarity and accuracy. <strong>Clarity first, beauty second.</strong> Data should tell a story without decoration.</div>
      </div>

      <!-- Chart Color Palette -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Chart Color Palette</h3>

        <!-- Sequential Scale -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Sequential Scale (Single-Variable Data)</h4>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;"><strong>Use Case:</strong> Heatmaps, choropleth maps, single-metric progressions</p>

        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Step</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color Name</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Hex</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Swatch</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">1</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple Pale</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#F3F0FF</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #F3F0FF; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Lightest data point</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">2</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 100</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#E9D5FF</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #E9D5FF; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Very low values</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">3</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 200</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#DDD6FE</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #DDD6FE; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Low values</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">4</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 300</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#C4B5FD</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #C4B5FD; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Below average</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">5</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 400</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#A78BFA</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #A78BFA; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Average</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">6</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 500</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#8B5CF6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #8B5CF6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Above average</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">7</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 600</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#7C3AED</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #7C3AED; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">High values</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">8</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 700</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6D28D9</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6D28D9; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Very high values</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">9</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 800</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#5B21B6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #5B21B6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Highest data point</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">10</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple 900</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#4C1D95</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #4C1D95; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Maximum extreme</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Categorical Scale -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Categorical Scale (Multi-Category Data)</h4>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;"><strong>Use Case:</strong> Bar charts, pie charts, multi-line graphs, grouped categories</p>

        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Category</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Hex</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Swatch</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">1</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple Primary</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6021E6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Primary category or ENRG data</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">2</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Blue</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#3B82F6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #3B82F6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Secondary category</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">3</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Green</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#10B981</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #10B981; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Positive/growth indicator</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">4</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Orange</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#FF6039</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #FF6039; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Accent/highlight (ENRG orange)</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">5</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Gray</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6B7280</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6B7280; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Neutral/comparison data</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">6</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Red</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#EF4444</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #EF4444; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Negative/decline indicator</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Semantic Colors -->
        <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Semantic Colors</h4>
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Meaning</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Color</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Hex</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Swatch</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Positive</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Green</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#10B981</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #10B981; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Growth, increase, success</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Negative</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Red</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#EF4444</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #EF4444; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Decline, decrease, alerts</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Neutral</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Gray</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6B7280</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6B7280; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Baseline, comparison</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Highlight</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Orange</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#FF6039</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #FF6039; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Key data point, attention</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Primary</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Purple</td>
                <td style="padding: 0.75rem 1rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.75rem; color: var(--purple-primary);">#6021E6</td>
                <td style="padding: 0.75rem 1rem;"><div style="width: 48px; height: 24px; background: #6021E6; border: 1px solid var(--border); border-radius: 4px;"></div></td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark); font-size: 0.75rem;">Main metric, ENRG data</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Chart Types & Styling -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Chart Types & Styling</h3>

        <div class="grid grid-2 gap-md">
          <div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Bar Charts</h4>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Vertical or horizontal bars for comparing categories</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.bar</span> {
  <span style="color: #E06C75;">fill</span>: <span style="color: #98C379;">#6021E6</span>;
  <span style="color: #E06C75;">transition</span>: <span style="color: #98C379;">fill 0.2s ease</span>;
}

<span style="color: #C678DD;">.bar:hover</span> {
  <span style="color: #E06C75;">fill</span>: <span style="color: #98C379;">#7C3AED</span>;
}</pre>
            <div style="margin-top: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <strong>Guidelines:</strong> Bar width 40-60% of space, 20-40% spacing, 4px corner radius on top
            </div>
          </div>

          <div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Line Charts</h4>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Trends over time with optional area fill</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.line</span> {
  <span style="color: #E06C75;">stroke</span>: <span style="color: #98C379;">#6021E6</span>;
  <span style="color: #E06C75;">stroke-width</span>: <span style="color: #98C379;">3px</span>;
  <span style="color: #E06C75;">fill</span>: <span style="color: #98C379;">none</span>;
  <span style="color: #E06C75;">stroke-linecap</span>: <span style="color: #98C379;">round</span>;
}</pre>
            <div style="margin-top: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <strong>Multi-line:</strong> ENRG purple 3px, comparison gray 2px dashed
            </div>
          </div>

          <div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Pie & Donut Charts</h4>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Parts of a whole (max 5-6 slices)</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.pie-slice</span> {
  <span style="color: #E06C75;">stroke</span>: <span style="color: #98C379;">white</span>;
  <span style="color: #E06C75;">stroke-width</span>: <span style="color: #98C379;">2px</span>;
}

<span style="color: #C678DD;">.pie-slice-1</span> { <span style="color: #E06C75;">fill</span>: <span style="color: #98C379;">#6021E6</span>; }
<span style="color: #C678DD;">.pie-slice-2</span> { <span style="color: #E06C75;">fill</span>: <span style="color: #98C379;">#3B82F6</span>; }</pre>
            <div style="margin-top: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <strong>Donut preferred:</strong> 50-60% hole size, center text for total
            </div>
          </div>

          <div>
            <h4 style="font-size: 1rem; font-weight: 600; color: var(--black); margin-bottom: 0.75rem;">Scatter Plots</h4>
            <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1rem;">Correlation between two variables</p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.65rem; overflow-x: auto; margin: 0;"><span style="color: #C678DD;">.scatter-point</span> {
  <span style="color: #E06C75;">fill</span>: <span style="color: #98C379;">#6021E6</span>;
  <span style="color: #E06C75;">fill-opacity</span>: <span style="color: #98C379;">0.6</span>;
  <span style="color: #E06C75;">r</span>: <span style="color: #98C379;">6px</span>;
}

<span style="color: #C678DD;">.trend-line</span> {
  <span style="color: #E06C75;">stroke</span>: <span style="color: #98C379;">#FF6039</span>;
  <span style="color: #E06C75;">stroke-dasharray</span>: <span style="color: #98C379;">5, 5</span>;
}</pre>
            <div style="margin-top: 1rem; font-size: 0.75rem; color: var(--gray-dark); line-height: 1.6;">
              <strong>Guidelines:</strong> 60-80% opacity if points overlap, optional orange dashed trend line
            </div>
          </div>
        </div>
      </div>

      <!-- Chart Anti-Patterns -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Chart Anti-Patterns (Avoid These)</h3>

        <div class="grid grid-auto-280 gap-md">
          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); border-left: 3px solid var(--red);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--red); margin-bottom: 0.5rem;">❌ 3D Charts</div>
            <p style="font-size: 0.75rem; color: var(--gray-dark); margin: 0; line-height: 1.6;"><strong>Problem:</strong> Distorts data, adds unnecessary decoration, looks dated. <strong>Fix:</strong> Use flat 2D charts.</p>
          </div>

          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); border-left: 3px solid var(--red);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--red); margin-bottom: 0.5rem;">❌ Dual-Axis Charts</div>
            <p style="font-size: 0.75rem; color: var(--gray-dark); margin: 0; line-height: 1.6;"><strong>Problem:</strong> Can mislead by scaling axes differently. <strong>Fix:</strong> Use two separate charts side-by-side.</p>
          </div>

          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); border-left: 3px solid var(--red);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--red); margin-bottom: 0.5rem;">❌ Excessive Decoration</div>
            <p style="font-size: 0.75rem; color: var(--gray-dark); margin: 0; line-height: 1.6;"><strong>Problem:</strong> Gradients, shadows, textures distract from data. <strong>Fix:</strong> Minimal styling, focus on data.</p>
          </div>

          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); border-left: 3px solid var(--red);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--red); margin-bottom: 0.5rem;">❌ Too Many Categories</div>
            <p style="font-size: 0.75rem; color: var(--gray-dark); margin: 0; line-height: 1.6;"><strong>Problem:</strong> 10+ pie slices or 20+ bars become unreadable. <strong>Fix:</strong> Group small categories into "Other".</p>
          </div>

          <div style="background: var(--bg-elevated); padding: 1.25rem; border-radius: var(--radius-md); border-left: 3px solid var(--red);">
            <div style="font-size: 0.875rem; font-weight: 600; color: var(--red); margin-bottom: 0.5rem;">❌ Truncated Y-Axis</div>
            <p style="font-size: 0.75rem; color: var(--gray-dark); margin: 0; line-height: 1.6;"><strong>Problem:</strong> Non-zero start exaggerates differences. <strong>Fix:</strong> Start Y-axis at zero for bar charts.</p>
          </div>
        </div>
      </div>

      <!-- Tools & Recommendations -->
      <div class="card" style="margin-bottom: 2rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Tools & Recommendations</h3>

        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 0.8125rem; background: var(--white); border-radius: var(--radius-lg); overflow: hidden;">
            <thead>
              <tr style="background: var(--gray-light);">
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tool</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Use Case</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Pros</th>
                <th style="text-align: left; padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Cons</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Google Sheets</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Quick charts, presentations</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Easy, collaborative</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Limited customization</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Excel</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Complex data analysis</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Powerful, familiar</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Charts can look dated</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Tableau</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Dashboards, interactive viz</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Professional, interactive</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Expensive, learning curve</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Figma</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Custom infographics</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Full design control</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Manual, time-consuming</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">D3.js</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Web-based custom viz</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Highly customizable</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Requires coding</td>
              </tr>
              <tr style="border-top: 1px solid var(--gray-light);">
                <td style="padding: 0.75rem 1rem; font-weight: 600; color: var(--black);">Chart.js</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Web dashboards</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Lightweight, easy</td>
                <td style="padding: 0.75rem 1rem; color: var(--gray-dark);">Limited chart types</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Data Visualization Checklist -->
      <div class="card">
        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--black); margin-bottom: 1rem;">Data Visualization Checklist</h3>
        <p style="font-size: 0.8125rem; color: var(--gray-dark); margin-bottom: 1.5rem;">Before publishing a chart, verify all items:</p>

        <div style="background: var(--bg-elevated); padding: 1.5rem; border-radius: var(--radius-md);">
          <div style="display: grid; gap: 0.75rem;">
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Chart type is appropriate for data (bar vs. line vs. pie)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Colors use ENRG brand palette (purple primary)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Text is readable (font size, color contrast)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Axes are labeled clearly</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Legend is present (if needed)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Data is accurate and sourced</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Y-axis starts at zero (for bar charts)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>No 3D effects or unnecessary decoration</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Accessible (alt text, color + pattern, contrast)</span>
            </label>
            <label style="display: flex; align-items: flex-start; gap: 0.75rem; font-size: 0.8125rem; color: var(--gray-dark); cursor: pointer;">
              <input type="checkbox" style="margin-top: 0.25rem; width: 16px; height: 16px; cursor: pointer;">
              <span>Consistent with other ENRG visualizations</span>
            </label>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Sub-brands Section -->
  <section id="iconography" data-category="For Designers" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Designers</span>
        <h2 class="section-title" style="color: var(--black);">
          Iconography
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Icon sources and the no-emoji rule.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-auto-280 gap-md">
        <div class="card">
          <div class="icon-card-title">Brand Icons</div>
          <div class="icon-card-name">iMaterial Icons Light</div>
          <div class="icon-card-desc">Sleek, minimal, light-weight strokes for marketing materials, website, and presentations.</div>
          <a class="font-download" href="https://ui8.net/mosquitoes/products/imaterial-pro-icons" target="_blank" style="margin-top: 0.75rem;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
            Get Icons
          </a>
        </div>

        <div class="card">
          <div class="icon-card-title">Tool Icons</div>
          <div class="icon-card-name">Inline SVG + Unicode</div>
          <div class="icon-card-desc">Custom inline SVG icons or Unicode symbols for validators and internal tools.</div>
          <div class="icon-card-examples">Examples: <span style="color: var(--green);">&#10003;</span> checkmark, <span style="color: var(--orange);">&#8226;</span> bullet, &#8594; arrow</div>
        </div>

        <div class="card icon-card-warning">
          <div class="icon-card-title">Never Use</div>
          <div class="icon-card-name">Emojis</div>
          <div class="icon-card-desc">Emoji characters are banned across all ENRG materials. Use SVG icons or Unicode symbols instead.</div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Motion & Animation Section -->
  <section id="motion" data-category="For Developers" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Design System</span>
        <h2 class="section-title" style="color: var(--black);">
          Motion & Animation
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Transitions communicate, they don't decorate. Motion serves a functional purpose: providing feedback, guiding attention, and clarifying relationships.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-2 gap-md">
        <!-- Core Principle -->
        <div class="content-card" style="background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--purple-primary);">Core Principle</h3>
          <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; font-weight: 500;">
            <strong>Transitions communicate, they don't decorate.</strong>
          </p>
          <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin-top: 0.75rem;">
            Animation should tell the user <em>what just happened</em> or <em>where to look</em>. If everything animates the same way, nothing communicates.
          </p>
        </div>

        <!-- Allowed Transitions -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Allowed Transitions</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; gap: 0.75rem;">
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">opacity</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">0.15s: Show/hide elements (dropdowns, overlays)</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">transform: translateX/Y</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">0.2-0.3s: Panel slide-in, dropdown appearance</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">background, color, border-color</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">0.15s: Hover state changes</div>
              </div>
              <div style="border-left: 3px solid var(--purple-primary); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--black);">box-shadow</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">0.2s: Card elevation, depth shifts</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Duration Guidelines -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Duration Guidelines</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; gap: 0.75rem;">
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="font-family: monospace; font-weight: 700; color: var(--purple-primary); min-width: 60px;">0.15s</div>
                <div>Fast feedback (hover states, color changes)</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="font-family: monospace; font-weight: 700; color: var(--purple-primary); min-width: 60px;">0.2s</div>
                <div>Standard transitions (card lifts, shadows)</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="font-family: monospace; font-weight: 700; color: var(--purple-primary); min-width: 60px;">0.3s</div>
                <div>Larger movements (panel slides, modal entry)</div>
              </div>
            </div>
            <p style="margin-top: 1rem; padding: 0.75rem; background: var(--gray-pale); border-radius: var(--radius-md); font-size: 0.75rem;">
              <strong>Rule:</strong> Never exceed 0.3s. Longer durations feel sluggish and harm perceived performance.
            </p>
          </div>
        </div>

        <!-- Forbidden Patterns -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Forbidden Patterns</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; gap: 0.75rem;">
              <div style="border-left: 3px solid var(--red); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--red);">transform: scale() on hover</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">Adds bounce without meaning</div>
              </div>
              <div style="border-left: 3px solid var(--red); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--red);">Staggered animations on re-render</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">Should only happen on initial load</div>
              </div>
              <div style="border-left: 3px solid var(--red); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--red);">transition: all</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">Too broad, can cause layout jank</div>
              </div>
              <div style="border-left: 3px solid var(--red); padding-left: 0.75rem;">
                <div style="font-weight: 600; color: var(--red);">Animations longer than 0.3s</div>
                <div style="font-size: 0.75rem; margin-top: 0.25rem;">Feels sluggish, harms performance</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Good Example -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px; color: var(--green);"><path d="M20 6L9 17l-5-5"/></svg>
            <h3 style="font-size: 1rem; font-weight: 600; color: var(--black);">Good: Card Hover with Shadow</h3>
          </div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 1rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto; margin-bottom: 1rem;">.card {
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  transition: box-shadow 0.2s ease,
              transform 0.2s ease;
}
.card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
  transform: translateY(-2px);
}</pre>
          <p style="font-size: 0.75rem; color: var(--gray-dark);">
            <strong>Why:</strong> Subtle lift provides clear interactive feedback. Duration is fast enough to feel responsive.
          </p>
        </div>

        <!-- Bad Example -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px; color: var(--red);"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            <h3 style="font-size: 1rem; font-weight: 600; color: var(--black);">Bad: Scale Bounce on Hover</h3>
          </div>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 1rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto; margin-bottom: 1rem;">.button {
  transition: transform 0.3s ease;
}
.button:hover {
  transform: scale(1.05);
}</pre>
          <p style="font-size: 0.75rem; color: var(--gray-dark);">
            <strong>Why:</strong> Scale adds bounce without meaning. Communicates nothing useful, only decorative distraction.
          </p>
        </div>

        <!-- Motion Sensitivity -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Motion Sensitivity</h3>
          <p style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
            Respect user preferences for reduced motion. Users with vestibular disorders can experience discomfort from animation.
          </p>
          <pre style="background: #1a1a1a; color: #f0f0f0; padding: 1rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto;">@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}</pre>
        </div>

        <!-- When NOT to Animate -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">When NOT to Animate</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <ul style="margin: 0; padding-left: 1.25rem; display: grid; gap: 0.5rem;">
              <li>Immediate feedback actions (checkbox check, radio button select)</li>
              <li>Loading states under 200ms (avoid flash of loading state)</li>
              <li>Destructive actions (delete should feel instant, not smooth)</li>
              <li>Text content (never animate body text in/out)</li>
            </ul>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Accessibility Section -->
  <section id="accessibility" data-category="For Developers" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Design System</span>
        <h2 class="section-title" style="color: var(--black);">
          Accessibility
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Contrast ratios, touch targets, and inclusive design requirements.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-2 gap-md">
        <!-- Contrast Requirements -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Contrast Requirements</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; padding: 1rem; background: var(--gray-light); border-radius: var(--radius-lg);">
              <div style="font-size: 2rem; font-weight: 700; color: var(--purple-primary);">4.5:1</div>
              <div>
                <div style="font-weight: 600; color: var(--black);">Minimum Contrast Ratio</div>
                <div style="font-size: 0.75rem;">WCAG AA standard for all text</div>
              </div>
            </div>
            <p style="margin-bottom: 0.75rem;">All text must meet this threshold against its background. Large text (18px+ bold or 24px+ regular) may use 3:1 minimum.</p>
          </div>
        </div>

        <!-- Color Pair Audit -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Brand Color Contrast Audit</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark);">
            <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 0.5rem; font-size: 0.75rem;">
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Combination</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Ratio</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Status</div>
              <div style="padding: 0.5rem;">Purple 800 on White</div><div style="padding: 0.5rem; font-family: monospace;">12.63:1</div><div style="padding: 0.5rem; color: #059669;">Pass</div>
              <div style="padding: 0.5rem;">Purple 400 on Dark (#0f0f0f)</div><div style="padding: 0.5rem; font-family: monospace;">6.21:1</div><div style="padding: 0.5rem; color: #059669;">Pass</div>
              <div style="padding: 0.5rem;">White on Purple 800</div><div style="padding: 0.5rem; font-family: monospace;">12.63:1</div><div style="padding: 0.5rem; color: #059669;">Pass</div>
              <div style="padding: 0.5rem;">Gray-500 on White</div><div style="padding: 0.5rem; font-family: monospace;">4.64:1</div><div style="padding: 0.5rem; color: #059669;">Pass</div>
              <div style="padding: 0.5rem;">Orange on White</div><div style="padding: 0.5rem; font-family: monospace;">3.12:1</div><div style="padding: 0.5rem; color: #FF6039;">Large only</div>
            </div>
            <div style="margin-top: 0.75rem; padding: 0.5rem; background: #FFEFEB; border-radius: var(--radius-sm); font-size: 0.7rem; color: #BB3716;">
              Orange (#FF6039) should only be used for large text or icons, not body copy.
            </div>
          </div>
        </div>

        <!-- Touch Targets -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Touch Target Minimums</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">All interactive elements must meet minimum touch target sizes:</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
              <div style="padding: 1rem; background: var(--gray-light); border-radius: var(--radius-lg); text-align: center;">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--black);">44x44</div>
                <div style="font-size: 0.7rem; color: var(--gray-mid);">iOS / Web (pt/px)</div>
              </div>
              <div style="padding: 1rem; background: var(--gray-light); border-radius: var(--radius-lg); text-align: center;">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--black);">48x48</div>
                <div style="font-size: 0.7rem; color: var(--gray-mid);">Android (dp)</div>
              </div>
            </div>
            <div style="margin-top: 1rem; font-size: 0.75rem;">
              <code style="background: var(--gray-light); padding: 0.25rem 0.5rem; border-radius: var(--radius-sm);">min-height: 44px; min-width: 44px;</code>
            </div>
          </div>
        </div>

        <!-- Focus States -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Focus State Styling</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">All interactive elements must have visible focus indicators. Use <code style="background: var(--gray-light); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); font-size: 0.75rem;">:focus-visible</code> to show focus only for keyboard navigation:</p>
            <div style="padding: 1rem; border: 2px solid var(--purple-primary); border-radius: var(--radius-lg); box-shadow: 0 0 0 3px rgba(41, 0, 128, 0.15); text-align: center; margin-bottom: 1rem;">
              <span style="font-size: 0.75rem; color: var(--gray-mid);">Example focus ring</span>
            </div>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto;">button:focus-visible {
  outline: 2px solid var(--purple-primary);
  outline-offset: 2px;
}</pre>
            <p style="margin-top: 0.75rem; padding: 0.75rem; background: var(--color-danger-bg); border-radius: var(--radius-md); font-size: 0.75rem; color: var(--color-danger);">
              <strong>Never remove focus outlines</strong> without providing an alternative visible indicator. This breaks keyboard navigation.
            </p>
          </div>
        </div>

        <!-- Keyboard Navigation -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Keyboard Navigation</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">All interactive elements must be keyboard accessible:</p>
            <div style="display: grid; gap: 0.75rem;">
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <kbd style="font-family: monospace; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); min-width: 80px; text-align: center;">Tab</kbd>
                <div>Navigate forward through interactive elements</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <kbd style="font-family: monospace; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); min-width: 80px; text-align: center;">Shift+Tab</kbd>
                <div>Navigate backward</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <kbd style="font-family: monospace; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); min-width: 80px; text-align: center;">Enter</kbd>
                <div>Activate buttons and links</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <kbd style="font-family: monospace; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); min-width: 80px; text-align: center;">Space</kbd>
                <div>Activate buttons, toggle checkboxes</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <kbd style="font-family: monospace; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); min-width: 80px; text-align: center;">Escape</kbd>
                <div>Close modals, dropdowns, overlays</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <kbd style="font-family: monospace; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); min-width: 80px; text-align: center;">↑ ↓ ← →</kbd>
                <div>Navigate dropdown menus, radio groups</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Screen Reader Support -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Screen Reader Support</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;"><strong>Prefer semantic HTML over generic divs:</strong></p>
            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 0.5rem; font-size: 0.75rem; margin-bottom: 1rem;">
              <div style="padding: 0.5rem; background: var(--color-danger-bg); border-radius: var(--radius-sm); text-align: center; font-family: monospace;">&lt;div onclick&gt;</div>
              <div style="padding: 0.5rem; color: var(--gray-mid);">→</div>
              <div style="padding: 0.5rem; background: var(--green-light); border-radius: var(--radius-sm); text-align: center; font-family: monospace;">&lt;button&gt;</div>

              <div style="padding: 0.5rem; background: var(--color-danger-bg); border-radius: var(--radius-sm); text-align: center; font-family: monospace;">&lt;div class="nav"&gt;</div>
              <div style="padding: 0.5rem; color: var(--gray-mid);">→</div>
              <div style="padding: 0.5rem; background: var(--green-light); border-radius: var(--radius-sm); text-align: center; font-family: monospace;">&lt;nav&gt;</div>

              <div style="padding: 0.5rem; background: var(--color-danger-bg); border-radius: var(--radius-sm); text-align: center; font-family: monospace;">&lt;div class="header"&gt;</div>
              <div style="padding: 0.5rem; color: var(--gray-mid);">→</div>
              <div style="padding: 0.5rem; background: var(--green-light); border-radius: var(--radius-sm); text-align: center; font-family: monospace;">&lt;header&gt;</div>
            </div>
            <p style="margin-bottom: 0.75rem;"><strong>Use ARIA when semantic HTML isn't sufficient:</strong></p>
            <pre style="background: #1a1a1a; color: #f0f0f0; padding: 0.75rem; border-radius: var(--radius-md); font-size: 0.7rem; overflow-x: auto;">&lt;button aria-expanded="false"
        aria-controls="dropdown"&gt;
  Options
&lt;/button&gt;
&lt;div id="dropdown" role="menu" hidden&gt;
  &lt;button role="menuitem"&gt;Edit&lt;/button&gt;
&lt;/div&gt;</pre>
          </div>
        </div>

        <!-- Color-Blind Testing -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Color-Blind Testing</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <p style="margin-bottom: 1rem;">ENRG palette tested for the three most common types of color blindness:</p>
            <div style="display: grid; gap: 0.5rem;">
              <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--gray-pale); border-radius: var(--radius-md);">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px; color: var(--green); flex-shrink: 0;"><path d="M20 6L9 17l-5-5"/></svg>
                <div>
                  <div style="font-weight: 600; color: var(--black);">Protanopia</div>
                  <div style="font-size: 0.75rem;">Red perception (1% of men). Purple and orange remain distinguishable.</div>
                </div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--gray-pale); border-radius: var(--radius-md);">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px; color: var(--green); flex-shrink: 0;"><path d="M20 6L9 17l-5-5"/></svg>
                <div>
                  <div style="font-weight: 600; color: var(--black);">Deuteranopia</div>
                  <div style="font-size: 0.75rem;">Green perception (1% of men). Purple and orange remain distinguishable.</div>
                </div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--gray-pale); border-radius: var(--radius-md);">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px; color: var(--green); flex-shrink: 0;"><path d="M20 6L9 17l-5-5"/></svg>
                <div>
                  <div style="font-weight: 600; color: var(--black);">Tritanopia</div>
                  <div style="font-size: 0.75rem;">Blue perception (0.01%). Purple and orange remain distinguishable.</div>
                </div>
              </div>
            </div>
            <div style="margin-top: 1rem; padding: 0.75rem; background: var(--bg-elevated); border-radius: 0 var(--radius-md) var(--radius-md) 0; font-size: 0.75rem; border-left: 3px solid var(--purple-primary);">
              <strong>Never rely on color alone.</strong> Always pair color with an icon, text label, or pattern to convey meaning.
            </div>
          </div>
        </div>

        <!-- WCAG Compliance -->
        <div class="content-card" style="background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--purple-primary);">WCAG 2.1 Level AA</h3>
          <p style="font-size: 0.875rem; color: var(--gray-dark); line-height: 1.6; margin-bottom: 1rem;">
            ENRG brand aims for <strong>WCAG 2.1 Level AA</strong> compliance minimum, AAA where possible.
          </p>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; gap: 0.5rem;">
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; color: var(--purple-primary);"><path d="M20 6L9 17l-5-5"/></svg>
                <div>Color contrast ratios meet or exceed AA requirements</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; color: var(--purple-primary);"><path d="M20 6L9 17l-5-5"/></svg>
                <div>All interactive elements are keyboard accessible</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; color: var(--purple-primary);"><path d="M20 6L9 17l-5-5"/></svg>
                <div>Focus states are clearly visible</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; color: var(--purple-primary);"><path d="M20 6L9 17l-5-5"/></svg>
                <div>Touch targets meet platform minimums</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; color: var(--purple-primary);"><path d="M20 6L9 17l-5-5"/></svg>
                <div>Content is screen reader friendly</div>
              </div>
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; color: var(--purple-primary);"><path d="M20 6L9 17l-5-5"/></svg>
                <div>Motion respects user preferences (prefers-reduced-motion)</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Mobile Native Section -->
  <section id="mobile" data-category="For Developers" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Developers</span>
        <h2 class="section-title">
          Mobile Native
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle">Platform conventions for future native apps.</p>
      </div>

      <div class="section-content">
      <div class="callout">
        <div class="mobile-callout-title">Glass Effects & Translucency</div>
        <div class="mobile-callout-text">Glass/translucency is an approved technique for ENRG applications. Use glass for navigation, modals, and hero sections. Prefer solid surfaces for data-dense interfaces. See the Design System for implementation details.</div>
      </div>

      <div class="callout">
        <div class="mobile-callout-title">Native-First, Responsive Always</div>
        <div class="mobile-callout-text">Mobile isn't a scaled-down desktop. It's the primary experience. Build for touch, respect platform conventions, and let the OS do what it does best. ENRG apps should feel like they belong on the device.</div>
      </div>

      <div class="grid grid-auto-340 gap-lg" style="margin-top: 2rem;">
        <!-- iOS 26 -->
        <div class="card card--no-padding">
          <div class="platform-card-header">
            <h3>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="5" y="2" width="14" height="20" rx="3"/><line x1="12" y1="18" x2="12" y2="18.01" stroke-width="2" stroke-linecap="round"/></svg>
              iOS 26: Liquid Glass
            </h3>
            <p>Apple's design language emphasizing transparency, depth, and fluidity</p>
          </div>
          <div class="platform-card-body">
            <div class="platform-principle">
              <div class="platform-principle-title">Transparency & Depth</div>
              <div class="platform-principle-text">Use translucent materials that reflect background content. Create layered interfaces with clear spatial hierarchy. Glass-like surfaces add premium feel.</div>
            </div>
            <div class="platform-principle">
              <div class="platform-principle-title">Adaptive Visuals</div>
              <div class="platform-principle-text">Interface components respond to environment: lighting, context, user state. Ensure readability across all conditions.</div>
            </div>
            <div class="platform-principle">
              <div class="platform-principle-title">Dynamic Motion</div>
              <div class="platform-principle-text">Animations provide clear feedback and smooth transitions. Motion is purposeful, never decorative. Springs and physics-based easing.</div>
            </div>
            <div class="platform-principle">
              <div class="platform-principle-title">System Integration</div>
              <div class="platform-principle-text">Leverage Dynamic Island, Lock Screen widgets, Focus filters. Use SF Symbols and system materials for native consistency.</div>
            </div>
          </div>
        </div>

        <!-- Android 16 -->
        <div class="card card--no-padding">
          <div class="platform-card-header">
            <h3>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="5" y="2" width="14" height="20" rx="2"/><line x1="9" y1="22" x2="15" y2="22"/><line x1="12" y1="18" x2="12" y2="18.01" stroke-width="2" stroke-linecap="round"/></svg>
              Android 16: Material 3 Expressive
            </h3>
            <p>Google's design language with enhanced animations, color, and typography</p>
          </div>
          <div class="platform-card-body">
            <div class="platform-principle">
              <div class="platform-principle-title">Dynamic Animations</div>
              <div class="platform-principle-text">Fluid animations and responsive haptic feedback. Actions like dismissing or adjusting feel tactile and satisfying.</div>
            </div>
            <div class="platform-principle">
              <div class="platform-principle-title">Expressive Color</div>
              <div class="platform-principle-text">Clear primary/secondary/tertiary color distinctions. Dynamic color theming that adapts to user wallpaper and preferences.</div>
            </div>
            <div class="platform-principle">
              <div class="platform-principle-title">Bold Typography</div>
              <div class="platform-principle-text">Impactful fonts guide attention. Clear visual hierarchy through weight and scale. Roboto Flex for adaptive type.</div>
            </div>
            <div class="platform-principle">
              <div class="platform-principle-title">Live Updates</div>
              <div class="platform-principle-text">Real-time information on lock screen and Always-On Display. Proactive, glanceable content without unlocking.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="responsive-grid">
        <div class="responsive-item">
          <strong>Touch Targets</strong>
          <span>Minimum 44×44pt (iOS) / 48×48dp (Android)</span>
        </div>
        <div class="responsive-item">
          <strong>Safe Areas</strong>
          <span>Respect notch, Dynamic Island, gesture zones</span>
        </div>
        <div class="responsive-item">
          <strong>Breakpoints</strong>
          <span><code>640px</code> <code>768px</code> <code>1024px</code> <code>1280px</code></span>
        </div>
        <div class="responsive-item">
          <strong>Gesture Priority</strong>
          <span>Swipe, tap, long-press (not hover)</span>
        </div>
        <div class="responsive-item">
          <strong>System Fonts</strong>
          <span>SF Pro (iOS) / Roboto (Android)</span>
        </div>
        <div class="responsive-item">
          <strong>Dark Mode</strong>
          <span>Respect OS preference via <code>prefers-color-scheme</code></span>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Anti-patterns Section -->
  <section id="antipatterns" data-category="For Developers" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">For Developers</span>
        <h2 class="section-title" style="color: var(--black);">
          Anti-patterns
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Things we never do in ENRG communications.</p>
      </div>

      <div class="section-content">
      <div class="antipattern-list">
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.59999C7.36083 3.59999 3.60002 7.3608 3.60002 12C3.60002 16.6392 7.36083 20.4 12 20.4C16.6392 20.4 20.4 16.6392 20.4 12C20.4 7.3608 16.6392 3.59999 12 3.59999ZM2.40002 12C2.40002 6.69806 6.69809 2.39999 12 2.39999C17.302 2.39999 21.6 6.69806 21.6 12C21.6 17.3019 17.302 21.6 12 21.6C6.69809 21.6 2.40002 17.3019 2.40002 12Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.52427 13.7082C8.42479 15.3264 10.0979 16.4 12 16.4C13.9021 16.4 15.5752 15.3264 16.4757 13.7082L17.5243 14.2918C16.4287 16.2604 14.3709 17.6 12 17.6C9.62905 17.6 7.57128 16.2604 6.47571 14.2918L7.52427 13.7082Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.2 10C8.2 10.4418 8.55817 10.8 9 10.8C9.44183 10.8 9.8 10.4418 9.8 10C9.8 9.55817 9.44183 9.2 9 9.2C8.55817 9.2 8.2 9.55817 8.2 10ZM14.2 10C14.2 10.4418 14.5582 10.8 15 10.8C15.4418 10.8 15.8 10.4418 15.8 10C15.8 9.55817 15.4418 9.2 15 9.2C14.5582 9.2 14.2 9.55817 14.2 10ZM9 12C7.89543 12 7 11.1046 7 10C7 8.89543 7.89543 8 9 8C10.1046 8 11 8.89543 11 10C11 11.1046 10.1046 12 9 12ZM15 12C13.8954 12 13 11.1046 13 10C13 8.89543 13.8954 8 15 8C16.1046 8 17 8.89543 17 10C17 11.1046 16.1046 12 15 12Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Emojis</div>
            <div class="antipattern-desc">Use SVG icons or Unicode symbols instead. No emoji characters anywhere.</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.6 5.00002C21.6 4.11637 20.8837 3.40002 20 3.40002H4.00001C3.11635 3.40002 2.40001 4.11637 2.40001 5.00002V19.792C2.40001 20.3789 3.07896 20.7052 3.53729 20.3386L6.96047 17.6H20C20.8837 17.6 21.6 16.8837 21.6 16V5.00002ZM20 4.60002C20.2209 4.60002 20.4 4.77911 20.4 5.00002V16C20.4 16.2209 20.2209 16.4 20 16.4H6.53954L3.60001 18.7516V5.00002C3.60001 4.77911 3.77909 4.60002 4.00001 4.60002H20ZM18 7.90002H6.00001V9.10002H18V7.90002ZM6.00001 13.1H16V11.9H6.00001V13.1Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">"Industry leader" / "Best-in-class" without proof</div>
            <div class="antipattern-desc">Only use with specific numbers (e.g., "85/15 split").</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.6 5.00002C21.6 4.11637 20.8837 3.40002 20 3.40002H4.00001C3.11635 3.40002 2.40001 4.11637 2.40001 5.00002V19.792C2.40001 20.3789 3.07896 20.7052 3.53729 20.3386L6.96047 17.6H20C20.8837 17.6 21.6 16.8837 21.6 16V5.00002ZM20 4.60002C20.2209 4.60002 20.4 4.77911 20.4 5.00002V16C20.4 16.2209 20.2209 16.4 20 16.4H6.53954L3.60001 18.7516V5.00002C3.60001 4.77911 3.77909 4.60002 4.00001 4.60002H20ZM18 7.90002H6.00001V9.10002H18V7.90002ZM6.00001 13.1H16V11.9H6.00001V13.1Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Corporate jargon</div>
            <div class="antipattern-desc">"Synergy", "leverage", "paradigm": be direct instead.</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.4242 7.57576C19.5368 7.68828 19.6 7.84089 19.6 8.00002L19.6 20C19.6 20.8837 18.8836 21.6 18 21.6L5.99997 21.6C5.11632 21.6 4.39997 20.8837 4.39997 20L4.39997 4.00002C4.39997 3.11637 5.11632 2.40002 5.99998 2.40002L14 2.40002C14.1591 2.40002 14.3117 2.46324 14.4242 2.57576L19.4242 7.57576ZM18.4 20L18.4 8.60002L13.4 8.60002L13.4 3.60002L5.99998 3.60002C5.77906 3.60002 5.59998 3.77911 5.59998 4.00002L5.59997 20C5.59997 20.2209 5.77906 20.4 5.99997 20.4L18 20.4C18.2209 20.4 18.4 20.2209 18.4 20ZM14.6 4.44855L14.6 7.40002L17.5514 7.40002L14.6 4.44855ZM16 16.6L7.99997 16.6L7.99997 15.4L16 15.4L16 16.6ZM16 12.6L7.99997 12.6L7.99997 11.4L16 11.4L16 12.6Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Passive voice</div>
            <div class="antipattern-desc">"Agents are supported by ENRG" → "ENRG supports agents"</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.8C17.4124 21.8 21.8 17.4124 21.8 12C21.8 6.58761 17.4124 2.2 12 2.2C6.58761 2.2 2.2 6.58761 2.2 12C2.2 17.4124 6.58761 21.8 12 21.8ZM12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.0348 6.59999C10.5753 6.59999 9.28838 7.74644 9.28838 9.30059H8.08838C8.08838 7.02713 9.9706 5.39999 12.0348 5.39999C14.1159 5.39999 15.9094 7.04353 15.9094 9.30059C15.9094 10.2466 15.5004 10.8748 14.9904 11.3988C14.7873 11.6075 14.5568 11.8111 14.3343 12.0076C14.2917 12.0452 14.2494 12.0826 14.2076 12.1197C13.9396 12.3578 13.6735 12.6017 13.4163 12.8859C12.8753 13.484 12.6 14.1553 12.6 15.0017H11.4C11.4 13.8481 11.7923 12.8923 12.5265 12.0809C12.8292 11.7462 13.1354 11.467 13.4107 11.2225C13.4583 11.1803 13.5044 11.1395 13.5492 11.0999C13.7717 10.9032 13.9618 10.7352 14.1304 10.5619C14.5094 10.1724 14.7094 9.82814 14.7094 9.30059C14.7094 7.73004 13.4772 6.59999 12.0348 6.59999ZM11.4348 18.0017V16.5017H12.6348V18.0017H11.4348Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Hedging words</div>
            <div class="antipattern-desc">"Potentially", "may", "could": be definitive.</div>
          </div>
        </div>

        <div style="margin: 1.5rem 0 1rem; padding-top: 1rem; border-top: 1px solid var(--border);">
          <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gray-mid); margin-bottom: 0.75rem;">Visual Anti-patterns</div>
        </div>

        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.2 9.00005V19C4.2 19.4419 4.55817 19.8 5 19.8H15C15.3957 19.8 15.7243 19.5127 15.7886 19.1354H16.9955C16.9259 20.1768 16.0591 21 15 21H5C3.89543 21 3 20.1046 3 19V9.00005C3 7.94139 3.82255 7.07484 4.86341 7.00464V8.21166C4.48665 8.27648 4.2 8.60479 4.2 9.00005Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4.2H9C8.55817 4.2 8.2 4.55817 8.2 5V15C8.2 15.4418 8.55817 15.8 9 15.8H19C19.4418 15.8 19.8 15.4418 19.8 15V5C19.8 4.55817 19.4418 4.2 19 4.2ZM9 3C7.89543 3 7 3.89543 7 5V15C7 16.1046 7.89543 17 9 17H19C20.1046 17 21 16.1046 21 15V5C21 3.89543 20.1046 3 19 3H9Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Glass/blur effects (web)</div>
            <div class="antipattern-desc">No backdrop-filter or translucent backgrounds on web apps. Use solid colors. Exception: sticky nav only. (Native apps may follow platform conventions.)</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.492 16.0341L12.492 16.0341C13.0049 15.4937 13.6722 15.3121 14.1934 15.2393C14.6971 15.169 15.2487 15.1787 15.7015 15.1866C15.7134 15.1868 15.7253 15.1871 15.7371 15.1873H15.7371L15.7474 15.1874H15.7475C16.496 15.2004 17.0386 15.1996 17.4617 15.0771C18.796 14.6905 20.4331 13.8719 20.7551 11.5742C20.9246 10.3648 20.6328 8.492 19.5736 6.82074C18.5422 5.19339 16.7859 3.75904 13.979 3.33379C8.22486 2.462 3.76028 5.92175 3.25445 10.7547C2.73376 15.7296 6.0718 19.3022 8.98039 20.2367C10.4586 20.7116 11.2986 20.8382 11.7984 20.791C12.0189 20.7702 12.1381 20.7178 12.2137 20.669C12.2932 20.6177 12.3918 20.5267 12.5103 20.3374L13.5276 20.9738C12.7787 22.1708 11.604 22.34 8.61333 21.3792C5.22388 20.2902 1.47486 16.2297 2.06097 10.6298C2.64707 5.02985 7.81683 1.18649 14.1588 2.14733C20.5008 3.10817 22.3643 8.7381 21.9435 11.7407C21.5227 14.7434 19.2985 15.7943 17.7956 16.2297C17.1655 16.4122 16.4297 16.3995 15.7267 16.3873H15.7266C14.753 16.3704 13.8423 16.3546 13.3623 16.8602C12.5141 17.7538 12.8814 18.5117 13.1669 18.887C13.4525 19.2623 14.063 20.1181 13.5276 20.9738L12.5103 20.3374C12.537 20.2946 12.5391 20.2729 12.5399 20.2607C12.5412 20.2407 12.5393 20.1982 12.5156 20.1264C12.4614 19.9624 12.3461 19.79 12.2119 19.6136C11.9956 19.3293 11.6836 18.8206 11.6417 18.1419C11.5967 17.4127 11.8744 16.6847 12.492 16.0341Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.97466 11.0156C7.97466 11.8354 7.30876 12.5 6.48733 12.5C5.6659 12.5 5 11.8354 5 11.0156C5 10.1957 5.6659 9.53113 6.48733 9.53113C7.30876 9.53113 7.97466 10.1957 7.97466 11.0156ZM9.46199 8.46887C10.2834 8.46887 10.9493 7.80427 10.9493 6.98444C10.9493 6.1646 10.2834 5.5 9.46199 5.5C8.64056 5.5 7.97466 6.1646 7.97466 6.98444C7.97466 7.80427 8.64056 8.46887 9.46199 8.46887ZM16.0253 6.98444C16.0253 7.80427 15.3594 8.46887 14.538 8.46887C13.7166 8.46887 13.0507 7.80427 13.0507 6.98444C13.0507 6.1646 13.7166 5.5 14.538 5.5C15.3594 5.5 16.0253 6.1646 16.0253 6.98444ZM17.5127 12.5C18.3341 12.5 19 11.8354 19 11.0156C19 10.1957 18.3341 9.53113 17.5127 9.53113C16.6912 9.53113 16.0253 10.1957 16.0253 11.0156C16.0253 11.8354 16.6912 12.5 17.5127 12.5Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Decorative gradients</div>
            <div class="antipattern-desc">Solid colors only. Gradients are decoration, not restraint. Premium = simplicity.</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.25 3.69706L10.2627 12.6843C9.95033 12.9967 9.95033 13.5033 10.2627 13.8157L11.1843 14.7373C11.4967 15.0497 12.0033 15.0497 12.3157 14.7373L21.3029 5.75L19.25 3.69706ZM19.3912 3.5559L19.3914 3.55563L19.25 3.41421L19.3914 3.55563C19.3913 3.55572 19.3913 3.55581 19.3912 3.5559ZM19.1088 3.5559C19.1088 3.55581 19.1087 3.55572 19.1086 3.55563L19.25 3.41421L19.1086 3.55563L19.1088 3.5559ZM22.2929 5.04289L19.9571 2.70711C19.5666 2.31658 18.9334 2.31658 18.5429 2.70711L9.41422 11.8358C8.63317 12.6168 8.63317 13.8832 9.41422 14.6642L10.3358 15.5858C11.1168 16.3668 12.3832 16.3668 13.1642 15.5858L22.2929 6.45711C22.6834 6.06658 22.6834 5.43342 22.2929 5.04289Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 20.8C7.77026 20.8 8.8 19.7703 8.8 18.5C8.8 17.2297 7.77026 16.2 6.5 16.2C5.22974 16.2 4.2 17.2297 4.2 18.5C4.2 19.409 4.04921 20.1706 3.80179 20.8H6.5ZM6.5 22C8.433 22 10 20.433 10 18.5C10 16.567 8.433 15 6.5 15C4.567 15 3 16.567 3 18.5C3 19.5254 2.77649 20.2691 2.4768 20.8C1.95813 21.7188 1.21127 22 1 22H6.5Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Purple overload</div>
            <div class="antipattern-desc">Design is neutral-forward (90% gray/white). Purple appears sparingly for emphasis.</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.82752 1.60002C9.29472 1.60002 8.90287 2.00976 8.90287 2.46669V14.6889C8.90287 14.9629 8.71728 15.2021 8.45187 15.2701C8.18647 15.3382 7.90869 15.2178 7.77688 14.9776L5.82412 11.4193C5.66662 11.1665 5.37215 10.9882 5.02467 10.9882C4.49187 10.9882 4.10002 11.398 4.10002 11.8549C4.10002 11.9766 4.12642 12.0913 4.17415 12.1956L4.17778 12.2035L8.57024 22.1845C8.63549 22.3083 8.77655 22.4 8.9461 22.4H18.1537C18.364 22.4 18.5212 22.2626 18.5602 22.1038L19.7543 15.766L19.7564 15.7564C19.8519 15.3278 19.9 14.8908 19.9 14.4527V11.2656C19.9 10.8086 19.5082 10.3989 18.9754 10.3989C18.4426 10.3989 18.0507 10.8086 18.0507 11.2656V14.2C18.0507 14.5314 17.7821 14.8 17.4507 14.8C17.1194 14.8 16.8507 14.5314 16.8507 14.2V9.80002C16.8507 9.34309 16.4589 8.93336 15.9261 8.93336C15.3933 8.93336 15.0014 9.34309 15.0014 9.80002V13.7111C15.0014 14.0425 14.7328 14.3111 14.4015 14.3111C14.0701 14.3111 13.8014 14.0425 13.8014 13.7111V8.82225C13.8014 8.36531 13.4096 7.95558 12.8768 7.95558C12.344 7.95558 11.9522 8.36531 11.9522 8.82225V13.2222C11.9522 13.5536 11.6835 13.8222 11.3522 13.8222C11.0208 13.8222 10.7522 13.5536 10.7522 13.2222V2.46669C10.7522 2.00976 10.3603 1.60002 9.82752 1.60002ZM11.9522 6.96182V2.46669C11.9522 1.30359 10.9788 0.400024 9.82752 0.400024C8.67625 0.400024 7.70288 1.30359 7.70288 2.46669V12.3485L6.86308 10.8182L6.8565 10.8074C6.48423 10.1923 5.7985 9.78825 5.02467 9.78825C3.8734 9.78825 2.90002 10.6918 2.90002 11.8549C2.90002 12.1516 2.96466 12.4348 3.08099 12.6906L7.48354 22.6943L7.48924 22.7059C7.7624 23.2606 8.33401 23.6 8.9461 23.6H18.1537C18.8987 23.6 19.5684 23.0975 19.7332 22.3576L19.7353 22.3479L20.9299 16.0074C21.043 15.4965 21.1 14.9754 21.1 14.4527V11.2656C21.1 10.1025 20.1267 9.19889 18.9754 9.19889C18.6327 9.19889 18.3058 9.27894 18.0156 9.42205C17.8318 8.44691 16.9492 7.73336 15.9261 7.73336C15.5321 7.73336 15.1589 7.83918 14.8385 8.02502C14.5148 7.2713 13.7466 6.75558 12.8768 6.75558C12.5479 6.75558 12.2335 6.82933 11.9522 6.96182Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Tiny touch targets</div>
            <div class="antipattern-desc">All interactive elements must be 44x44px minimum. Respect mobile users.</div>
          </div>
        </div>
        <div class="antipattern-item">
          <svg class="antipattern-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.4697 22.0303L1.96967 3.53032L2.75523 2.74475L21.2552 21.2448L20.4697 22.0303Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.0667 4.60002V8.73336H10.8663L12.0663 9.93336H14.0667V11.9414L15.2667 13.1414V9.93336H19.4V14.0667H16.1891L17.3891 15.2667H19.4V17.2895L20.6 18.4895V5.00002C20.6 4.11637 19.8836 3.40002 19 3.40002H5.52582L6.72582 4.60002H8.73333V6.61328L9.93333 7.81328V4.60002H14.0667ZM4.59999 8.73336V5.00003L3.68634 4.08637C3.50584 4.34541 3.39999 4.66036 3.39999 5.00003V19C3.39999 19.8837 4.11634 20.6 4.99999 20.6H19C19.3397 20.6 19.6546 20.4942 19.9136 20.3137L19 19.4H15.2667V15.5951L13.7382 14.0667H9.93333V10.1987L8.46798 8.73336H4.59999ZM15.2667 8.73337V4.60004H19C19.2209 4.60004 19.4 4.77912 19.4 5.00004V8.73337H15.2667ZM14.0667 15.2667V19.4H9.93334V15.2667H14.0667ZM8.73334 15.2667V19.4H5.00001C4.77909 19.4 4.60001 19.221 4.60001 19V15.2667H8.73334ZM8.73334 14.0667H4.60001V9.93337H8.73334V14.0667Z" fill="currentColor"/></svg>
          <div class="antipattern-content">
            <div class="antipattern-title">Orphaned grid items</div>
            <div class="antipattern-desc">Grids must resolve to balanced rows. Never leave a single item dangling on the final row.</div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Print Production Section -->
  <section id="print" data-category="For Designers" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Design System</span>
        <h2 class="section-title" style="color: var(--black);">
          Print Production
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">PMS colors, CMYK values, bleeds, and file specifications for print vendors.</p>
      </div>

      <div class="section-content">
      <div class="grid grid-2 gap-md">
        <!-- PMS/CMYK Reference -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">PMS & CMYK Reference</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark);">
            <div style="display: grid; grid-template-columns: auto 1fr 1fr 1fr; gap: 0.5rem; font-size: 0.7rem;">
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Color</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">HEX</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">CMYK</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">PMS</div>
              <div style="padding: 0.5rem; display: flex; align-items: center; gap: 0.5rem;"><span style="width: 16px; height: 16px; background: #290080; border-radius: var(--radius-sm); display: inline-block;"></span>Purple</div>
              <div style="padding: 0.5rem; font-family: monospace;">#290080</div>
              <div style="padding: 0.5rem;">100/100/0/50</div>
              <div style="padding: 0.5rem; font-weight: 600;">2685 C</div>
              <div style="padding: 0.5rem; display: flex; align-items: center; gap: 0.5rem;"><span style="width: 16px; height: 16px; background: #FF6039; border-radius: var(--radius-sm); display: inline-block;"></span>Orange</div>
              <div style="padding: 0.5rem; font-family: monospace;">#FF6039</div>
              <div style="padding: 0.5rem;">0/77/82/0</div>
              <div style="padding: 0.5rem; font-weight: 600;">Orange 021 C</div>
              <div style="padding: 0.5rem; display: flex; align-items: center; gap: 0.5rem;"><span style="width: 16px; height: 16px; background: #111111; border-radius: var(--radius-sm); display: inline-block;"></span>Black</div>
              <div style="padding: 0.5rem; font-family: monospace;">#111111</div>
              <div style="padding: 0.5rem;">75/68/67/90</div>
              <div style="padding: 0.5rem; color: var(--gray-mid);">—</div>
              <div style="padding: 0.5rem; display: flex; align-items: center; gap: 0.5rem;"><span style="width: 16px; height: 16px; background: #FFFFFF; border: 1px solid #ddd; border-radius: var(--radius-sm); display: inline-block;"></span>White</div>
              <div style="padding: 0.5rem; font-family: monospace;">#FFFFFF</div>
              <div style="padding: 0.5rem;">0/0/0/0</div>
              <div style="padding: 0.5rem; color: var(--gray-mid);">—</div>
            </div>
            <div style="margin-top: 0.75rem; padding: 0.5rem; background: var(--purple-50, #F1EAFF); border-radius: var(--radius-sm); font-size: 0.7rem;">
              Always verify with print vendor using PMS spot colors for critical brand applications.
            </div>
          </div>
        </div>

        <!-- Bleed & Safe Zone -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Bleed & Safe Zones</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
              <div style="padding: 1rem; background: var(--gray-light); border-radius: var(--radius-lg); text-align: center;">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--black);">3mm</div>
                <div style="font-size: 0.7rem; color: var(--gray-mid);">Standard Bleed</div>
              </div>
              <div style="padding: 1rem; background: var(--gray-light); border-radius: var(--radius-lg); text-align: center;">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--black);">5mm</div>
                <div style="font-size: 0.7rem; color: var(--gray-mid);">Safe Zone (minimum)</div>
              </div>
            </div>
            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.75rem;">
              <li style="margin-bottom: 0.5rem;">Extend backgrounds/images to bleed edge</li>
              <li style="margin-bottom: 0.5rem;">Keep text and logos within safe zone</li>
              <li style="margin-bottom: 0.5rem;">Check vendor requirements (some require 5mm bleed)</li>
            </ul>
          </div>
        </div>

        <!-- File Formats -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">File Formats & Resolution</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark); line-height: 1.6;">
            <div style="margin-bottom: 1rem;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">Logos</div>
              <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <span style="padding: 0.25rem 0.5rem; background: transparent; border: 1px solid var(--border); color: var(--text-secondary); border-radius: var(--radius-sm); font-size: 0.6875rem;">SVG</span>
                <span style="padding: 0.25rem 0.5rem; background: transparent; border: 1px solid var(--border); color: var(--text-secondary); border-radius: var(--radius-sm); font-size: 0.6875rem;">EPS</span>
                <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">AI</span>
                <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">PDF</span>
              </div>
              <div style="font-size: 0.7rem; color: var(--gray-mid); margin-top: 0.25rem;">Vector formats: scale infinitely</div>
            </div>
            <div style="margin-bottom: 1rem;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">Photos & Raster Images</div>
              <div style="font-size: 1.25rem; font-weight: 700; color: var(--black);">300 DPI</div>
              <div style="font-size: 0.7rem; color: var(--gray-mid);">Minimum resolution at final print size</div>
            </div>
            <div>
              <div style="font-weight: 600; margin-bottom: 0.5rem;">Color Space</div>
              <div style="display: flex; gap: 0.5rem;">
                <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">CMYK for print</span>
                <span style="padding: 0.25rem 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm); font-size: 0.6875rem;">RGB for digital</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Minimum Sizes -->
        <div class="content-card" style="background: var(--white); border: none; border-radius: var(--radius-xl); padding: 1.5rem; box-shadow: var(--shadow-card-base); transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--black);">Minimum Logo Sizes (Print)</h3>
          <div style="font-size: 0.8125rem; color: var(--gray-dark);">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.75rem;">
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Variation</div>
              <div style="font-weight: 600; padding: 0.5rem; background: var(--gray-light); border-radius: var(--radius-sm);">Minimum</div>
              <div style="padding: 0.5rem;">ENRG Logo</div><div style="padding: 0.5rem; font-weight: 600;">60px / 30mm</div>
              <div style="padding: 0.5rem;">ENRG Symbol</div><div style="padding: 0.5rem; font-weight: 600;">80px / 8mm</div>
              <div style="padding: 0.5rem;">Wordmark (Full/Short)</div><div style="padding: 0.5rem; font-weight: 600;">30px / 15mm</div>
            </div>
            <div style="margin-top: 1rem; padding: 0.75rem; background: var(--gray-light); border-radius: var(--radius-md); font-size: 0.75rem;">
              <strong>Exclusion zone:</strong> Equal to the height of the wordmark or half the height of the symbol.
            </div>
          </div>
        </div>
      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Photography & Stock Imagery Section -->
  <section id="roadmap" data-category="Resources" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Resources</span>
        <h2 class="section-title">
          Brand Development Roadmap
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle" style="color: var(--gray-dark);">Track completed sections and upcoming deliverables for the ENRG brand system.</p>
      </div>

      <div class="section-content">
      <!-- Roadmap Progress Summary -->
      <div class="grid grid-2 gap-md" style="max-width: 700px; margin: 0 auto 3rem;">
        <!-- Completion Stats -->
        <div class="card" style="text-align: center;">
          <div style="font-size: 3rem; font-weight: 700; color: var(--purple-primary); line-height: 1; margin-bottom: 0.5rem;" id="roadmap-progress-percent">0%</div>
          <div style="font-size: 0.875rem; color: var(--gray-dark); margin-bottom: 0.75rem;">Overall Completion</div>
          <div style="background: var(--gray-light); height: 8px; border-radius: var(--radius-pill); overflow: hidden; margin-bottom: 0.5rem;">
            <div id="roadmap-progress-bar" style="background: linear-gradient(90deg, var(--purple-primary) 0%, var(--purple-600) 100%); height: 100%; width: 0%; transition: width 0.6s ease;"></div>
          </div>
          <div style="font-size: 0.75rem; color: var(--gray-mid);" id="roadmap-progress-text">0/0 tasks complete</div>
        </div>

        <!-- Quick Stats -->
        <div class="card">
          <div style="display: flex; flex-direction: column; gap: 0.75rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; padding-bottom: 0.75rem; border-bottom: 1px solid var(--border);">
              <span style="font-size: 0.8125rem; color: var(--gray-dark);">Completed Sections</span>
              <span style="font-size: 1.25rem; font-weight: 700; color: var(--green);" id="completed-count">0</span>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; padding-bottom: 0.75rem; border-bottom: 1px solid var(--border);">
              <span style="font-size: 0.8125rem; color: var(--gray-dark);">In Progress</span>
              <span style="font-size: 1.25rem; font-weight: 700; color: var(--orange);" id="inprogress-count">0</span>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <span style="font-size: 0.8125rem; color: var(--gray-dark);">Not Started</span>
              <span style="font-size: 1.25rem; font-weight: 700; color: var(--gray-mid);" id="notstarted-count">0</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Callout about tools -->
      <div class="callout" style="max-width: 700px; margin: 0 auto 3rem;">
        <strong style="color: var(--purple-primary);">Implementation Note:</strong> Agent templates via <strong>MAXA</strong>. Internal content via <strong>Canva</strong>. Design source files in <strong>Figma</strong>. Physical signage via <strong>Lowen</strong>. This roadmap tracks brand specs and artwork that feed those platforms.
      </div>

      <div class="roadmap-grid" id="roadmapGrid">
        <!-- COMPLETED SECTIONS -->
        <div class="roadmap-section-header" style="color: var(--green); display: flex; align-items: center; gap: 0.5rem;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Completed (6 sections)
        </div>
        
        <!-- Headshot Standards -->
        <div class="expand-card" data-card="headshots">
          <div class="expand-card-header" onclick="toggleCard('headshots')">
            <div class="expand-card-info">
              <div class="expand-card-title">Headshot Standards</div>
              <div class="expand-card-desc">AI headshot system backgrounds, poses, attire guidelines, and roster image specifications.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">5</span>/5 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 100%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox done" data-task="headshot-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document approved AI background options (Midnight Violet, Soft Lavender, etc.)</span></li>
                <li><span class="todo-checkbox done" data-task="headshot-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Define professional attire guidelines by role</span></li>
                <li><span class="todo-checkbox done" data-task="headshot-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Specify crop ratios and safe zones for roster cards</span></li>
                <li><span class="todo-checkbox done" data-task="headshot-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create before/after examples showing AI enhancement</span></li>
                <li><span class="todo-checkbox done" data-task="headshot-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document file naming conventions and resolution requirements</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-headshots"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('headshots', this)">
                <button class="add-todo-btn" onclick="addNewTodo('headshots', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Sub-brand Styling -->
        <div class="expand-card" data-card="subbrands">
          <div class="expand-card-header" onclick="toggleCard('subbrands')">
            <div class="expand-card-info">
              <div class="expand-card-title">Sub-brand Styling</div>
              <div class="expand-card-desc">Visual treatment for ENRG Boost™, ENRG SHINE™, and Connect & Thrive™ program identities.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">5</span>/5 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 100%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox done" data-task="subbrand-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design ENRG Boost™ visual identity (infinite levels = visual metaphor)</span></li>
                <li><span class="todo-checkbox done" data-task="subbrand-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design ENRG SHINE™ five-tier equity badges/icons</span></li>
                <li><span class="todo-checkbox done" data-task="subbrand-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design Connect & Thrive™ recruitment program identity</span></li>
                <li><span class="todo-checkbox done" data-task="subbrand-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Define color accents per sub-brand (or unified purple)</span></li>
                <li><span class="todo-checkbox done" data-task="subbrand-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create sub-brand lockups and usage guidelines</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-subbrands"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('subbrands', this)">
                <button class="add-todo-btn" onclick="addNewTodo('subbrands', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Email & Signatures -->
        <div class="expand-card" data-card="email">
          <div class="expand-card-header" onclick="toggleCard('email')">
            <div class="expand-card-info">
              <div class="expand-card-title">Email & Signatures</div>
              <div class="expand-card-desc">Standardized email signatures, header templates, and newsletter formatting for agents and staff.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">4</span>/4 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 100%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox done" data-task="email-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create agent email signature template (with headshot, credentials)</span></li>
                <li><span class="todo-checkbox done" data-task="email-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design leadership/staff signature variant</span></li>
                <li><span class="todo-checkbox done" data-task="email-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Build email header/footer templates for newsletters</span></li>
                <li><span class="todo-checkbox done" data-task="email-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document email typography and button styling</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-email"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('email', this)">
                <button class="add-todo-btn" onclick="addNewTodo('email', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Photography & Stock -->
        <div class="expand-card" data-card="photography">
          <div class="expand-card-header" onclick="toggleCard('photography')">
            <div class="expand-card-info">
              <div class="expand-card-title">Photography & Stock Imagery</div>
              <div class="expand-card-desc">Approved photo styles, stock sources, and image treatment for marketing materials.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">4</span>/4 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 100%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox done" data-task="photo-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Define real estate photography style (modern, warm, aspirational)</span></li>
                <li><span class="todo-checkbox done" data-task="photo-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Curate approved stock sources and licensing guidelines</span></li>
                <li><span class="todo-checkbox done" data-task="photo-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document color grading and filter presets for consistency</span></li>
                <li><span class="todo-checkbox done" data-task="photo-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create example gallery of on-brand vs. off-brand images</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-photography"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('photography', this)">
                <button class="add-todo-btn" onclick="addNewTodo('photography', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Data Visualization -->
        <div class="expand-card" data-card="dataviz">
          <div class="expand-card-header" onclick="toggleCard('dataviz')">
            <div class="expand-card-info">
              <div class="expand-card-title">Data Visualization</div>
              <div class="expand-card-desc">Chart styles, graph colors, infographic patterns for decks, dashboards, and reports.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">4</span>/4 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 100%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox done" data-task="dataviz-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Define chart color palette (purple scale + semantic)</span></li>
                <li><span class="todo-checkbox done" data-task="dataviz-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create bar, line, and pie chart style examples</span></li>
                <li><span class="todo-checkbox done" data-task="dataviz-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design infographic icon and illustration style</span></li>
                <li><span class="todo-checkbox done" data-task="dataviz-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Build dashboard widget styling guide</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-dataviz"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('dataviz', this)">
                <button class="add-todo-btn" onclick="addNewTodo('dataviz', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Documentation System Alignment -->
        <div class="expand-card" data-card="doc-alignment">
          <div class="expand-card-header" onclick="toggleCard('doc-alignment')">
            <div class="expand-card-info">
              <div class="expand-card-title">Documentation System Alignment</div>
              <div class="expand-card-desc">Align source docs, STYLE_PATTERNS, and Index.html for comprehensive brand consistency.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">9</span>/9 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 100%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox done" data-task="doc-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Update /docs/brand/04-colors.md with gradient recipes, card patterns, icon button hovers</span></li>
                <li><span class="todo-checkbox done" data-task="doc-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create /docs/brand/07a-motion-animation.md with comprehensive motion guidelines</span></li>
                <li><span class="todo-checkbox done" data-task="doc-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create /docs/brand/07b-accessibility.md with WCAG 2.1 Level AA standards</span></li>
                <li><span class="todo-checkbox done" data-task="doc-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Update /docs/brand/07-design-system.md with ghost button specs and disabled states</span></li>
                <li><span class="todo-checkbox done" data-task="doc-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Sync STYLE_PATTERNS.md with gradient patterns, Purple decision tree, orange usage hierarchy</span></li>
                <li><span class="todo-checkbox done" data-task="doc-6" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Add Motion & Animation section to Index.html with code examples</span></li>
                <li><span class="todo-checkbox done" data-task="doc-7" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Expand Accessibility section with keyboard nav, screen reader, color-blind testing</span></li>
                <li><span class="todo-checkbox done" data-task="doc-8" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Add Print Specifications (CMYK, PMS) and Purple 500 vs 800 decision tree to Colors</span></li>
                <li><span class="todo-checkbox done" data-task="doc-9" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Update navigation to include Motion & Animation link</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-doc-alignment"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('doc-alignment', this)">
                <button class="add-todo-btn" onclick="addNewTodo('doc-alignment', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>


        <!-- IN PROGRESS SECTIONS -->
        <div class="roadmap-section-header" style="color: var(--orange); display: flex; align-items: center; gap: 0.5rem; margin-top: 2rem;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12 6 12 12 16 14"/>
          </svg>
          In Progress (1 section)
        </div>
        
        <!-- Video & Motion -->
        <div class="expand-card" data-card="video">
          <div class="expand-card-header" onclick="toggleCard('video')">
            <div class="expand-card-info">
              <div class="expand-card-title">
                Video & Motion
                <span style="display: inline-block; margin-left: 0.5rem; padding: 0.125rem 0.5rem; background: var(--orange-light); color: var(--orange); border-radius: var(--radius-sm); font-size: 0.625rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;">50% Complete</span>
              </div>
              <div class="expand-card-desc">Video production standards, motion graphics, animation timing, and micro-interactions.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">2</span>/4 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 50%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox" data-task="video-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design animated intro/outro bumpers</span></li>
                <li><span class="todo-checkbox" data-task="video-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create lower-third and title card templates</span></li>
                <li><span class="todo-checkbox done" data-task="video-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Define easing curves and animation timing (e.g., ease-out 200ms)</span></li>
                <li><span class="todo-checkbox done" data-task="video-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document micro-interaction patterns (button hovers, loading states)</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-video"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('video', this)">
                <button class="add-todo-btn" onclick="addNewTodo('video', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>

        <!-- NOT STARTED SECTIONS -->
        <div class="roadmap-section-header" style="color: var(--gray-mid); display: flex; align-items: center; gap: 0.5rem; margin-top: 2rem;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <circle cx="12" cy="12" r="10"/>
          </svg>
          Not Started (5 sections)
        </div>


        <!-- Co-brand Lockup Design -->
        <div class="expand-card" data-card="cobranding">
          <div class="expand-card-header" onclick="toggleCard('cobranding')">
            <div class="expand-card-info">
              <div class="expand-card-title">Co-brand Lockup Design</div>
              <div class="expand-card-desc">Artwork for team branding and "Powered by ENRG" lockups.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">0</span>/2 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 0%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox" data-task="cobrand-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design "Powered by ENRG" lockup artwork</span></li>
                <li><span class="todo-checkbox" data-task="cobrand-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create team branding templates (team logo + ENRG)</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-cobranding"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('cobranding', this)">
                <button class="add-todo-btn" onclick="addNewTodo('cobranding', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>



        <!-- Signage (Lowen) -->
        <div class="expand-card" data-card="signage">
          <div class="expand-card-header" onclick="toggleCard('signage')">
            <div class="expand-card-info">
              <div class="expand-card-title">Signage (Lowen)</div>
              <div class="expand-card-desc">Yard signs, directionals, riders, and frames via Lowen Sign Company.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">0</span>/5 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 0%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox" data-task="sign-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design ENRG yard sign artwork (standard 18x24, 24x36 sizes)</span></li>
                <li><span class="todo-checkbox" data-task="sign-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create rider set (For Sale, Open House, Sold, Coming Soon, Under Contract)</span></li>
                <li><span class="todo-checkbox" data-task="sign-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Design directional arrow signs for open houses</span></li>
                <li><span class="todo-checkbox" data-task="sign-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Specify approved frame/post styles (colonial, modern, A-frame)</span></li>
                <li><span class="todo-checkbox" data-task="sign-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document Lowen ordering process and SKUs</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-signage"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('signage', this)">
                <button class="add-todo-btn" onclick="addNewTodo('signage', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>



        <!-- RESOURCES GROUP -->
        <div class="roadmap-section-header">Resources</div>
        
        <!-- Figma Design System -->
        <div class="expand-card" data-card="figma">
          <div class="expand-card-header" onclick="toggleCard('figma')">
            <div class="expand-card-info">
              <div class="expand-card-title">Figma Design System</div>
              <div class="expand-card-desc">Component library, design tokens, and source files for design team workflows.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">0</span>/6 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 0%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox" data-task="figma-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Set up Figma Team library with brand styles (colors, typography, effects)</span></li>
                <li><span class="todo-checkbox" data-task="figma-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create design tokens file (variables for spacing, radii, shadows)</span></li>
                <li><span class="todo-checkbox" data-task="figma-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Build UI component library (buttons, cards, inputs, navigation)</span></li>
                <li><span class="todo-checkbox" data-task="figma-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create marketing template files (social, print, presentation frames)</span></li>
                <li><span class="todo-checkbox" data-task="figma-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document design-to-dev handoff process (Figma → code)</span></li>
                <li><span class="todo-checkbox" data-task="figma-6" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Set up file/page organization and naming conventions</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-figma"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('figma', this)">
                <button class="add-todo-btn" onclick="addNewTodo('figma', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>


        <!-- Canva Build System -->
        <div class="expand-card" data-card="canva">
          <div class="expand-card-header" onclick="toggleCard('canva')">
            <div class="expand-card-info">
              <div class="expand-card-title">Canva Build System</div>
              <div class="expand-card-desc">Internal brand kit, social templates, and build/apply guidelines for content creation.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">0</span>/6 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 0%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox" data-task="canva-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Set up internal Canva Brand Kit (logos, colors, fonts)</span></li>
                <li><span class="todo-checkbox" data-task="canva-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create master social templates (Instagram, Facebook, LinkedIn, Stories)</span></li>
                <li><span class="todo-checkbox" data-task="canva-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Write Build/Apply Guide (how to create new assets correctly)</span></li>
                <li><span class="todo-checkbox" data-task="canva-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Document export settings (formats, sizes, naming conventions)</span></li>
                <li><span class="todo-checkbox" data-task="canva-5" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create QC checklist for content review before publishing</span></li>
                <li><span class="todo-checkbox" data-task="canva-6" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Organize folder structure and template versioning system</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-canva"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('canva', this)">
                <button class="add-todo-btn" onclick="addNewTodo('canva', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>


        <!-- Asset Library -->
        <div class="expand-card" data-card="assets">
          <div class="expand-card-header" onclick="toggleCard('assets')">
            <div class="expand-card-info">
              <div class="expand-card-title">Asset Library & Downloads</div>
              <div class="expand-card-desc">Downloadable logo packages, Figma/Canva templates, and organized asset repository.</div>
            </div>
            <svg class="expand-card-toggle" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.8485L21.4243 7.42425L20.5757 6.57572L12 15.1515L3.42427 6.57572L2.57574 7.42425L12 16.8485Z" fill="currentColor"/>
</svg>
          </div>
          <div class="expand-card-body">
            <div class="expand-card-content">
              <div class="expand-card-progress">
                <span class="expand-card-progress-text"><span class="done-count">0</span>/4 complete</span>
                <div class="expand-card-progress-bar"><div class="expand-card-progress-fill" style="width: 0%"></div></div>
              </div>
              <ul class="todo-list">
                <li><span class="todo-checkbox" data-task="asset-1" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create downloadable logo package (PNG, SVG, EPS)</span></li>
                <li><span class="todo-checkbox" data-task="asset-2" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Create Canva brand kit for agent self-service (separate from internal)</span></li>
                <li><span class="todo-checkbox" data-task="asset-3" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Organize Google Drive asset folders with naming conventions</span></li>
                <li><span class="todo-checkbox" data-task="asset-4" onclick="toggleTodo(this)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span><span class="todo-text">Add download links to this validator</span></li>
              </ul>
              <ul class="todo-list todo-list-dynamic" id="dynamic-todos-assets"></ul>
              <div class="add-todo-row">
                <input type="text" class="add-todo-input" placeholder="Add a new todo..." onkeydown="if(event.key==='Enter')addNewTodo('assets', this)">
                <button class="add-todo-btn" onclick="addNewTodo('assets', this.previousElementSibling)">Add</button>
              </div>
            </div>
          </div>
        </div>


      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Critical Analysis Section -->
  <section id="analysis" data-category="Resources" data-bg="elevated" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Resources</span>
        <h2 class="section-title">
          Brand Decisions
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle">Documented rationale behind key brand choices.</p>
      </div>

      <div class="section-content">
      <div class="analysis-content">
        <!-- Executive Summary -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            Executive Summary
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <p>The brand system is <strong>complete and documented</strong>. Key decisions have been resolved and codified in the brand documentation.</p>
            <div class="analysis-callout" style="background: var(--green-light); border-left-color: var(--green);">
              <strong>Status:</strong> All major brand decisions are resolved. This section documents the rationale behind key choices.
            </div>
          </div>
        </div>


        <!-- The Two-Purple System -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            The Two-Purple System
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <p>ENRG uses two complementary purples with distinct roles:</p>
            <div class="analysis-purple-compare">
              <div class="analysis-purple-swatch">
                <div class="analysis-purple-swatch-color" style="background: #6021E6;">Purple 500</div>
                <div class="analysis-purple-swatch-label">Hero: logos, headlines, marketing</div>
              </div>
              <div class="analysis-purple-swatch">
                <div class="analysis-purple-swatch-color" style="background: #290080;">Purple 800</div>
                <div class="analysis-purple-swatch-label">Depth: backgrounds, UI surfaces</div>
              </div>
            </div>
          </div>
        </div>


        <!-- Recently Completed -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            Recently Completed (January 2026)
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <ul class="analysis-list">
              <li><strong>Headshot Standards:</strong> AI backgrounds, attire guidelines, file naming conventions</li>
              <li><strong>Email Signatures:</strong> 6 HTML templates with installation guides for all platforms</li>
              <li><strong>Sub-brands:</strong> ENRG Boost™, ENRG SHINE™, Connect & Thrive™ visual systems</li>
              <li><strong>Photography & Stock:</strong> Style guidelines, approved sources, color grading presets</li>
              <li><strong>Data Visualization:</strong> Chart colors, typography, best practices for dashboards</li>
            </ul>
          </div>
        </div>


        <!-- Resolved Decisions -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            Resolved Decisions
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <ul class="analysis-list">
              <li><strong>Two-purple system adopted:</strong> Purple 500 for hero moments, Purple 800 for depth</li>
              <li><strong>CTAs use purple:</strong> Orange reserved for signature accent (the dot)</li>
              <li><strong>Inter approved as secondary typeface:</strong> Plus Jakarta Sans for marketing, Inter for tools</li>
              <li><strong>Logo purple is Purple 500:</strong> #6021E6 for logo backgrounds</li>
            </ul>
          </div>
        </div>


        <!-- Color Decisions Table -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            Color Decisions Summary
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <div class="analysis-table-wrap">
              <table class="analysis-table">
                <thead>
                  <tr>
                    <th>Decision</th>
                    <th>Resolution</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Primary Purple</td>
                    <td>Two-purple system: 500 (Hero) + 800 (Depth)</td>
                    <td><span class="status-badge status-done">Resolved</span></td>
                  </tr>
                  <tr>
                    <td>CTA Color</td>
                    <td>Purple (orange reserved for signature dot)</td>
                    <td><span class="status-badge status-done">Resolved</span></td>
                  </tr>
                  <tr>
                    <td>Typography</td>
                    <td>Plus Jakarta Sans (marketing) + Inter (tools)</td>
                    <td><span class="status-badge status-done">Resolved</span></td>
                  </tr>
                  <tr>
                    <td>Text Black</td>
                    <td>#111111 (softer than pure black)</td>
                    <td><span class="status-badge status-done">Resolved</span></td>
                  </tr>
                  <tr>
                    <td>Sub-brands</td>
                    <td>ENRG Boost™ (levels), ENRG SHINE™ (tiers), Connect & Thrive™</td>
                    <td><span class="status-badge status-done">Resolved</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>


        <!-- Remaining Gaps -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            Remaining Gaps
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <div class="analysis-grid">
              <div class="analysis-grid-item"><strong>Co-branding Guidelines:</strong> "Powered by ENRG" lockup needs documentation</div>
              <div class="analysis-grid-item"><strong>Dark Mode Specification:</strong> Design system extension not documented</div>
              <div class="analysis-grid-item"><strong>Print Production:</strong> CMYK color specs and file formats needed</div>
              <div class="analysis-grid-item"><strong>Motion & Animation:</strong> Timing curves and duration standards needed</div>
              <div class="analysis-grid-item"><strong>Accessibility Guidelines:</strong> WCAG AA compliance documentation needed</div>
              <div class="analysis-grid-item"><strong>Figma Design System:</strong> Component library not built</div>
            </div>
          </div>
        </div>


        <!-- What's Working -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            What's Working
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <div class="analysis-grid">
              <div class="analysis-grid-item"><strong>Comprehensive Coverage:</strong> 17 complete sections across Foundation, Brand Essentials, Design System, and specialized guides</div>
              <div class="analysis-grid-item"><strong>Agent-Ready Content:</strong> Headshot standards and email signatures provide actionable templates</div>
              <div class="analysis-grid-item"><strong>Sub-brand System:</strong> Three distinct programs with complete visual identities and tier/level structures</div>
              <div class="analysis-grid-item"><strong>Data-Driven Design:</strong> Color palettes and chart styling for dashboards and analytics</div>
            </div>
          </div>
        </div>


        <!-- Sources -->
        <div class="card card--compact collapsible-card open">
          <h3 onclick="toggleAnalysisCard(this)" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
            Source Documents
            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s ease;">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </h3>
          <div class="card-content">
            <p>Click to view formatted content.</p>

          <h4 style="font-size: 0.8125rem; font-weight: 600; color: var(--black); margin: 1.5rem 0 0.75rem 0;">Foundation & Strategy</h4>
          <div class="source-links">
            <button class="source-link-btn" onclick="openDocViewer('philosophy')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              01-philosophy.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('tone-and-voice')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              02-tone-and-voice.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('brand-decisions')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              10-brand-decisions.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('positioning')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              positioning.md
            </button>
          </div>

          <h4 style="font-size: 0.8125rem; font-weight: 600; color: var(--black); margin: 1.5rem 0 0.75rem 0;">Brand Essentials</h4>
          <div class="source-links">
            <button class="source-link-btn" onclick="openDocViewer('logo')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              03-logo.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('colors')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              04-colors.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('typography')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              05-typography.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('sub-brands')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              11-sub-brands.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('co-branding')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              06-co-branding.md
            </button>
          </div>

          <h4 style="font-size: 0.8125rem; font-weight: 600; color: var(--black); margin: 1.5rem 0 0.75rem 0;">Design System</h4>
          <div class="source-links">
            <button class="source-link-btn" onclick="openDocViewer('design-system')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              07-design-system.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('motion-animation')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              07a-motion-animation.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('accessibility')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              07b-accessibility.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('applications')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              08-applications.md
            </button>
          </div>

          <h4 style="font-size: 0.8125rem; font-weight: 600; color: var(--black); margin: 1.5rem 0 0.75rem 0;">For Agents & Designers</h4>
          <div class="source-links">
            <button class="source-link-btn" onclick="openDocViewer('headshot-standards')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              09-headshot-standards.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('email-signatures')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              10-email-signatures.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('photography-stock')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              12-photography-stock.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('data-visualization')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              13-data-visualization.md
            </button>
          </div>

          <h4 style="font-size: 0.8125rem; font-weight: 600; color: var(--black); margin: 1.5rem 0 0.75rem 0;">Resources</h4>
          <div class="source-links">
            <button class="source-link-btn" onclick="openDocViewer('brand-resources')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              09-brand-resources.md
            </button>
            <button class="source-link-btn" onclick="openDocViewer('readme')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              README.md
            </button>
          </div>
          </div>
        </div>


        <!-- Note -->
        <div class="analysis-note">
          <p><strong>Note:</strong> This section documents resolved brand decisions. Remaining gaps are tracked in the Roadmap.</p>
        </div>

      </div>
      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Treatments Section -->
  <section id="treatments" data-category="Resources" data-bg="surface" class="collapsible-section">
    <div class="container">
      <div class="section-header" onclick="toggleSection(this.closest('section'))">
        <span class="section-label">Resources</span>
        <h2 class="section-title">
          Brand Treatments
          <svg class="section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </h2>
        <p class="section-subtitle">Real-world application mockups from Figma. Export and use as reference for on-brand designs.</p>
      </div>

      <div class="section-content">
        <!-- Treatment Categories Grid -->
        <div class="grid grid-auto-340 gap-lg" style="margin-bottom: 3rem;">

          <!-- Posters -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1Ekwd7atfY5KDt8aRvsYpri2al6CgKSSx/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Posters</h4>
              <p>Large-format print designs showcasing the brand at scale.</p>
              <div class="treatment-meta">Figma Page 33</div>
            </div>
          </div>

          <!-- Website Hero -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1EJAW0Lk-pKTZKMGJZsigv3ikS_2z14Y5/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Website Hero</h4>
              <p>Homepage hero section with signature purple gradient treatment.</p>
              <div class="treatment-meta">Figma Page 34</div>
            </div>
          </div>

          <!-- Website Content -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1Pq51mNQ1xYa1_Aq8-jsQw5xxPYSIyEtE/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Website Content</h4>
              <p>Interior page layouts with typography and grid patterns.</p>
              <div class="treatment-meta">Figma Page 35</div>
            </div>
          </div>

          <!-- Website Conversion -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1PGQSYFTTVumLteom2cxfmS3HIQREJZJH/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Website Conversion</h4>
              <p>CTA-focused layouts with purple button treatments.</p>
              <div class="treatment-meta">Figma Page 36</div>
            </div>
          </div>

          <!-- Mobile Screens 1 -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1pyq_I4jN-igXM3w36A4jLC7S9Iief16l/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Mobile Screens</h4>
              <p>App home and navigation patterns for responsive design.</p>
              <div class="treatment-meta">Figma Page 37</div>
            </div>
          </div>

          <!-- Mobile Screens 2 -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/19ESbIeLWTXBngndnXDInOBB-VyvumwjE/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Mobile Screens</h4>
              <p>Detail views and secondary navigation patterns.</p>
              <div class="treatment-meta">Figma Page 38</div>
            </div>
          </div>

          <!-- Instagram -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/12LMDL9PGv4KmyuMl01H6zN4lgYLfTY5A/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Instagram</h4>
              <p>Social media templates for posts, stories, and highlights.</p>
              <div class="treatment-meta">Figma Page 39</div>
            </div>
          </div>

          <!-- Business Cards 1 -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1OokFjLAv0vof_BNnZqyb-LhXLApfNTRs/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Business Cards</h4>
              <p>Agent business card designs with proper logo placement.</p>
              <div class="treatment-meta">Figma Page 40</div>
            </div>
          </div>

          <!-- Business Cards 2 -->
          <div class="treatment-card">
            <div class="treatment-card-preview">
              <iframe src="https://drive.google.com/file/d/1YKlJLcKuiqXiCPL7a4jGGOS_ezwpUpb6/preview" allow="autoplay"></iframe>
            </div>
            <div class="treatment-card-body">
              <h4>Business Cards</h4>
              <p>Alternative business card layouts and back designs.</p>
              <div class="treatment-meta">Figma Page 41</div>
            </div>
          </div>

        </div>

        <!-- Live CSS Examples -->
        <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--black);">Live CSS Examples</h3>

        <div class="grid grid-2 gap-lg" style="margin-bottom: 2rem;">
          <!-- Black Bar Callout Demo -->
          <div class="treatment-demo">
            <div class="treatment-demo-label">Black Bar Callout</div>
            <div class="callout-block">
              Premium without pretension.<br>
              Confidence without arrogance.
            </div>
            <details style="margin-top: 1rem;">
              <summary style="font-size: 0.75rem; color: var(--text-muted); cursor: pointer;">View CSS</summary>
              <pre style="margin-top: 0.75rem; padding: 1rem; background: var(--bg-elevated); border-radius: var(--radius-md); font-size: 0.75rem; overflow-x: auto;"><code>.callout-block {
  background: #111111;
  color: #FFFFFF;
  padding: 1.5rem 2rem;
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-weight: 600;
  font-size: 1.25rem;
  line-height: 1.4;
  display: inline-block;
}</code></pre>
            </details>
          </div>

          <!-- Testimonial Demo -->
          <div class="treatment-demo">
            <div class="treatment-demo-label">Testimonial Quote</div>
            <blockquote class="testimonial">
              "ENRG transformed how we think about real estate. The difference is night and day."
            </blockquote>
            <div class="testimonial-attribution">Sarah Chen, First-time Homebuyer</div>
            <details style="margin-top: 1rem;">
              <summary style="font-size: 0.75rem; color: var(--text-muted); cursor: pointer;">View CSS</summary>
              <pre style="margin-top: 0.75rem; padding: 1rem; background: var(--bg-elevated); border-radius: var(--radius-md); font-size: 0.75rem; overflow-x: auto;"><code>.testimonial {
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-weight: 300;
  font-size: 1.5rem;
  font-style: italic;
  line-height: 1.6;
  color: var(--gray-dark);
}

.testimonial-attribution {
  font-weight: 600;
  font-size: 1rem;
  color: var(--black);
  margin-top: 1rem;
}</code></pre>
            </details>
          </div>
        </div>

        <!-- Export Instructions -->
        <div class="callout" style="margin-top: 2rem;">
          <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem;">How to Export from Figma</h4>
          <ol style="font-size: 0.8125rem; color: var(--text-secondary); line-height: 1.7; margin: 0; padding-left: 1.25rem;">
            <li>Open the <a href="https://www.figma.com/design/CtHUpGbmVTPrCzPjMilArK/ENRG---Brand-Guidelines" target="_blank" style="color: var(--purple-primary);">ENRG Brand Guidelines</a> in Figma</li>
            <li>Navigate to the page number listed on each card above</li>
            <li>Select the outermost frame (click, then Cmd/Ctrl+Shift+G to select parent)</li>
            <li>In the right sidebar, scroll to "Export" and add a 2x PNG preset</li>
            <li>Click "Export" and save with the filename shown on the card</li>
            <li>Upload to the <a href="https://drive.google.com/drive/u/0/folders/1Ulfhd9OpTnM8uDZeYrENUiecqpB4CkIk" target="_blank" style="color: var(--purple-primary);">ENRG Treatments folder</a> on Google Drive</li>
          </ol>
        </div>

      </div><!-- .section-content -->
    </div>
  </section>

  <!-- Document Viewer Modal -->
  <div class="doc-viewer-overlay" id="docViewerOverlay" onclick="closeDocViewer()">
    <div class="doc-viewer-modal" onclick="event.stopPropagation()">
      <div class="doc-viewer-header">
        <h3 id="docViewerTitle">Document</h3>
        <button class="doc-viewer-close" onclick="closeDocViewer()" aria-label="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <div class="doc-viewer-content" id="docViewerContent">
        <!-- Content loaded dynamically -->
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="footer-logo">ENRG<span>.</span>brand</div>
      <p>Brand Validator v1.0 | 17 Complete Sections | <a href="#analysis" onclick="scrollToSection('analysis'); return false;">View Documentation</a> | January 2026</p>
    </div>
  </footer>

  <!-- Comment hint (shown when in comment mode) -->
  <div class="comment-hint" id="commentHint" style="display: none;">
    <span class="hint-desktop">Click anywhere to add a comment <kbd>Esc</kbd> to cancel</span>
    <span class="hint-mobile">Tap anywhere to comment</span>
    <button class="hint-cancel-btn" onclick="toggleCommentMode(false)" aria-label="Cancel">Cancel</button>
  </div>

  <!-- Comments Panel (Sidebar on desktop, Full-screen modal on mobile) -->
  <div class="comments-panel-backdrop" id="commentsPanelBackdrop" onclick="closeCommentsPanel()"></div>
  <div class="comments-panel" id="commentsPanel">
    <div class="comments-panel-header">
      <div>
        <h4>Comments</h4>
        <span class="comments-panel-header-meta" id="commentsPanelMeta"></span>
      </div>
      <button class="comments-panel-close" onclick="closeCommentsPanel()" aria-label="Close comments">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="comments-panel-list" id="commentsPanelList"></div>
    <div class="comments-panel-footer" id="commentsPanelFooter"></div>
  </div>

  </div><!-- end .main-content-wrapper -->

  <script>
    // Navigation scroll effect
    var nav = document.getElementById('nav');
    window.addEventListener('scroll', function() {
      nav.classList.toggle('scrolled', window.scrollY > 50);
    });

    // Click-to-copy hex codes
    function copyHex(el) {
      var hex = el.textContent.trim();
      navigator.clipboard.writeText(hex).then(function() {
        el.classList.add('copied');
        setTimeout(function() { el.classList.remove('copied'); }, 1500);
      });
    }
    // Attach click handlers to all hex codes
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.swatch-hex').forEach(function(el) {
        el.addEventListener('click', function() { copyHex(this); });
        el.title = 'Click to copy';
      });
    });

    // Logo Picker Data - Google Drive file IDs
    // Source: GOOGLE_DRIVE_URLS.md
    var LOGOS = {
      primary_logo: {
        square: {
          black_transparent: { '1x': '1GOf7xr_30JqpTCOEkA8oHRkaOpgXOdRZ', '2x': '1IgUQ5xLcv2pRKcazPpCukVu75fmpO3N6', '3x': '12IWSgaE2h5TLUa4li32mzryIjFGoRRR5' },
          white_transparent: { '1x': '1xDw4CY8N8XKOUtdM35H-7bVMACQLLdGP', '2x': '1G3GOnhICswDe6qe2TKvM8SB-KrcFY2q9', '3x': '12kBwG_aIiDZnYnqpGFEpvrb8hW0DU9aw' }
        },
        square_framed: {
          black_transparent: { '1x': '1kDYaN3acUZNgQI5eLeaIefU853EmzYtv', '2x': '1qZBvyunASg2H-jLWc9K4lU2FICkaimm_', '3x': '1s30prlx8VoYXNe15KORXqwmDIKL1YCV0' },
          white_transparent: { '1x': '1bh4OUJ6WAnEvOM6IJsuhG6jGcj4_8VLP', '2x': '16oN8dcX-ljREmfYa0TajIQaXHlzON4hg', '3x': '1rDSQWraHwK3iJsUPkfQC8PVcbbxK6xRN' }
        }
      },
      secondary_logo: {
        horizontal: {
          black_transparent: { '1x': '1V4d5QvJjkKo6Kqn2fLEAqvwqpzpH5Qut', '2x': '1IWV61yxUDFK1dMpjl6u962y3jNHzLsBd', '3x': '1aTpHDMk7nQy5XY3s0YywL1wMsiNjcP9m' },
          white_transparent: { '1x': '1rHHpfAIemWLiEbC0yqu5ktKWUfU4-0Cc', '2x': '1eMGlsyPa7bofEuaEhLxyRX7LFqnBZZNV', '3x': '1gApqMC65UqMcHR2cI77kuHmVZ1Fi4utp' }
        }
      },
      tiny_wordmark: {
        horizontal: {
          black_transparent: { '1x': '1cGwcAdrMNrTbIW-XeV3psSKhLbxjP6GE', '2x': '15Sz8O5W4KcoFge6DYOcR5hogQreBeZXL', '3x': '17LLED3eWVIBhOANkP2Dn6lc_mFwsBmG_' },
          white_transparent: { '1x': '1l3tmtm6qzQdAE5A92-ep-P347EpMwd3e', '2x': '13CqckoFUeOfMquvAMzvAWPfKN9Mo6SMn', '3x': '1uVpedmJpR-UdhZzFeHotFXzCAGGvJ1BS' }
        }
      },
      short_wordmark: {
        horizontal: {
          black_transparent: { '1x': '1qM_S0zt463zTUSGjyRC-WkUD4XaHEcGG', '2x': '1EcHMD0y2y8_N06kvHfhVT1d8J6QRWNLl', '3x': '1UUrUZpSdiqucUXpZDVVS5RifSPLpAvUV' },
          white_transparent: { '1x': '1go3giGYFRYbxvh-tMz7X2poOaxMJUos9', '2x': '1KahZEfhbHfw8TnpsnVcKmKvHvdZpATV7', '3x': '1aEPxzZzKjVPFO-u7YWnbTDHuBJppx6gB' }
        }
      },
      wordmark: {
        horizontal: {
          black_on_white: { '1x': '1lrzj6hqIPki2FqDA3We5ejnO2oc0bsMi', '2x': '1gEGDAzTlOnUUmYa50AiAORzsJ8vFY4gI', '3x': '1LBsIloMmZEaaCjwgQLreHZ1aLAeWMNZa' },
          black_transparent: { '1x': '1YoMlNjcYMVB4-xnSbO_hp9cJ22WgmW3S', '2x': '15o1M3KjAr3WFzzQn0c2mgGaX7vcOcL1o', '3x': '1AcDtEHwj1UryvKv2-hBewRrXOQymHuU2' },
          white_on_black: { '1x': '1plvHtMxLBh2WORVhzuAlI7HH0LrLU7g-', '2x': '1RNJYXxqyHilrZ3UPBNqAeaZwDn2Uj2LJ', '3x': '1JBXgppbiG7DpxgBQ2P1vPDoBywT4iCJG' },
          white_on_purple: { '1x': '1Zbvk-qYrYees087FP3ISMTiCnNGxUKNt', '2x': '1CnwlULDmMG2wLFDAMEYzT59k4kRyiThc', '3x': '1cGcAUfLxKVIuNQ1-VYxSguKlYhgBKym6' },
          white_transparent: { '1x': '1pEVi0pKufsa4ncSdWqdk3DckkOjyMi0x', '2x': '1Br02vYW7L8ghcT3GJJzp6BE8-F3yrrJO', '3x': '1Bj5F3b77Bzmon5wtU-W1A0veTp3x5533' }
        },
        stacked: {
          black_on_white: { '1x': '1_SE8Ra4fRZCkRtJiD1o14DEO3MU_s0d_', '2x': '1T-1XMoUO1g4hSemkpvUdIK8b4H1z3Wrb', '3x': '1BnC7EL02njHH6tuvDEdC2QFlDLrPnOTp' },
          black_transparent: { '1x': '197eMtqbWNaznbLnyo_yyPKeIn6grVEvw', '2x': '1qphdalzxy2uMZy5kSyw4ciRsnzBQIE3C', '3x': '1ZK2k3q-gJVPrjVIInpd9qkGapeOv-Kg0' },
          white_on_black: { '1x': '1CPOk9JFeQ-LQwQvDcStZUPgDbM7LtJCV', '2x': '1fnWKoNKeh6XuKRieleNYdC2hoFsIwmUg', '3x': '1IZG-r7xV9BhM7hLF9wTWBYjYxmfRW1Y4' },
          white_on_purple: { '1x': '126pWUZ4V8qhfOn1Vb9b1s_pXxq-WWOxJ', '2x': '1ArDRtHh0rKXYm5DR-nhe5dTbvNVyHFAV', '3x': '1nKJGbRCmzEoOewHojGcVUPU5U20REZ0C' },
          white_transparent: { '1x': '1Sd2EfG_9GUIBaSaMUGAUelu45FFg3P4N', '2x': '1htpWmywQT2IVIJMiNSxQHgNmuHrwYyej', '3x': '1nlKqL2Vq_c9jOqIakOVHiRTXFg2oSikY' }
        }
      }
    };

    var LOGO_STYLES = {
      primary_logo: ['square', 'square_framed'],
      secondary_logo: ['horizontal'],
      tiny_wordmark: ['horizontal'],
      short_wordmark: ['horizontal'],
      wordmark: ['horizontal', 'stacked']
    };

    var LOGO_STYLE_LABELS = {
      horizontal: 'Horizontal',
      stacked: 'Stacked',
      square: 'Square',
      square_framed: 'Square (Framed)'
    };

    var LOGO_COLOR_LABELS = {
      white_transparent: 'White on Transparent',
      white_on_black: 'White on Black',
      white_on_purple: 'White on Purple',
      black_transparent: 'Black on Transparent',
      black_on_white: 'Black on White'
    };

    function updateLogoOptions() {
      var type = document.getElementById('logoType').value;
      var styleSelect = document.getElementById('logoStyle');
      var colorSelect = document.getElementById('logoColor');
      var styles = LOGO_STYLES[type] || [];

      // Update style options
      styleSelect.innerHTML = '';
      styles.forEach(function(style) {
        var opt = document.createElement('option');
        opt.value = style;
        opt.textContent = LOGO_STYLE_LABELS[style] || style;
        styleSelect.appendChild(opt);
      });

      // Update available colors based on type and style
      updateColorOptions();
    }

    function updateColorOptions() {
      var type = document.getElementById('logoType').value;
      var style = document.getElementById('logoStyle').value;
      var colorSelect = document.getElementById('logoColor');
      var typeData = LOGOS[type];
      var styleData = typeData ? typeData[style] : null;

      colorSelect.innerHTML = '';
      if (styleData) {
        Object.keys(styleData).forEach(function(color) {
          var opt = document.createElement('option');
          opt.value = color;
          opt.textContent = LOGO_COLOR_LABELS[color] || color;
          colorSelect.appendChild(opt);
        });
      }

      updateLogoPreview();
    }

    function updateLogoPreview() {
      var type = document.getElementById('logoType').value;
      var style = document.getElementById('logoStyle').value;
      var color = document.getElementById('logoColor').value;
      var size = document.getElementById('logoSize').value;

      var fileId = null;
      try {
        fileId = LOGOS[type][style][color][size];
      } catch (e) {}

      var iframe = document.getElementById('logoPreviewFrame');
      var unavailable = document.getElementById('logoUnavailable');
      var filenameEl = document.getElementById('logoFilename');
      var openBtn = document.getElementById('logoOpenBtn');
      var previewBg = document.getElementById('logoPreviewBg');

      // Show checkerboard for transparent backgrounds
      previewBg.classList.toggle('checkerboard', color.indexOf('transparent') !== -1);

      var filename = type.replace('_', '-') + '-' + color + '-' + style + '-' + size + '.png';
      if (type === 'logo') {
        filename = 'logo-' + color + '-' + style.replace('_', '_') + '-' + size + '.png';
      }

      filenameEl.textContent = filename;
      var loading = document.getElementById('logoLoading');

      if (fileId) {
        // Show loading, hide iframe until loaded
        loading.classList.remove('hidden');
        iframe.style.display = 'none';
        unavailable.style.display = 'none';
        
        iframe.src = 'https://drive.google.com/file/d/' + fileId + '/preview';
        openBtn.href = 'https://drive.google.com/open?id=' + fileId;
        openBtn.style.opacity = '1';
        openBtn.style.pointerEvents = 'auto';
        
        // Timeout fallback in case iframe never fires onload
        clearTimeout(window.logoLoadTimeout);
        window.logoLoadTimeout = setTimeout(function() {
          loading.classList.add('hidden');
          iframe.style.display = 'block';
        }, 5000);
      } else {
        loading.classList.add('hidden');
        iframe.style.display = 'none';
        iframe.src = '';
        unavailable.textContent = 'This combination is not available';
        unavailable.style.display = 'block';
        openBtn.href = '#';
        openBtn.style.opacity = '0.5';
        openBtn.style.pointerEvents = 'none';
      }
    }

    // Initialize logo picker on page load
    document.addEventListener('DOMContentLoaded', function() {
      updateLogoOptions();
      
      // Hide loading when iframe loads
      var iframe = document.getElementById('logoPreviewFrame');
      iframe.onload = function() {
        clearTimeout(window.logoLoadTimeout);
        document.getElementById('logoLoading').classList.add('hidden');
        iframe.style.display = 'block';
      };
    });

    // To-Do Cards (Accordion + Checkboxes)
    var todoState = JSON.parse(localStorage.getItem('enrg-brand-todos') || '{}');
    
    function toggleCard(cardId) {
      var allCards = document.querySelectorAll('.expand-card');
      var targetCard = document.querySelector('[data-card="' + cardId + '"]');

      if (targetCard.classList.contains('open')) {
        // Close if already open
        targetCard.classList.remove('open');
        targetCard.dataset.state = 'closed';
      } else {
        // Close all others, open this one (accordion behavior)
        allCards.forEach(function(card) {
          card.classList.remove('open');
          card.dataset.state = 'closed';
        });
        targetCard.classList.add('open');
        targetCard.dataset.state = 'open';
      }
    }
    
    function toggleTodo(checkbox) {
      event.stopPropagation(); // Don't trigger card toggle
      var taskId = checkbox.getAttribute('data-task');
      var isChecked = checkbox.classList.toggle('checked');
      
      // Find text element - now might be a sibling or inside a todo-row
      var todoRow = checkbox.closest('.todo-row');
      var textEl = todoRow ? todoRow.querySelector('.todo-text') : checkbox.nextElementSibling;
      
      if (textEl) {
        if (isChecked) {
          textEl.classList.add('done');
        } else {
          textEl.classList.remove('done');
        }
      }
      
      // Update local state
      todoState[taskId] = isChecked;
      localStorage.setItem('enrg-brand-todos', JSON.stringify(todoState));
      
      // Update todo in roadmap todos state
      var todo = findTodoById ? findTodoById(taskId) : null;
      if (todo) todo.completed = isChecked;
      
      // Sync to sheet
      if (typeof google !== 'undefined' && google.script) {
        google.script.run.toggleRoadmapTodo(taskId, isChecked);
      }
      
      // Update card progress using the new function
      var card = checkbox.closest('.expand-card');
      if (typeof updateCardProgress === 'function') updateCardProgress(card);
    }
    
    function initTodos() {
      // Restore checkbox state from localStorage
      Object.keys(todoState).forEach(function(taskId) {
        var checkbox = document.querySelector('[data-task="' + taskId + '"]');
        if (checkbox) {
          checkbox.classList.add('checked');
          var nextEl = checkbox.nextElementSibling;
          if (nextEl) nextEl.classList.add('done');
        }
      });
      
      // Update progress bars
      document.querySelectorAll('.expand-card').forEach(updateCardProgress);
    }
    
    document.addEventListener('DOMContentLoaded', initTodos);

    // ============================================
    // ROADMAP TODOS - INLINE COMMENTS SYSTEM
    // ============================================
    var roadmapTodos = {};
    var currentTodoId = null;
    var currentTodoData = null;
    var currentUserEmail = null;
    var CARD_IDS = ['headshots', 'cobranding', 'subbrands', 'email', 'photography', 'video', 'signage', 'dataviz', 'figma', 'canva', 'assets'];

    function escapeHtml(text) {
      var div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function formatTimeAgo(isoString) {
      if (!isoString) return '';
      var now = new Date();
      var then = new Date(isoString);
      var diffMs = now - then;
      var diffMins = Math.floor(diffMs / 60000);
      var diffHours = Math.floor(diffMs / 3600000);
      var diffDays = Math.floor(diffMs / 86400000);
      if (diffMins < 1) return 'just now';
      if (diffMins < 60) return diffMins + 'm ago';
      if (diffHours < 24) return diffHours + 'h ago';
      if (diffDays < 7) return diffDays + 'd ago';
      return then.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
    }

    function loadRoadmapTodos() {
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result.success) {
              roadmapTodos = result.todos || {};
              enhanceAllTodos();
              updateAllCardProgress();
            }
          })
          .withFailureHandler(function(err) {
            console.error('Failed to load roadmap todos:', err);
          })
          .getRoadmapTodos();
      }
    }

    function findTodoById(todoId) {
      for (var cardId in roadmapTodos) {
        var todos = roadmapTodos[cardId];
        for (var i = 0; i < todos.length; i++) {
          if (todos[i].id === todoId) {
            return todos[i];
          }
        }
      }
      return null;
    }

    function findTodoCardId(todoId) {
      for (var cardId in roadmapTodos) {
        var todos = roadmapTodos[cardId];
        for (var i = 0; i < todos.length; i++) {
          if (todos[i].id === todoId) return cardId;
        }
      }
      return null;
    }

    function getCommentCount(todo) {
      var comments = todo.comments || [];
      var count = comments.length;
      comments.forEach(function(c) { count += (c.replies || []).length; });
      return count;
    }

    // ============================================
    // ENHANCE STATIC TODOS
    // ============================================
    function enhanceAllTodos() {
      // Enhance static todos
      document.querySelectorAll('.todo-list .todo-checkbox[data-task]').forEach(function(checkbox) {
        var todoId = checkbox.getAttribute('data-task');
        var li = checkbox.closest('li');
        if (li.classList.contains('enhanced')) return;

        var textEl = li.querySelector('.todo-text');
        var todo = findTodoById(todoId);

        // If todo doesn't exist in roadmapTodos, create it from HTML state
        if (!todo) {
          var expandCard = checkbox.closest('.expand-card');
          var cardId = expandCard ? expandCard.getAttribute('data-card') : null;
          if (cardId) {
            todo = {
              id: todoId,
              text: textEl ? textEl.textContent.trim() : '',
              completed: checkbox.classList.contains('done'),
              comments: [],
              isStatic: true
            };
            if (!roadmapTodos[cardId]) roadmapTodos[cardId] = [];
            roadmapTodos[cardId].push(todo);
          }
        }

        li.classList.add('enhanced', 'todo-item');
        li.setAttribute('data-todo-id', todoId);

        // Wrap checkbox and text in todo-row div
        var todoRow = document.createElement('div');
        todoRow.className = 'todo-row';
        li.insertBefore(todoRow, checkbox);
        todoRow.appendChild(checkbox);
        if (textEl) todoRow.appendChild(textEl);

        // Sync completed state: HTML 'done' class takes precedence over localStorage
        var htmlHasDone = checkbox.classList.contains('done');
        if (htmlHasDone) {
          // HTML has 'done' class, so mark it checked regardless of localStorage
          checkbox.classList.add('checked');
          if (textEl) textEl.classList.add('done');
          // Update localStorage to match HTML
          if (todo) todo.completed = true;
        } else if (todo && todo.completed) {
          // No HTML 'done' class, so use localStorage state
          checkbox.classList.add('checked');
          if (textEl) textEl.classList.add('done');
        }
        
        // Add comment badge
        var commentCount = getCommentCount(todo);
        var badge = document.createElement('span');
        badge.className = 'todo-comment-badge' + (commentCount === 0 ? ' empty' : '');
        badge.textContent = commentCount || '+';
        badge.onclick = function(e) { e.stopPropagation(); toggleTodoComments(todoId); };
        todoRow.appendChild(badge);
        
        // Make text clickable
        if (textEl) {
          textEl.onclick = function(e) { e.stopPropagation(); toggleTodoComments(todoId); };
          textEl.style.cursor = 'pointer';
        }
        
        // Add inline comments container
        var commentsContainer = document.createElement('div');
        commentsContainer.className = 'todo-comments-inline';
        commentsContainer.id = 'inline-comments-' + todoId;
        li.appendChild(commentsContainer);
      });

      // Render dynamic todos
      CARD_IDS.forEach(renderDynamicTodos);

      // Save localStorage after HTML state has been synced
      localStorage.setItem('enrg-brand-todos', JSON.stringify(todoState));
    }

    function renderDynamicTodos(cardId) {
      var container = document.getElementById('dynamic-todos-' + cardId);
      if (!container) return;
      
      var allTodos = roadmapTodos[cardId] || [];
      var dynamicTodos = allTodos.filter(function(t) { return !t.isStatic; });
      
      container.innerHTML = dynamicTodos.map(function(todo) {
        var commentCount = getCommentCount(todo);
        return '<li class="todo-item enhanced" data-todo-id="' + todo.id + '">' +
          '<div class="todo-row">' +
            '<span class="todo-checkbox dynamic-todo-checkbox ' + (todo.completed ? 'checked' : '') + '" data-todo-id="' + todo.id + '" onclick="toggleDynamicTodoCheck(\'' + todo.id + '\', this)">' +
              '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>' +
            '</span>' +
            '<span class="todo-text ' + (todo.completed ? 'done' : '') + '" onclick="toggleTodoComments(\'' + todo.id + '\')">' + escapeHtml(todo.text) + '</span>' +
            '<span class="todo-comment-badge' + (commentCount === 0 ? ' empty' : '') + '" onclick="toggleTodoComments(\'' + todo.id + '\')">' + (commentCount || '+') + '</span>' +
          '</div>' +
          '<div class="todo-comments-inline" id="inline-comments-' + todo.id + '"></div>' +
        '</li>';
      }).join('');
    }

    // ============================================
    // TOGGLE INLINE COMMENTS
    // ============================================
    function toggleTodoComments(todoId) {
      var container = document.getElementById('inline-comments-' + todoId);
      if (!container) return;

      var isOpen = container.dataset.state === 'open';

      // Close all other open comment containers
      document.querySelectorAll('.todo-comments-inline[data-state="open"]').forEach(function(c) {
        c.dataset.state = 'closed';
        c.innerHTML = '';
      });

      if (!isOpen) {
        currentTodoId = todoId;
        currentTodoData = findTodoById(todoId);
        container.dataset.state = 'open';
        renderInlineComments(todoId);
      } else {
        currentTodoId = null;
        currentTodoData = null;
      }
    }

    function renderInlineComments(todoId) {
      var container = document.getElementById('inline-comments-' + todoId);
      if (!container) return;
      
      var todo = findTodoById(todoId);
      if (!todo) return;
      
      var comments = todo.comments || [];
      
      var html = comments.map(function(comment) {
        var isOwner = currentUserEmail && comment.author === currentUserEmail;
        
        var repliesHtml = (comment.replies || []).map(function(reply) {
          var isReplyOwner = currentUserEmail && reply.author === currentUserEmail;
          return '<div class="todo-reply-card" data-reply-id="' + reply.id + '">' +
            '<div class="todo-reply-card-header">' +
              '<div class="todo-reply-card-meta">' +
                '<span class="todo-reply-card-author">' + escapeHtml(reply.author) + '</span>' +
                '<span class="todo-reply-card-time">' + formatTimeAgo(reply.timestamp) + '</span>' +
              '</div>' +
              (isReplyOwner ? '<div class="reply-inline-icons">' +
                '<button class="icon-btn" onclick="editReplyInline(\'' + todoId + '\', \'' + comment.id + '\', \'' + reply.id + '\')" title="Edit"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>' +
                '<button class="icon-btn icon-btn-danger" onclick="deleteReplyInline(\'' + todoId + '\', \'' + comment.id + '\', \'' + reply.id + '\')" title="Delete"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>' +
              '</div>' : '') +
            '</div>' +
            '<div class="todo-reply-card-body">' + escapeHtml(reply.text) + '</div>' +
          '</div>';
        }).join('');
        
        return '<div class="todo-comment-card" data-comment-id="' + comment.id + '">' +
          '<div class="todo-comment-card-header">' +
            '<div class="todo-comment-card-meta">' +
              '<span class="todo-comment-card-author">' + escapeHtml(comment.author) + '</span>' +
              '<span class="todo-comment-card-time">' + formatTimeAgo(comment.timestamp) + '</span>' +
            '</div>' +
            '<div class="comment-inline-icons">' +
              '<button class="icon-btn" onclick="showReplyForm(\'' + todoId + '\', \'' + comment.id + '\')" title="Reply"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg></button>' +
              (isOwner ? '<button class="icon-btn" onclick="editCommentInline(\'' + todoId + '\', \'' + comment.id + '\')" title="Edit"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>' : '') +
              (isOwner ? '<button class="icon-btn icon-btn-danger" onclick="deleteCommentInline(\'' + todoId + '\', \'' + comment.id + '\')" title="Delete"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>' : '') +
            '</div>' +
          '</div>' +
          '<div class="todo-comment-card-body">' + escapeHtml(comment.text) + '</div>' +
          (repliesHtml ? '<div class="todo-replies">' + repliesHtml + '</div>' : '') +
          '<div class="todo-reply-form" id="reply-form-' + todoId + '-' + comment.id + '" style="display:none;">' +
            '<input type="text" class="todo-reply-input" placeholder="Write a reply..." onkeydown="if(event.key===\'Enter\')submitReplyInline(\'' + todoId + '\', \'' + comment.id + '\', this); if(event.key===\'Escape\')hideReplyForm(\'' + todoId + '\', \'' + comment.id + '\');">' +
            '<button class="add-todo-btn" onclick="submitReplyInline(\'' + todoId + '\', \'' + comment.id + '\', this.previousElementSibling)">Reply</button>' +
          '</div>' +
        '</div>';
      }).join('');
      
      html += '<div class="todo-add-comment-inline">' +
        '<input type="text" placeholder="Add a comment..." onkeydown="if(event.key===\'Enter\')addCommentInline(\'' + todoId + '\', this); if(event.key===\'Escape\')toggleTodoComments(\'' + todoId + '\');">' +
        '<button onclick="addCommentInline(\'' + todoId + '\', this.previousElementSibling)">Post</button>' +
      '</div>';
      
      container.innerHTML = html;
    }

    // ============================================
    // COMMENT CRUD (INLINE)
    // ============================================
    function addCommentInline(todoId, input) {
      var text = input.value.trim();
      if (!text) return;
      
      input.disabled = true;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            input.disabled = false;
            if (result.success) {
              input.value = '';
              var todo = findTodoById(todoId);
              if (todo) {
                if (!todo.comments) todo.comments = [];
                todo.comments.push(result.comment);
              }
              renderInlineComments(todoId);
              updateTodoBadge(todoId);
            }
          })
          .withFailureHandler(function(err) {
            input.disabled = false;
            alert('Failed: ' + err.message);
          })
          .addTodoComment(todoId, text);
      } else {
        var todo = findTodoById(todoId);
        if (todo) {
          if (!todo.comments) todo.comments = [];
          todo.comments.push({ id: 'local-' + Date.now(), text: text, author: 'local@test.com', timestamp: new Date().toISOString(), replies: [] });
        }
        renderInlineComments(todoId);
        updateTodoBadge(todoId);
        input.value = '';
        input.disabled = false;
      }
    }

    function editCommentInline(todoId, commentId) {
      var commentEl = document.querySelector('#inline-comments-' + todoId + ' [data-comment-id="' + commentId + '"]');
      var bodyEl = commentEl.querySelector('.todo-comment-card-body');
      var todo = findTodoById(todoId);
      var comment = todo.comments.find(function(c) { return c.id === commentId; });
      
      bodyEl.innerHTML = '<input type="text" class="todo-edit-input" value="' + escapeHtml(comment.text).replace(/"/g, '&quot;') + '" onkeydown="if(event.key===\'Enter\')saveCommentInline(\'' + todoId + '\', \'' + commentId + '\', this); if(event.key===\'Escape\')renderInlineComments(\'' + todoId + '\');">' +
        '<div class="todo-edit-actions">' +
          '<button class="todo-edit-save" onclick="saveCommentInline(\'' + todoId + '\', \'' + commentId + '\', this.parentElement.previousElementSibling)">Save</button>' +
          '<button class="todo-edit-cancel" onclick="renderInlineComments(\'' + todoId + '\')">Cancel</button>' +
        '</div>';
      bodyEl.querySelector('input').focus();
    }

    function saveCommentInline(todoId, commentId, input) {
      var newText = input.value.trim();
      if (!newText) return;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result.success) {
              var todo = findTodoById(todoId);
              var comment = todo.comments.find(function(c) { return c.id === commentId; });
              if (comment) comment.text = newText;
              renderInlineComments(todoId);
            }
          })
          .editTodoComment(todoId, commentId, newText);
      } else {
        var todo = findTodoById(todoId);
        var comment = todo.comments.find(function(c) { return c.id === commentId; });
        if (comment) comment.text = newText;
        renderInlineComments(todoId);
      }
    }

    function deleteCommentInline(todoId, commentId) {
      if (!confirm('Delete this comment?')) return;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result.success) {
              var todo = findTodoById(todoId);
              todo.comments = todo.comments.filter(function(c) { return c.id !== commentId; });
              renderInlineComments(todoId);
              updateTodoBadge(todoId);
            }
          })
          .deleteTodoComment(todoId, commentId);
      } else {
        var todo = findTodoById(todoId);
        todo.comments = todo.comments.filter(function(c) { return c.id !== commentId; });
        renderInlineComments(todoId);
        updateTodoBadge(todoId);
      }
    }

    // ============================================
    // REPLY CRUD (INLINE)
    // ============================================
    function showReplyForm(todoId, commentId) {
      var form = document.getElementById('reply-form-' + todoId + '-' + commentId);
      form.style.display = 'flex';
      form.querySelector('input').focus();
    }

    function hideReplyForm(todoId, commentId) {
      var form = document.getElementById('reply-form-' + todoId + '-' + commentId);
      form.style.display = 'none';
    }

    function submitReplyInline(todoId, commentId, input) {
      var text = input.value.trim();
      if (!text) return;
      
      input.disabled = true;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            input.disabled = false;
            if (result.success) {
              var todo = findTodoById(todoId);
              var comment = todo.comments.find(function(c) { return c.id === commentId; });
              if (comment) {
                if (!comment.replies) comment.replies = [];
                comment.replies.push(result.reply);
              }
              renderInlineComments(todoId);
              updateTodoBadge(todoId);
            }
          })
          .addTodoReply(todoId, commentId, text);
      } else {
        var todo = findTodoById(todoId);
        var comment = todo.comments.find(function(c) { return c.id === commentId; });
        if (comment) {
          if (!comment.replies) comment.replies = [];
          comment.replies.push({ id: 'local-' + Date.now(), text: text, author: 'local@test.com', timestamp: new Date().toISOString() });
        }
        renderInlineComments(todoId);
        updateTodoBadge(todoId);
        input.value = '';
        input.disabled = false;
      }
    }

    function editReplyInline(todoId, commentId, replyId) {
      var replyEl = document.querySelector('#inline-comments-' + todoId + ' [data-reply-id="' + replyId + '"]');
      var bodyEl = replyEl.querySelector('.todo-reply-card-body');
      var todo = findTodoById(todoId);
      var comment = todo.comments.find(function(c) { return c.id === commentId; });
      var reply = comment.replies.find(function(r) { return r.id === replyId; });
      
      bodyEl.innerHTML = '<input type="text" class="todo-edit-input" value="' + escapeHtml(reply.text).replace(/"/g, '&quot;') + '" onkeydown="if(event.key===\'Enter\')saveReplyInline(\'' + todoId + '\', \'' + commentId + '\', \'' + replyId + '\', this); if(event.key===\'Escape\')renderInlineComments(\'' + todoId + '\');">' +
        '<div class="todo-edit-actions">' +
          '<button class="todo-edit-save" onclick="saveReplyInline(\'' + todoId + '\', \'' + commentId + '\', \'' + replyId + '\', this.parentElement.previousElementSibling)">Save</button>' +
          '<button class="todo-edit-cancel" onclick="renderInlineComments(\'' + todoId + '\')">Cancel</button>' +
        '</div>';
      bodyEl.querySelector('input').focus();
    }

    function saveReplyInline(todoId, commentId, replyId, input) {
      var newText = input.value.trim();
      if (!newText) return;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result.success) {
              var todo = findTodoById(todoId);
              var comment = todo.comments.find(function(c) { return c.id === commentId; });
              var reply = comment.replies.find(function(r) { return r.id === replyId; });
              if (reply) reply.text = newText;
              renderInlineComments(todoId);
            }
          })
          .editTodoReply(todoId, commentId, replyId, newText);
      } else {
        var todo = findTodoById(todoId);
        var comment = todo.comments.find(function(c) { return c.id === commentId; });
        var reply = comment.replies.find(function(r) { return r.id === replyId; });
        if (reply) reply.text = newText;
        renderInlineComments(todoId);
      }
    }

    function deleteReplyInline(todoId, commentId, replyId) {
      if (!confirm('Delete this reply?')) return;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result.success) {
              var todo = findTodoById(todoId);
              var comment = todo.comments.find(function(c) { return c.id === commentId; });
              comment.replies = comment.replies.filter(function(r) { return r.id !== replyId; });
              renderInlineComments(todoId);
              updateTodoBadge(todoId);
            }
          })
          .deleteTodoReply(todoId, commentId, replyId);
      } else {
        var todo = findTodoById(todoId);
        var comment = todo.comments.find(function(c) { return c.id === commentId; });
        comment.replies = comment.replies.filter(function(r) { return r.id !== replyId; });
        renderInlineComments(todoId);
        updateTodoBadge(todoId);
      }
    }

    // ============================================
    // TODO TOGGLE & PROGRESS
    // ============================================
    function toggleDynamicTodoCheck(todoId, checkbox) {
      event.stopPropagation();
      var isCompleted = !checkbox.classList.contains('checked');
      checkbox.classList.toggle('checked');
      var textEl = checkbox.nextElementSibling;
      if (textEl) textEl.classList.toggle('done');
      
      var todo = findTodoById(todoId);
      if (todo) todo.completed = isCompleted;
      
      var cardId = findTodoCardId(todoId);
      if (cardId) updateCardProgress(document.querySelector('[data-card="' + cardId + '"]'));
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run.toggleRoadmapTodo(todoId, isCompleted);
      }
    }

    function updateTodoBadge(todoId) {
      var todo = findTodoById(todoId);
      if (!todo) return;
      var count = getCommentCount(todo);
      var li = document.querySelector('[data-todo-id="' + todoId + '"]');
      if (!li) return;
      var badge = li.querySelector('.todo-comment-badge');
      if (badge) {
        badge.textContent = count || '+';
        badge.classList.toggle('empty', count === 0);
      }
    }

    function updateCardProgress(card) {
      if (!card) return;
      var staticChecked = card.querySelectorAll('.todo-list .todo-checkbox.checked').length;
      var dynamicChecked = card.querySelectorAll('.todo-list-dynamic .todo-checkbox.checked').length;
      var staticTotal = card.querySelectorAll('.todo-list .todo-checkbox').length;
      var dynamicTotal = card.querySelectorAll('.todo-list-dynamic .todo-checkbox').length;
      
      var checked = staticChecked + dynamicChecked;
      var total = staticTotal + dynamicTotal;
      var percent = total > 0 ? (checked / total) * 100 : 0;
      
      var progressText = card.querySelector('.expand-card-progress-text');
      if (progressText) progressText.innerHTML = '<span class="done-count">' + checked + '</span>/' + total + ' complete';
      var progressFill = card.querySelector('.expand-card-progress-fill');
      if (progressFill) progressFill.style.width = percent + '%';
    }

    function updateAllCardProgress() {
      CARD_IDS.forEach(function(cardId) {
        var card = document.querySelector('[data-card="' + cardId + '"]');
        if (card) updateCardProgress(card);
      });
    }

    // ============================================
    // ADD NEW TODO
    // ============================================
    function addNewTodo(cardId, inputEl) {
      var text = inputEl.value.trim();
      if (!text) return;
      
      inputEl.disabled = true;
      
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            inputEl.disabled = false;
            if (result.success) {
              inputEl.value = '';
              if (!roadmapTodos[cardId]) roadmapTodos[cardId] = [];
              roadmapTodos[cardId].push(result.todo);
              renderDynamicTodos(cardId);
              updateCardProgress(document.querySelector('[data-card="' + cardId + '"]'));
            }
          })
          .withFailureHandler(function(err) {
            inputEl.disabled = false;
            alert('Failed: ' + err.message);
          })
          .addRoadmapTodo(cardId, text);
      } else {
        var newTodo = { id: 'local-' + Date.now(), cardId: cardId, text: text, completed: false, author: 'local@test.com', createdAt: new Date().toISOString(), comments: [], isStatic: false };
        if (!roadmapTodos[cardId]) roadmapTodos[cardId] = [];
        roadmapTodos[cardId].push(newTodo);
        renderDynamicTodos(cardId);
        updateCardProgress(document.querySelector('[data-card="' + cardId + '"]'));
        inputEl.value = '';
        inputEl.disabled = false;
      }
    }

    // ============================================
    // KEYBOARD SHORTCUTS
    // ============================================
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && currentTodoId) {
        toggleTodoComments(currentTodoId);
      }
    });

    // ============================================
    // SPLASH SCREEN
    // ============================================
    function checkSplash() {
      var hasSeenSplash = localStorage.getItem('enrg-brand-splash-seen');
      if (hasSeenSplash) {
        document.getElementById('splashOverlay').classList.add('hidden');
      }
    }

    function dismissSplash() {
      localStorage.setItem('enrg-brand-splash-seen', 'true');
      document.getElementById('splashOverlay').classList.add('hidden');
      setTimeout(function() {
        document.getElementById('splashOverlay').style.display = 'none';
      }, 300);
    }

    function showSplash() {
      var overlay = document.getElementById('splashOverlay');
      overlay.style.display = 'flex';
      setTimeout(function() {
        overlay.classList.remove('hidden');
      }, 10);
    }

    // Check splash on load
    checkSplash();

    // ============================================
    // MOBILE OVERLAY
    // ============================================
    function isMobile() {
      return window.innerWidth <= 768;
    }

    function showMobileOverlay(onClose) {
      removeMobileOverlay();
      var overlay = document.createElement('div');
      overlay.id = 'mobileOverlay';
      overlay.style.cssText = 'position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 999;';
      overlay.onclick = onClose;
      document.body.appendChild(overlay);
    }

    function removeMobileOverlay() {
      var existing = document.getElementById('mobileOverlay');
      if (existing) existing.remove();
    }

    // Toast notification helper (systematic, dark mode aware)
    function showToast(message, type) {
      type = type || 'info';
      var toast = document.createElement('div');
      toast.className = 'toast toast-' + type;
      toast.textContent = message;
      toast.style.cssText = 'position:fixed;bottom:20px;left:50%;transform:translateX(-50%);padding:12px 24px;border-radius: var(--radius-lg);color:#fff;font-size:14px;z-index:10000;opacity:0;transition:opacity 0.2s;' +
        (type === 'success' ? 'background:var(--purple-primary);' : type === 'error' ? 'background:var(--color-danger);' : 'background:var(--gray-dark);');
      document.body.appendChild(toast);
      setTimeout(function() { toast.style.opacity = '1'; }, 10);
      setTimeout(function() {
        toast.style.opacity = '0';
        setTimeout(function() { toast.remove(); }, 200);
      }, 2500);
    }

    // Comment system
    var commentMode = false;
    var comments = [];
    var currentUser = null;
    var pendingClick = null;
    var sheetUrl = null;
    var isLocalMode = typeof google === 'undefined' || !google.script;
    var STORAGE_KEY = 'enrg_brand_validator_comments';
    var ADMIN_EMAIL = 'nick.sandercock@enrg.realty';

    function initComments() {
      if (isLocalMode) console.log('Comments: running in LOCAL mode with localStorage');
      
      if (isLocalMode) {
        // Local testing mode
        currentUser = 'local.user@enrg.realty';
        setUserDisplay('Local Mode', 'LM');
        loadCommentsLocal();
      } else {
        // Apps Script mode
        google.script.run.withSuccessHandler(function(result) {
          if (result.success) {
            currentUser = result.email;
            setUserDisplay(result.email.split('@')[0], getInitials(result.email));
          }
        }).withFailureHandler(function(err) {
          setUserDisplay('Guest', '?');
        }).getUser();
        loadCommentsRemote();
      }
    }
    
    function setUserDisplay(name, initials) {
      // Update nav menu user display
      var navEmail = document.getElementById('navUserEmail');
      var navInitials = document.getElementById('navUserInitials');
      if (navEmail) navEmail.textContent = name;
      if (navInitials) navInitials.textContent = initials;
    }

    function getInitials(email) {
      var parts = email.split('@')[0].split('.');
      return parts.length >= 2 ? (parts[0][0] + parts[1][0]).toUpperCase() : email.substring(0, 2).toUpperCase();
    }

    // Local storage helpers
    function loadCommentsLocal() {
      try {
        var stored = localStorage.getItem(STORAGE_KEY);
        comments = stored ? JSON.parse(stored) : [];
      } catch (e) {
        console.error('Failed to load comments from localStorage', e);
        comments = [];
      }
      updateCommentCount();
      renderCommentPins();
    }

    function saveCommentsLocal() {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(comments));
      } catch (e) {
        console.error('Failed to save comments to localStorage', e);
      }
    }

    // Remote (Apps Script) helpers
    function loadCommentsRemote() {
      google.script.run.withSuccessHandler(function(result) {
        if (result.success) {
          comments = result.comments || [];
          updateCommentCount();
          renderCommentPins();
        }
      }).withFailureHandler(function(err) {
        console.error('Failed to load comments from backend', err);
      }).getComments();
      
      // Also fetch sheet URL
      google.script.run.withSuccessHandler(function(result) {
        if (result.success && result.url) {
          sheetUrl = result.url;
          var link = document.getElementById('sheetLink');
          if (link) {
            link.href = sheetUrl;
            link.style.display = 'flex';
          }
          var roadmapLink = document.getElementById('roadmapSheetLink');
          if (roadmapLink) {
            roadmapLink.href = sheetUrl;
            roadmapLink.style.display = 'inline-flex';
          }
          // Also update nav menu link
          var navLink = document.getElementById('navSheetLink');
          if (navLink) {
            navLink.href = sheetUrl;
            navLink.style.display = 'flex';
          }
        }
      }).getSheetUrl();
    }

    function updateCommentCount() {
      var openCount = comments.filter(function(c) { return !c.resolved; }).length;
      document.getElementById('commentCount').textContent = openCount;
    }

    // Comments panel state
    var commentsPanelOpen = false;
    var expandedCommentId = null;
    var resolvedSectionCollapsed = true; // Default to collapsed

    function toggleCommentsPanel() {
      if (commentsPanelOpen) {
        closeCommentsPanel();
      } else {
        openCommentsPanel();
      }
    }

    function openCommentsPanel() {
      var panel = document.getElementById('commentsPanel');
      var backdrop = document.getElementById('commentsPanelBackdrop');
      commentsPanelOpen = true;
      renderCommentsPanel();
      panel.dataset.state = 'open';
      backdrop.dataset.state = 'visible';
      document.addEventListener('keydown', handleCommentsPanelEsc);
    }

    function closeCommentsPanel() {
      var panel = document.getElementById('commentsPanel');
      var backdrop = document.getElementById('commentsPanelBackdrop');
      commentsPanelOpen = false;
      expandedCommentId = null;
      panel.dataset.state = 'closed';
      backdrop.dataset.state = 'hidden';
      document.removeEventListener('keydown', handleCommentsPanelEsc);
    }

    function handleCommentsPanelEsc(e) {
      if (e.key === 'Escape') {
        // Escape hierarchy: innermost context first
        // 1. If editing → cancel edit only (textarea handles this via onkeydown)
        if (currentlyEditingCommentId || currentlyEditingReplyInfo) {
          // Let the textarea's onkeydown handle it
          return;
        }
        // 2. If overflow menu open → close it only
        if (openOverflowMenuId) {
          e.preventDefault();
          closeAllOverflowMenus();
          return;
        }
        // 3. Otherwise → close panel
        e.preventDefault();
        closeCommentsPanel();
      }
    }

    function renderCommentsPanel() {
      var listContainer = document.getElementById('commentsPanelList');
      var footerContainer = document.getElementById('commentsPanelFooter');
      var metaEl = document.getElementById('commentsPanelMeta');
      
      var unresolvedComments = comments.filter(function(c) { return !c.resolved; });
      var resolvedComments = comments.filter(function(c) { return c.resolved; });
      
      metaEl.textContent = unresolvedComments.length + ' open, ' + resolvedComments.length + ' resolved';
      
      var html = '';
      
      if (unresolvedComments.length === 0 && resolvedComments.length === 0) {
        html += '<div class="comments-panel-empty">';
        html += '<div class="comments-panel-empty-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M8 9h8M8 13h5" stroke-linecap="round"/></svg></div>';
        html += '<div class="comments-panel-empty-title">No comments yet</div>';
        html += '<div class="comments-panel-empty-text">Drop a pin anywhere on the page to leave feedback for the team.</div>';
        html += '</div>';
      } else {
        unresolvedComments.forEach(function(comment) {
          html += renderPanelItem(comment, false);
        });
        
        if (resolvedComments.length > 0) {
          html += '<div class="comments-panel-section-header' + (resolvedSectionCollapsed ? ' collapsed' : '') + '" onclick="toggleResolvedSection()">';
          html += '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>';
          html += 'Resolved (' + resolvedComments.length + ')';
          html += '</div>';
          html += '<div class="comments-panel-section-content' + (resolvedSectionCollapsed ? ' collapsed' : '') + '">';
          resolvedComments.forEach(function(comment) {
            html += renderPanelItem(comment, true);
          });
          html += '</div>';
        }
      }
      
      listContainer.innerHTML = html;
      
      // Footer with input and actions
      var sheetLinkHref = sheetUrl || '#';
      var sheetLinkStyle = sheetUrl ? '' : 'display: none;';
      var sheetLinkText = isLocalMode ? 'Local Mode' : 'View in Sheets';
      
      var footerHtml = '<div class="comments-panel-new-comment">';
      footerHtml += '<textarea id="panelNewComment" placeholder="Add a comment..." onkeydown="if(event.key===\'Enter\' && !event.shiftKey){event.preventDefault(); submitPanelNewComment();}"></textarea>';
      footerHtml += '<button class="btn-pin-comment" onclick="toggleCommentMode(true); closeCommentsPanel();" title="Pin to location"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="10" r="3"/><path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/></svg></button>';
      footerHtml += '</div>';
      footerHtml += '<a href="' + sheetLinkHref + '" id="panelSheetLink" class="comments-panel-sheet-link" target="_blank" style="' + sheetLinkStyle + '"><svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>' + sheetLinkText + '</a>';
      
      footerContainer.innerHTML = footerHtml;
    }

    function renderPanelItem(comment, isResolved) {
      var isExpanded = expandedCommentId === comment.id;
      var replyCount = comment.replies ? comment.replies.length : 0;
      var authorName = comment.author.split('@')[0];
      var isOwner = comment.author === currentUser || currentUser === ADMIN_EMAIL;
      var isEditingThis = currentlyEditingCommentId === comment.id;
      
      var initial = authorName.charAt(0).toUpperCase();
      
      var html = '<div class="comments-panel-item" data-resolved="' + isResolved + '" data-expanded="' + isExpanded + '" id="panel-comment-' + comment.id + '" onclick="event.stopPropagation(); toggleCommentExpand(' + (isExpanded ? 'null' : '\'' + comment.id + '\'') + ')">';
      html += '<div class="comment-avatar" data-resolved="' + isResolved + '">' + initial + '</div>';
      html += '<div class="comments-panel-content">';

      // Header line: author · time · reply count (Twitter style)
      html += '<div class="comments-panel-header-line">';
      html += '<span class="comment-author">' + authorName + '</span>';
      html += '<span class="comments-panel-dot">·</span>';
      html += '<span class="comment-time">' + formatRelativeTime(comment.timestamp) + '</span>';
      if (replyCount > 0 && !isExpanded) {
        html += '<span class="comments-panel-reply-count">' + replyCount + ' repl' + (replyCount === 1 ? 'y' : 'ies') + '</span>';
      }
      html += '</div>';
      
      // Comment text or edit textarea
      if (isEditingThis) {
        html += '<div onclick="event.stopPropagation()">';
        html += '<textarea id="edit-comment-textarea-' + comment.id + '" class="inline-edit-textarea" onblur="saveCommentEdit(\'' + comment.id + '\')" onkeydown="handleEditKeydown(event, \'comment\', \'' + comment.id + '\')">' + escapeHtml(comment.comment) + '</textarea>';
        html += '<div class="inline-edit-hint">Enter to save · Esc to cancel</div>';
        html += '</div>';
      } else {
        html += '<div class="comment-body">' + escapeHtml(comment.comment) + '</div>';
      }
      
      // Overflow menu (positioned absolute right)
      if (!isEditingThis) {
        var menuId = 'comment-' + comment.id;
        html += '<div class="overflow-menu">';
        html += '<button class="overflow-trigger" onclick="toggleOverflowMenu(\'' + menuId + '\', event)" title="More actions"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button>';
        html += '<div class="overflow-dropdown" id="overflow-dropdown-' + menuId + '">';
        if (isOwner) {
          html += '<button onclick="handleOverflowAction(\'edit\', \'' + comment.id + '\')">Edit</button>';
        }
        if (!isResolved) {
          html += '<button onclick="handleOverflowAction(\'resolve\', \'' + comment.id + '\')">Resolve</button>';
        } else {
          html += '<button onclick="handleOverflowAction(\'reopen\', \'' + comment.id + '\')">Reopen</button>';
        }
        if (isOwner) {
          html += '<button class="danger" onclick="handleOverflowAction(\'delete\', \'' + comment.id + '\')">Delete</button>';
        }
        html += '</div></div>';
      }
      
      // Expanded content
      if (isExpanded) {
        html += '<div class="comments-panel-expanded-content" onclick="event.stopPropagation()">';
        
        // Only show location buttons if comment has coordinates
        if (comment.x != null && comment.y != null && comment.x !== '' && comment.y !== '') {
          html += '<div class="comments-panel-actions">';
          html += '<button class="btn-sm btn-location" onclick="event.stopPropagation(); scrollToCommentFromPanel(\'' + comment.id + '\')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="10" r="3"/><path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/></svg>Go to pin</button>';
          // Unpin button for owner
          if (isOwner) {
            html += '<button class="btn-sm" style="color: var(--gray-mid);" onclick="event.stopPropagation(); unpinCommentFromPanel(\'' + comment.id + '\')" title="Remove pin location but keep comment"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>Unpin</button>';
          }
          html += '</div>';
        }
        
        // Replies with header layout and edit/delete buttons (using unified reply structure)
        if (replyCount > 0) {
          html += '<div class="comment-replies">';
          comment.replies.forEach(function(reply, replyIdx) {
            var isReplyOwner = reply.author === currentUser || currentUser === ADMIN_EMAIL;
            var isEditingReply = currentlyEditingReplyInfo && currentlyEditingReplyInfo.commentId === comment.id && currentlyEditingReplyInfo.replyIdx === replyIdx;
            var replyAuthorName = reply.author.split('@')[0];
            var replyInitial = replyAuthorName.charAt(0).toUpperCase();

            html += '<div class="comment-reply">';
            html += '<div class="comment-avatar">' + replyInitial + '</div>';
            html += '<div class="comment-reply-content">';

            // Header: author · time
            html += '<div class="comment-reply-header">';
            html += '<span class="comment-author">' + replyAuthorName + '</span>';
            html += '<span class="comments-panel-dot">·</span>';
            html += '<span class="comment-time">' + formatRelativeTime(reply.timestamp) + '</span>';
            html += '</div>';

            // Text or edit
            if (isEditingReply) {
              html += '<div>';
              html += '<textarea id="edit-reply-textarea-' + comment.id + '-' + replyIdx + '" class="inline-edit-textarea" onblur="saveReplyEdit(\'' + comment.id + '\',' + replyIdx + ')" onkeydown="handleEditKeydown(event, \'reply\', \'' + comment.id + '\', ' + replyIdx + ')">' + escapeHtml(reply.text) + '</textarea>';
              html += '<div class="inline-edit-hint">Enter to save · Esc to cancel</div>';
              html += '</div>';
            } else {
              html += '<div class="comment-body">' + escapeHtml(reply.text) + '</div>';
            }
            
            html += '</div>'; // reply-content
            
            // Overflow menu (positioned right)
            if (isReplyOwner && !isEditingReply) {
              var replyMenuId = 'reply-' + comment.id + '-' + replyIdx;
              html += '<div class="overflow-menu">';
              html += '<button class="overflow-trigger" onclick="toggleOverflowMenu(\'' + replyMenuId + '\', event)" title="More actions"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button>';
              html += '<div class="overflow-dropdown" id="overflow-dropdown-' + replyMenuId + '">';
              html += '<button onclick="handleOverflowAction(\'edit\', \'' + comment.id + '\', ' + replyIdx + ')">Edit</button>';
              html += '<button class="danger" onclick="handleOverflowAction(\'delete\', \'' + comment.id + '\', ' + replyIdx + ')">Delete</button>';
              html += '</div></div>';
            }
            
            html += '</div>';
          });
          html += '</div>';
        }
        
        // Reply input (Enter to send)
        html += '<div class="comments-panel-reply-input">';
        html += '<textarea placeholder="Write a reply..." id="panel-reply-textarea-' + comment.id + '" onclick="event.stopPropagation()" onkeydown="if(event.key===\'Enter\' && !event.shiftKey){event.preventDefault(); event.stopPropagation(); submitPanelReply(\'' + comment.id + '\');}"></textarea>';
        html += '<button class="comments-panel-reply-btn" onclick="event.stopPropagation(); submitPanelReply(\'' + comment.id + '\')" title="Send reply"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>';
        html += '</div>';
        html += '</div>';
      }
      
      html += '</div></div>';
      return html;
    }

    function toggleCommentExpand(commentId) {
      expandedCommentId = commentId;
      renderCommentsPanel();
    }
    
    function toggleResolvedSection() {
      resolvedSectionCollapsed = !resolvedSectionCollapsed;
      renderCommentsPanel();
    }

    function scrollToCommentFromPanel(commentId) {
      closeCommentsPanel();
      goToComment(commentId);
    }

    function resolveCommentFromPanel(commentId) {
      resolveComment(commentId);
      renderCommentsPanel();
    }

    function unresolveCommentFromPanel(commentId) {
      unresolveComment(commentId);
      renderCommentsPanel();
    }

    // Overflow Menu — Single trigger for secondary actions
    var openOverflowMenuId = null;
    
    function toggleOverflowMenu(menuId, event) {
      if (event) event.stopPropagation();
      var dropdown = document.getElementById('overflow-dropdown-' + menuId);
      if (!dropdown) return;

      var wasOpen = dropdown.dataset.state === 'open';
      closeAllOverflowMenus();

      if (!wasOpen) {
        dropdown.dataset.state = 'open';
        openOverflowMenuId = menuId;
        // Close on outside click
        setTimeout(function() {
          document.addEventListener('click', closeAllOverflowMenus, { once: true });
        }, 0);
      }
    }

    function closeAllOverflowMenus() {
      var dropdowns = document.querySelectorAll('.overflow-dropdown[data-state="open"]');
      dropdowns.forEach(function(d) { d.dataset.state = 'closed'; });
      openOverflowMenuId = null;
    }

    // Nav menu (top-right three-dot menu)
    var navMenuOpen = false;

    function toggleNavMenu(event) {
      if (event) event.stopPropagation();
      var dropdown = document.getElementById('navOverflowDropdown');
      if (!dropdown) return;

      navMenuOpen = !navMenuOpen;
      if (navMenuOpen) {
        dropdown.dataset.state = 'open';
        setTimeout(function() {
          document.addEventListener('click', closeNavMenu, { once: true });
        }, 0);
      } else {
        dropdown.dataset.state = 'closed';
      }
    }

    function closeNavMenu() {
      var dropdown = document.getElementById('navOverflowDropdown');
      if (dropdown) dropdown.dataset.state = 'closed';
      navMenuOpen = false;
    }
    
    function handleOverflowAction(action, commentId, replyIdx) {
      closeAllOverflowMenus();
      if (action === 'edit') {
        if (typeof replyIdx === 'number') {
          editReplyFromPanel(commentId, replyIdx);
        } else {
          editCommentFromPanel(commentId);
        }
      } else if (action === 'delete') {
        if (typeof replyIdx === 'number') {
          deleteReplyFromPanel(commentId, replyIdx);
        } else {
          deleteCommentFromPanel(commentId);
        }
      } else if (action === 'resolve') {
        resolveCommentFromPanel(commentId);
      } else if (action === 'reopen') {
        unresolveCommentFromPanel(commentId);
      }
    }

    function unpinCommentFromPanel(commentId) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      
      var isOwner = comment.author === currentUser || currentUser === ADMIN_EMAIL;
      if (!isOwner) {
        showToast('You can only unpin your own comments', 'error');
        return;
      }
      
      // Optimistically update UI
      comment.x = null;
      comment.y = null;
      renderCommentsPanel();
      renderCommentPins();
      
      if (isLocalMode) {
        saveCommentsLocal();
        showToast('Comment unpinned', 'success');
      } else {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result && result.success) {
              showToast('Comment unpinned', 'success');
            } else {
              // Revert on failure
              loadCommentsRemote();
              showToast('Failed to unpin: ' + result.error, 'error');
            }
          })
          .withFailureHandler(function(err) {
            loadCommentsRemote();
            showToast('Failed to unpin: ' + err.message, 'error');
          })
          .unpinComment(commentId);
      }
    }

    // Inline editing state
    var currentlyEditingCommentId = null;
    var currentlyEditingReplyInfo = null; // {commentId, replyIdx}
    var editCancelled = false; // Flag to prevent save on cancel
    var savingInProgress = false; // Flag to prevent double-save

    function editCommentFromPanel(commentId) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      
      // Set editing state and re-render
      currentlyEditingCommentId = commentId;
      currentlyEditingReplyInfo = null;
      renderCommentsPanel();
      
      // Focus the textarea
      setTimeout(function() {
        var textarea = document.getElementById('edit-comment-textarea-' + commentId);
        if (textarea) {
          textarea.focus();
          textarea.setSelectionRange(textarea.value.length, textarea.value.length);
        }
      }, 50);
    }
    
    function handleEditKeydown(e, type, commentId, replyIdx) {
      if (e.key === 'Escape') {
        e.preventDefault();
        e.stopPropagation();
        if (type === 'comment') {
          cancelCommentEdit();
        } else {
          cancelReplyEdit();
        }
      } else if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        e.stopPropagation();
        if (type === 'comment') {
          saveCommentEdit(commentId);
        } else {
          saveReplyEdit(commentId, replyIdx);
        }
      }
    }

    function saveCommentEdit(commentId) {
      if (editCancelled) { editCancelled = false; return; }
      if (savingInProgress) return;
      if (!currentlyEditingCommentId) return;
      
      savingInProgress = true;
      
      var textarea = document.getElementById('edit-comment-textarea-' + commentId);
      if (!textarea) { savingInProgress = false; return; }
      
      var newText = textarea.value.trim();
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) { savingInProgress = false; return; }
      
      if (newText && newText !== comment.comment) {
        comment.comment = newText;
        if (isLocalMode) {
          saveCommentsLocal();
        } else {
          google.script.run.updateComment(commentId, newText);
        }
        showToast('Comment updated', 'success');
      }
      
      currentlyEditingCommentId = null;
      renderCommentsPanel();
      savingInProgress = false;
    }
    
    function cancelCommentEdit() {
      editCancelled = true;
      currentlyEditingCommentId = null;
      renderCommentsPanel();
    }

    function deleteCommentFromPanel(commentId) {
      // deleteComment already has its own confirm dialog
      deleteComment(commentId);
      renderCommentsPanel();
    }

    function submitPanelReply(commentId) {
      var textarea = document.getElementById('panel-reply-textarea-' + commentId);
      if (!textarea) return;
      var text = textarea.value.trim();
      if (!text) return;
      
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      
      if (!comment.replies) comment.replies = [];
      comment.replies.push({
        text: text,
        author: currentUser,
        timestamp: new Date().toISOString()
      });
      
      if (isLocalMode) {
        saveCommentsLocal();
      } else {
        google.script.run.addReply(commentId, text);
      }
      
      renderCommentsPanel();
    }

    function editReplyFromPanel(commentId, replyIdx) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment || !comment.replies || !comment.replies[replyIdx]) return;
      
      var reply = comment.replies[replyIdx];
      var isOwner = reply.author === currentUser || currentUser === ADMIN_EMAIL;
      if (!isOwner) {
        showToast('You can only edit your own replies', 'error');
        return;
      }
      
      // Set editing state and re-render
      currentlyEditingReplyInfo = { commentId: commentId, replyIdx: replyIdx };
      currentlyEditingCommentId = null;
      renderCommentsPanel();
      
      // Focus the textarea
      setTimeout(function() {
        var textarea = document.getElementById('edit-reply-textarea-' + commentId + '-' + replyIdx);
        if (textarea) {
          textarea.focus();
          textarea.setSelectionRange(textarea.value.length, textarea.value.length);
        }
      }, 50);
    }
    
    function saveReplyEdit(commentId, replyIdx) {
      if (editCancelled) { editCancelled = false; return; }
      if (savingInProgress) return; // Prevent double-save
      if (!currentlyEditingReplyInfo) return; // Already saved or cancelled
      
      savingInProgress = true;
      
      var textarea = document.getElementById('edit-reply-textarea-' + commentId + '-' + replyIdx);
      if (!textarea) { savingInProgress = false; return; }
      
      var newText = textarea.value.trim();
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment || !comment.replies || !comment.replies[replyIdx]) return;
      
      var reply = comment.replies[replyIdx];
      var oldText = reply.text;
      
      if (newText && newText !== oldText) {
        reply.text = newText;
        
        if (isLocalMode) {
          saveCommentsLocal();
          showToast('Reply updated', 'success');
        } else {
          google.script.run
            .withSuccessHandler(function(result) {
              if (result && result.success) {
                showToast('Reply updated', 'success');
              } else {
                reply.text = oldText;
                renderCommentsPanel();
                showToast('Failed to update reply', 'error');
              }
            })
            .withFailureHandler(function(error) {
              reply.text = oldText;
              renderCommentsPanel();
              showToast('Failed to update: ' + error.message, 'error');
            })
            .updateComment(comment);
        }
      }
      
      currentlyEditingReplyInfo = null;
      renderCommentsPanel();
      savingInProgress = false;
    }
    
    function cancelReplyEdit() {
      editCancelled = true;
      currentlyEditingReplyInfo = null;
      renderCommentsPanel();
    }

    function deleteReplyFromPanel(commentId, replyIdx) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment || !comment.replies || !comment.replies[replyIdx]) return;
      
      var reply = comment.replies[replyIdx];
      var isOwner = reply.author === currentUser || currentUser === ADMIN_EMAIL;
      if (!isOwner) {
        showToast('You can only delete your own replies', 'error');
        return;
      }
      
      if (!confirm('Delete this reply?')) return;
      
      var deletedReply = comment.replies.splice(replyIdx, 1)[0];
      renderCommentsPanel();
      
      if (isLocalMode) {
        saveCommentsLocal();
        showToast('Reply deleted', 'success');
      } else {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result && result.success) {
              showToast('Reply deleted', 'success');
            } else {
              comment.replies.splice(replyIdx, 0, deletedReply);
              renderCommentsPanel();
              showToast('Failed to delete reply', 'error');
            }
          })
          .withFailureHandler(function(error) {
            comment.replies.splice(replyIdx, 0, deletedReply);
            renderCommentsPanel();
            showToast('Failed to delete: ' + error.message, 'error');
          })
          .updateComment(comment);
      }
    }

    function submitPanelNewComment() {
      var textarea = document.getElementById('panelNewComment');
      if (!textarea) return;
      var text = textarea.value.trim();
      if (!text) return;
      
      var newComment = {
        id: 'local_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
        x: null,
        y: null,
        sectionId: 'general',
        comment: text,
        author: currentUser,
        timestamp: new Date().toISOString(),
        resolved: false,
        replies: []
      };
      
      if (isLocalMode) {
        comments.push(newComment);
        saveCommentsLocal();
        updateCommentCount();
        renderCommentsPanel();
      } else {
        google.script.run.withSuccessHandler(function(result) {
          if (result.success && result.comment) {
            comments.push(result.comment);
            updateCommentCount();
            renderCommentsPanel();
          }
        }).addGeneralComment(text);
      }
      
      textarea.value = '';
    }

    // Legacy dropdown function for backwards compatibility
    function toggleCommentsDropdown() {
      toggleCommentsPanel();
    }

    function closeCommentsDropdown() {
      closeCommentsPanel();
    }

    function escapeHtml(text) {
      var div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function formatTimeAgo(timestamp) {
      var now = new Date();
      var then = new Date(timestamp);
      var diffMs = now - then;
      var diffMins = Math.floor(diffMs / 60000);
      var diffHours = Math.floor(diffMs / 3600000);
      var diffDays = Math.floor(diffMs / 86400000);
      
      if (diffMins < 1) return 'Just now';
      if (diffMins < 60) return diffMins + 'm ago';
      if (diffHours < 24) return diffHours + 'h ago';
      if (diffDays < 7) return diffDays + 'd ago';
      return then.toLocaleDateString();
    }

    function formatExactDateTime(timestamp) {
      if (!timestamp) return '';
      var date = new Date(timestamp);
      return date.toLocaleDateString('en-US', { 
        month: 'short', 
        day: 'numeric', 
        year: 'numeric',
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
      });
    }

    function timeWithTooltip(timestamp) {
      var relativeTime = formatTimeAgo(timestamp);
      var exactTime = formatExactDateTime(timestamp);
      return '<span class="time-tooltip" title="' + exactTime + '">' + relativeTime + '</span>';
    }
    
    // Alias for compact display
    function formatRelativeTime(timestamp) {
      return formatTimeAgo(timestamp);
    }

    function goToComment(commentId) {
      closeCommentsPanel();
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      var section = document.getElementById(comment.sectionId);
      if (section) {
        section.scrollIntoView({ behavior: 'smooth', block: 'center' });
        // Flash the pin
        var pins = section.querySelectorAll('.comment-pin');
        pins.forEach(function(pin) {
          if (parseFloat(pin.style.left) === comment.x) {
            pin.style.transform = 'translate(-50%, -50%) scale(1.5)';
            pin.style.boxShadow = '0 0 0 4px rgba(255, 96, 57, 0.3)';
            setTimeout(function() {
              pin.style.transform = 'translate(-50%, -50%)';
              pin.style.boxShadow = '';
            }, 1000);
          }
        });
      }
    }

    function startAddComment() {
      toggleCommentMode(true);
      closeCommentsPanel();
    }

    function toggleCommentMode(enable) {
      if (typeof enable === 'boolean') {
        commentMode = enable;
      } else {
        commentMode = !commentMode;
      }
      var hint = document.getElementById('commentHint');
      var toggle = document.getElementById('commentToggle');

      if (commentMode) {
        document.body.classList.add('comment-mode');
        hint.style.display = 'flex';
        toggle.dataset.state = 'active';
      } else {
        document.body.classList.remove('comment-mode');
        hint.style.display = 'none';
        toggle.dataset.state = 'inactive';
        closeCommentInput();
      }
    }

    // Keyboard shortcut: C to toggle comment mode
    document.addEventListener('keydown', function(e) {
      // Don't trigger if typing in an input/textarea
      if (e.key === 'Escape') {
        // Dismiss splash if visible
        var splash = document.getElementById('splashOverlay');
        if (splash && !splash.classList.contains('hidden') && splash.style.display !== 'none') {
          dismissSplash();
          return;
        }
        // Priority 1: Close comments panel if open
        if (commentsPanelOpen) {
          e.preventDefault();
          closeCommentsPanel();
          return;
        }
        // Priority 2: Exit comment mode if active
        if (commentMode) {
          e.preventDefault();
          toggleCommentMode(false);
          return;
        }
        // Escape closes any comment UI in priority order
        var popup = document.querySelector('.comment-popup');
        var popover = document.getElementById('commentInputPopover');
        if (popup) {
          e.preventDefault();
          closePopup();
        } else if (popover) {
          e.preventDefault();
          closeCommentInput();
          if (commentMode) toggleCommentMode(false);
        } else if (commentMode) {
          e.preventDefault();
          toggleCommentMode();
        }
        return;
      }
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
      // Delete key deletes the active comment (if user owns it or is admin)
      if ((e.key === 'Delete' || e.key === 'Backspace') && activeCommentId) {
        var comment = comments.find(function(c) { return c.id === activeCommentId; });
        if (comment && (comment.author === currentUser || currentUser === ADMIN_EMAIL)) {
          e.preventDefault();
          deleteComment(activeCommentId);
        }
        return;
      }
      // Only activate 'C' shortcut if no modifier keys are pressed (allow Cmd+C for copy)
      if ((e.key === 'c' || e.key === 'C') && !e.metaKey && !e.ctrlKey && !e.altKey && !e.shiftKey) {
        e.preventDefault();
        toggleCommentMode();
      }
    });

    function showCommentInput(clientX, clientY, section) {
      // Close any existing popover (but don't clear pendingClick - we'll set it fresh)
      var existingPopover = document.getElementById('commentInputPopover');
      if (existingPopover) existingPopover.remove();
      document.removeEventListener('click', handleOutsideClick);
      var popover = document.createElement('div');
      popover.className = 'comment-input-popover';
      popover.id = 'commentInputPopover';
      
      // Position relative to section (which has position: relative)
      // bounding rect is viewport-relative, so we just subtract section's position
      var sectionRect = section.getBoundingClientRect();
      var popoverX = clientX - sectionRect.left + 12;
      var popoverY = clientY - sectionRect.top + 12;
      
      // Keep within section bounds
      if (popoverX + 260 > sectionRect.width) popoverX = Math.max(10, sectionRect.width - 270);
      if (popoverX < 10) popoverX = 10;
      
      popover.style.left = popoverX + 'px';
      popover.style.top = popoverY + 'px';
      
      var hintText = isMobile() ? 'Tap Post to save' : 'Press <kbd>Enter</kbd> to save';
      popover.innerHTML = '<textarea id="commentText" placeholder="Add a comment..."></textarea><div class="comment-input-footer"><span class="comment-input-hint">' + hintText + '</span><button class="mobile-post-btn" onclick="submitComment()">Post</button></div>';
      section.appendChild(popover);
      
      // Show overlay on mobile for better visibility
      if (isMobile()) {
        showMobileOverlay(function() {
          closeCommentInput();
          toggleCommentMode(false);
        });
      }
      
      var textarea = document.getElementById('commentText');
      // iOS Safari needs a small delay and explicit focus
      setTimeout(function() {
        textarea.focus();
        textarea.click();
      }, 100);
      
      textarea.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          e.stopPropagation();
          var text = textarea.value.trim();
          if (text) {
            submitCommentWithText(text);
          } else {
            closeCommentInput();
          }
        }
        if (e.key === 'Escape') {
          e.preventDefault();
          closeCommentInput();
          if (commentMode) toggleCommentMode(false);
        }
      });
      
      // Close if clicking outside
      setTimeout(function() {
        document.addEventListener('click', handleOutsideClick);
      }, 10);
    }

    function handleOutsideClick(e) {
      var popover = document.getElementById('commentInputPopover');
      if (popover && !popover.contains(e.target) && !e.target.closest('.comment-pin')) {
        closeCommentInput();
      }
    }

    function closeCommentInput() {
      var popover = document.getElementById('commentInputPopover');
      if (popover) popover.remove();
      document.removeEventListener('click', handleOutsideClick);
      pendingClick = null;
      removeMobileOverlay();
    }

    function submitComment() {
      var textarea = document.getElementById('commentText');
      var text = textarea ? textarea.value.trim() : '';
      if (text) {
        submitCommentWithText(text);
      } else {
        closeCommentInput();
      }
    }

    function submitCommentWithText(text) {
      if (!text || !pendingClick || !pendingClick.sectionId) { 
        closeCommentInput(); 
        return; 
      }
      
      var textarea = document.getElementById('commentText');
      if (textarea) {
        textarea.disabled = true;
        textarea.style.opacity = '0.5';
      }
      
      if (isLocalMode) {
        // Local mode: save to localStorage
        var newComment = {
          id: 'local_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
          x: pendingClick.x,
          y: pendingClick.y,
          sectionId: pendingClick.sectionId,
          comment: text,
          author: currentUser,
          timestamp: new Date().toISOString(),
          resolved: false,
          resolvedBy: null,
          resolvedAt: null,
          // Anchor info for responsive positioning
          anchor: pendingClick.anchor || null
        };
        comments.push(newComment);
        saveCommentsLocal();
        updateCommentCount();
        renderCommentPins();
        closeCommentInput();
        toggleCommentMode();
      } else {
        // Remote mode: save to Apps Script
        google.script.run.withSuccessHandler(function(result) {
          if (result.success && result.comment) {
            comments.push(result.comment);
            updateCommentCount();
            renderCommentPins();
            closeCommentInput();
            toggleCommentMode();
          } else {
            if (textarea) {
              textarea.disabled = false;
              textarea.style.opacity = '1';
            }
          }
        }).withFailureHandler(function(err) {
          if (textarea) {
            textarea.disabled = false;
            textarea.style.opacity = '1';
          }
          console.error('Failed to save comment', err);
        }).addComment(pendingClick.x, pendingClick.y, pendingClick.sectionId, text, pendingClick.anchor ? JSON.stringify(pendingClick.anchor) : null);
      }
    }

    function renderCommentPins() {
      document.querySelectorAll('.comment-pin').forEach(function(p) { p.remove(); });
      document.querySelectorAll('.comment-popup').forEach(function(p) { p.remove(); });
      comments.forEach(function(comment) {
        var section = document.getElementById(comment.sectionId);
        if (!section) return;
        
        // Skip if no coordinates
        if (comment.x == null || comment.y == null) return;
        
        var pin = document.createElement('div');
        pin.className = 'comment-pin';
        pin.dataset.resolved = comment.resolved;
        pin.dataset.commentId = comment.id;
        
        // Try anchor-based positioning first
        var positioned = false;
        if (comment.anchor && comment.anchor.selector) {
          try {
            var anchorEl = section.querySelector(comment.anchor.selector);
            if (anchorEl) {
              var sectionRect = section.getBoundingClientRect();
              var anchorRect = anchorEl.getBoundingClientRect();
              
              // Calculate position relative to section based on anchor element's current position
              var pinX = (anchorRect.left - sectionRect.left) + (comment.anchor.offsetX * anchorRect.width);
              var pinY = (anchorRect.top - sectionRect.top) + (comment.anchor.offsetY * anchorRect.height);
              
              // Convert to percentage for horizontal, pixels for vertical (relative to section)
              pin.style.left = ((pinX / sectionRect.width) * 100) + '%';
              pin.style.top = pinY + 'px';
              positioned = true;
            }
          } catch (e) {
            // Selector failed, fall back to stored coordinates
            console.warn('Anchor selector failed for comment', comment.id, e);
          }
        }
        
        // Fallback to stored coordinates
        if (!positioned) {
          pin.style.left = comment.x + '%';
          // Handle both old (pixel) and new (percentage) Y coordinates
          if (comment.y > 100) {
            // Old pixel-based coordinate - convert to percentage
            var sectionRect = section.getBoundingClientRect();
            var yPercent = (comment.y / sectionRect.height) * 100;
            pin.style.top = yPercent + '%';
          } else {
            // New percentage-based coordinate
            pin.style.top = comment.y + '%';
          }
        }
        
        pin.innerHTML = comment.resolved ? '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>' : '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>';
        pin.onclick = function(e) { e.stopPropagation(); showCommentPopup(comment, pin); };
        section.appendChild(pin);
      });
    }

    var activeCommentId = null; // Track which comment popup is open
    var activePopup = null;

    function showCommentPopup(comment, pin) {
      closePopup();
      activeCommentId = comment.id;
      
      var popup = document.createElement('div');
      popup.className = 'comment-popup';
      popup.style.left = (parseFloat(pin.style.left) + 2) + '%';
      popup.style.top = (parseFloat(pin.style.top) + 35) + 'px';
      
      var timeAgo = formatTimeAgo(comment.timestamp);
      var isOwner = comment.author === currentUser;
      var authorName = comment.author.split('@')[0];
      var initial = authorName.charAt(0).toUpperCase();
      
      // Build replies HTML (using unified reply structure)
      var repliesHtml = '';
      var replies = comment.replies || [];
      if (replies.length > 0) {
        repliesHtml = '<div class="comment-replies">';
        replies.forEach(function(reply, idx) {
          var replyTime = formatTimeAgo(reply.timestamp);
          var replyAuthor = reply.author.split('@')[0];
          var replyInitial = replyAuthor.charAt(0).toUpperCase();
          var isReplyOwner = currentUser === reply.author;
          repliesHtml += '<div class="comment-reply" id="popup-reply-' + idx + '">' +
            '<div class="comment-avatar">' + replyInitial + '</div>' +
            '<div class="comment-reply-content">' +
            '<div class="comment-reply-header">' +
            '<span class="comment-author">' + replyAuthor + '</span>' +
            '<span class="comment-popup-dot">·</span>' +
            '<span class="comment-time">' + replyTime + '</span>' +
            '</div>' +
            '<div class="comment-body" id="popup-reply-text-' + idx + '">' + escapeHtml(reply.text) + '</div>' +
            '</div>' +
            (isReplyOwner ? (function() {
              var replyMenuId = 'popup-reply-' + comment.id + '-' + idx;
              return '<div class="overflow-menu">' +
              '<button class="overflow-trigger" onclick="toggleOverflowMenu(\'' + replyMenuId + '\', event)" title="More actions">' +
              '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg></button>' +
              '<div class="overflow-dropdown" id="overflow-dropdown-' + replyMenuId + '">' +
              '<button onclick="editReplyPopup(\'' + comment.id + '\', ' + idx + ')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>Edit</button>' +
              '<button class="danger" onclick="deleteReplyPopup(\'' + comment.id + '\', ' + idx + ')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>Delete</button>' +
              '</div></div>';
            })() : '') +
          '</div>';
        });
        repliesHtml += '</div>';
      }
      
      // Build overflow menu for main comment - ALL actions in menu (using unified pattern)
      var menuId = 'popup-comment-' + comment.id;
      var overflowMenu = '<div class="overflow-menu">' +
        '<button class="overflow-trigger" onclick="toggleOverflowMenu(\'' + menuId + '\', event)" title="More actions">' +
        '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg></button>' +
        '<div class="overflow-dropdown" id="overflow-dropdown-' + menuId + '">' +
        '<button onclick="showReplyInput(\'' + comment.id + '\')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>Reply</button>' +
        (isOwner ? '<button onclick="editCommentPopup(\'' + comment.id + '\')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>Edit</button>' : '') +
        (comment.resolved 
          ? '<button onclick="unresolveCommentPopup(\'' + comment.id + '\')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>Reopen</button>'
          : '<button onclick="resolveCommentPopup(\'' + comment.id + '\')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>Resolve</button>') +
        (isOwner ? '<button class="danger" onclick="deleteCommentPopup(\'' + comment.id + '\')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>Delete</button>' : '') +
        '</div></div>';
      
      popup.innerHTML = '<div class="comment-popup-inner">' +
        '<div class="comment-avatar" data-resolved="' + comment.resolved + '">' + initial + '</div>' +
        '<div class="comment-popup-content">' +
        '<div class="comment-popup-header">' +
        '<span class="comment-author">' + authorName + '</span>' +
        '<span class="comment-popup-dot">·</span>' +
        '<span class="comment-time">' + timeAgo + '</span>' +
        '</div>' +
        '<p class="comment-body" id="commentTextDisplay">' + escapeHtml(comment.comment) + '</p>' +
        repliesHtml +
        '<div id="replyInputArea"></div>' +
        '</div>' +
        overflowMenu +
        '</div>' +
        '<div id="commentActions"></div>';
      
      pin.parentElement.appendChild(popup);
      activePopup = popup;
    }

    function closePopup() { 
      if (activePopup) {
        activePopup.remove();
        activePopup = null;
      }
      document.querySelectorAll('.comment-popup').forEach(function(p) { p.remove(); }); 
      activeCommentId = null;
    }

    // Popup overflow menu toggles - NOW USING UNIFIED toggleOverflowMenu() FUNCTION
    // (Functions removed - popup now uses toggleOverflowMenu with consistent ID patterns)

    function closePopupMenus() {
      document.querySelectorAll('.comment-popup .overflow-dropdown[data-state="open"]').forEach(function(m) { m.dataset.state = 'closed'; });
    }
    
    // Alias editCommentPopup to editComment for the popup overflow menu
    function editCommentPopup(commentId) {
      closePopupMenus();
      editComment(commentId);
    }
    
    // Alias reply functions for popup
    function editReplyPopup(commentId, replyIdx) {
      closePopupMenus();
      editReply(commentId, replyIdx);
    }
    
    function deleteReplyPopup(commentId, replyIdx) {
      closePopupMenus();
      deleteReply(commentId, replyIdx);
    }
    
    function resolveCommentPopup(commentId) {
      closePopupMenus();
      resolveComment(commentId);
    }
    
    function unresolveCommentPopup(commentId) {
      closePopupMenus();
      unresolveComment(commentId);
    }
    
    function deleteCommentPopup(commentId) {
      closePopupMenus();
      deleteComment(commentId);
    }

    function editComment(commentId) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      
      var textDisplay = document.getElementById('commentTextDisplay');
      var actions = document.getElementById('commentActions');
      if (!textDisplay || !actions) return;
      
      // Replace text with textarea
      textDisplay.outerHTML = '<textarea id="commentEditText" class="comment-edit-textarea">' + comment.comment + '</textarea>';
      
      // Replace actions with hint (Enter to save, Esc to cancel)
      actions.innerHTML = '<span style="font-size: 0.6875rem; color: var(--gray-mid);">Enter to save · Esc to cancel</span>';
      
      // Focus and select
      var textarea = document.getElementById('commentEditText');
      if (textarea) {
        textarea.focus();
        textarea.select();
        // Handle Enter to save, Escape to cancel
        textarea.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            saveCommentEditPopup(commentId);
          }
          if (e.key === 'Escape') {
            e.preventDefault();
            cancelCommentEditPopup(commentId);
          }
        });
      }
    }

    function saveCommentEditPopup(commentId) {
      var textarea = document.getElementById('commentEditText');
      if (!textarea) return;
      
      var newText = textarea.value.trim();
      if (!newText) return;
      
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      
      comment.comment = newText;
      
      if (isLocalMode) {
        saveCommentsLocal();
      } else {
        google.script.run.withSuccessHandler(function(result) {
          if (!result.success) console.error('Failed to update comment');
        }).updateComment(commentId, newText);
      }
      
      // Refresh the popup
      closePopup();
      renderCommentPins();
    }

    function cancelCommentEditPopup(commentId) {
      // Just re-render the popup with original content
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) { closePopup(); return; }
      
      // Find the pin and re-show popup
      var section = document.getElementById(comment.sectionId);
      if (!section) { closePopup(); return; }
      
      var pins = section.querySelectorAll('.comment-pin');
      pins.forEach(function(pin) {
        if (Math.abs(parseFloat(pin.style.left) - comment.x) < 0.1) {
          closePopup();
          showCommentPopup(comment, pin);
        }
      });
    }

    function showReplyInput(commentId) {
      closePopupMenus();
      
      var replyArea = document.getElementById('replyInputArea');
      if (!replyArea) return;
      
      replyArea.innerHTML = '<div class="comment-popup-reply-input">' +
        '<textarea id="replyText" placeholder="Write a reply..." onclick="event.stopPropagation()"></textarea>' +
        '<button class="comment-popup-reply-btn" onclick="event.stopPropagation(); submitReply(\'' + commentId + '\')" title="Send reply">' +
        '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>' +
        '</div>';
      
      var textarea = document.getElementById('replyText');
      if (textarea) {
        textarea.focus();
        textarea.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            submitReply(commentId);
          }
          if (e.key === 'Escape') {
            e.preventDefault();
            hideReplyInput();
          }
        });
      }
    }

    function hideReplyInput() {
      var replyArea = document.getElementById('replyInputArea');
      if (replyArea) replyArea.innerHTML = '';
    }

    function submitReply(commentId) {
      var textarea = document.getElementById('replyText');
      if (!textarea) return;
      
      var text = textarea.value.trim();
      if (!text) return;
      
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) return;
      
      // Initialize replies array if needed
      if (!comment.replies) comment.replies = [];
      
      var reply = {
        id: 'reply_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
        text: text,
        author: currentUser,
        timestamp: new Date().toISOString()
      };
      
      comment.replies.push(reply);
      
      if (isLocalMode) {
        saveCommentsLocal();
      } else {
        google.script.run.withSuccessHandler(function(result) {
          if (!result.success) console.error('Failed to save reply');
        }).addReply(commentId, text);
      }
      
      // Re-render popup to show new reply
      var section = document.getElementById(comment.sectionId);
      if (section) {
        var pins = section.querySelectorAll('.comment-pin');
        pins.forEach(function(pin) {
          if (Math.abs(parseFloat(pin.style.left) - comment.x) < 0.1) {
            closePopup();
            showCommentPopup(comment, pin);
          }
        });
      }
    }

    function editReply(commentId, replyIndex) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment || !comment.replies || !comment.replies[replyIndex]) return;
      
      var reply = comment.replies[replyIndex];
      var textEl = document.getElementById('reply-text-' + replyIndex);
      if (!textEl) return;
      
      textEl.innerHTML = '<textarea class="reply-edit-textarea" id="reply-edit-' + replyIndex + '">' + reply.text + '</textarea><div class="reply-edit-actions"><button class="btn-close-popup" onclick="cancelReplyEditPopup(\'' + commentId + '\')">Cancel</button><button class="btn-resolve" onclick="saveReplyEditPopup(\'' + commentId + '\', ' + replyIndex + ')">Save</button></div>';
      
      var textarea = document.getElementById('reply-edit-' + replyIndex);
      if (textarea) {
        textarea.focus();
        textarea.select();
        textarea.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            saveReplyEditPopup(commentId, replyIndex);
          }
          if (e.key === 'Escape') {
            e.preventDefault();
            cancelReplyEditPopup(commentId);
          }
        });
      }
    }

    function saveReplyEditPopup(commentId, replyIndex) {
      var textarea = document.getElementById('reply-edit-' + replyIndex);
      if (!textarea) return;
      
      var newText = textarea.value.trim();
      if (!newText) return;
      
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment || !comment.replies || !comment.replies[replyIndex]) return;
      
      comment.replies[replyIndex].text = newText;
      
      if (isLocalMode) {
        saveCommentsLocal();
      } else {
        google.script.run.updateReply(commentId, replyIndex, newText);
      }
      
      refreshCommentPopup(commentId);
    }

    function cancelReplyEditPopup(commentId) {
      refreshCommentPopup(commentId);
    }

    function deleteReply(commentId, replyIndex) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment || !comment.replies) return;
      
      comment.replies.splice(replyIndex, 1);
      
      if (isLocalMode) {
        saveCommentsLocal();
      } else {
        google.script.run.deleteReply(commentId, replyIndex);
      }
      
      refreshCommentPopup(commentId);
    }

    function refreshCommentPopup(commentId) {
      var comment = comments.find(function(c) { return c.id === commentId; });
      if (!comment) { closePopup(); return; }
      
      var section = document.getElementById(comment.sectionId);
      if (!section) { closePopup(); return; }
      
      var pins = section.querySelectorAll('.comment-pin');
      pins.forEach(function(pin) {
        if (Math.abs(parseFloat(pin.style.left) - comment.x) < 0.1) {
          closePopup();
          showCommentPopup(comment, pin);
        }
      });
    }

    function resolveComment(commentId) {
      if (isLocalMode) {
        var c = comments.find(function(x) { return x.id === commentId; });
        if (c) { 
          c.resolved = true; 
          c.resolvedBy = currentUser; 
          c.resolvedAt = new Date().toISOString(); 
        }
        saveCommentsLocal();
        updateCommentCount();
        renderCommentPins();
      } else {
        google.script.run.withSuccessHandler(function(result) {
          if (result.success) {
            var c = comments.find(function(x) { return x.id === commentId; });
            if (c) { c.resolved = true; c.resolvedBy = result.resolvedBy; c.resolvedAt = result.resolvedAt; }
            updateCommentCount();
            renderCommentPins();
          }
        }).resolveComment(commentId);
      }
    }

    function unresolveComment(commentId) {
      if (isLocalMode) {
        var c = comments.find(function(x) { return x.id === commentId; });
        if (c) { c.resolved = false; c.resolvedBy = null; c.resolvedAt = null; }
        saveCommentsLocal();
        updateCommentCount();
        renderCommentPins();
      } else {
        google.script.run.withSuccessHandler(function(result) {
          if (result.success) {
            var c = comments.find(function(x) { return x.id === commentId; });
            if (c) { c.resolved = false; c.resolvedBy = null; c.resolvedAt = null; }
            updateCommentCount();
            renderCommentPins();
          }
        }).unresolveComment(commentId);
      }
    }

    function deleteComment(commentId) {
      if (!confirm('Delete this comment?')) return;
      if (isLocalMode) {
        comments = comments.filter(function(c) { return c.id !== commentId; });
        saveCommentsLocal();
        updateCommentCount();
        renderCommentPins();
      } else {
        google.script.run.withSuccessHandler(function(result) {
          if (result.success) {
            comments = comments.filter(function(c) { return c.id !== commentId; });
            updateCommentCount();
            renderCommentPins();
          }
        }).deleteComment(commentId);
      }
    }

    // Theme toggle
    function toggleTheme() {
      var html = document.documentElement;
      var currentTheme = html.getAttribute('data-theme');
      var newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('enrg-theme', newTheme);
      updateThemeLabel(newTheme);
    }
    
    function updateThemeLabel(theme) {
      var label = document.getElementById('navThemeLabel');
      var indicator = document.getElementById('themeIndicator');

      if (label) {
        // Fixed label: "Dark mode"
        label.textContent = 'Dark mode';
      }

      if (indicator) {
        var toggle = indicator.querySelector('div');
        if (theme === 'dark') {
          // ON state: purple background, toggle on right
          indicator.style.background = 'var(--purple-primary)';
          if (toggle) toggle.style.transform = 'translateX(16px)';
        } else {
          // OFF state: gray background, toggle on left
          indicator.style.background = 'var(--gray-light)';
          if (toggle) toggle.style.transform = 'translateX(0)';
        }
      }
    }

    // Initialize theme from localStorage or system preference
    function initTheme() {
      var savedTheme = localStorage.getItem('enrg-theme');
      var theme = 'light';
      if (savedTheme) {
        theme = savedTheme;
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        theme = 'dark';
      }
      document.documentElement.setAttribute('data-theme', theme);
      // Update label after DOM is ready
      setTimeout(function() { updateThemeLabel(theme); }, 0);
    }
    initTheme();

    // View Mode Toggle (Reviewer vs Resource)
    function toggleViewMode() {
      var html = document.documentElement;
      var currentMode = html.getAttribute('data-view-mode');
      var newMode = currentMode === 'resource' ? 'reviewer' : 'resource';
      html.setAttribute('data-view-mode', newMode);
      localStorage.setItem('enrg-view-mode', newMode);
      updateViewModeLabel(newMode);
    }

    function updateViewModeLabel(mode) {
      var label = document.getElementById('navViewModeLabel');
      var indicator = document.getElementById('viewModeIndicator');

      if (label) {
        // Fixed label: "Show review context"
        label.textContent = 'Show review context';
      }

      if (indicator) {
        var toggle = indicator.querySelector('div');
        if (mode === 'reviewer') {
          // ON state: purple background, toggle on right
          indicator.style.background = 'var(--purple-primary)';
          if (toggle) toggle.style.transform = 'translateX(0)';
        } else {
          // OFF state: gray background, toggle on left
          indicator.style.background = 'var(--gray-light)';
          if (toggle) toggle.style.transform = 'translateX(-16px)';
        }
      }
    }

    // Initialize view mode from localStorage (default to reviewer)
    function initViewMode() {
      var savedMode = localStorage.getItem('enrg-view-mode');
      var mode = savedMode || 'reviewer'; // Default to reviewer mode
      document.documentElement.setAttribute('data-view-mode', mode);
      // Update label after DOM is ready
      setTimeout(function() { updateViewModeLabel(mode); }, 0);
    }
    initViewMode();

    // Scroll to section (handles base target="_top" breaking anchor links)
    function scrollToSection(sectionId) {
      var element = document.getElementById(sectionId);
      if (element) {
        // If element is a collapsible section and closed, open it
        if (element.classList.contains('collapsible-section') && !element.classList.contains('open')) {
          element.classList.add('open');
        }
        var headerHeight = 70; // header height + some padding
        var targetPosition = element.getBoundingClientRect().top + window.pageYOffset - headerHeight;
        window.scrollTo({ top: targetPosition, behavior: 'smooth' });
      }
    }

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Toggle collapsible sections
    function toggleSection(sectionElement) {
      if (sectionElement.classList.contains('open')) {
        sectionElement.classList.remove('open');
      } else {
        sectionElement.classList.add('open');
      }
    }

    // Chapter dropdown for sidebar navigation
    function toggleChapterDropdown(event) {
      event.stopPropagation();
      var sidebar = document.getElementById('docSidebar');
      sidebar.classList.toggle('chapter-open');
      
      // Update active chapter indicator
      var currentChapter = document.getElementById('sidebarChapterTitle').textContent.replace(/\s*$/, '').trim();
      var options = document.querySelectorAll('.chapter-option');
      options.forEach(function(opt) {
        opt.dataset.state = 'inactive';
        if (opt.textContent.trim() === currentChapter.replace(/\s*$/, '').split(' ')[0]) {
          opt.dataset.state = 'active';
        }
      });
    }
    
    function selectChapter(chapter, event) {
      event.preventDefault();
      event.stopPropagation();
      
      var sidebar = document.getElementById('docSidebar');
      sidebar.classList.remove('chapter-open');
      
      // Navigate to the first section of the selected chapter
      var target = event.target.getAttribute('href').replace('#', '');
      scrollToSection(target);
    }
    
    // Close chapter dropdown when clicking outside
    document.addEventListener('click', function(e) {
      var sidebar = document.getElementById('docSidebar');
      if (sidebar && !sidebar.contains(e.target)) {
        sidebar.classList.remove('chapter-open');
      }
    });

    // Click-to-comment - uses global document handler
    // Element anchoring: Find the nearest meaningful content element
    function findAnchorElement(clickX, clickY, section) {
      // Priority: images, headings, paragraphs, divs with content
      var anchorSelectors = 'img, h1, h2, h3, h4, h5, h6, p, li, figcaption, blockquote, .card, .platform-card, .color-swatch';
      var candidates = section.querySelectorAll(anchorSelectors);
      var best = null;
      var bestDistance = Infinity;
      
      candidates.forEach(function(el) {
        var rect = el.getBoundingClientRect();
        // Calculate distance from click to element center
        var centerX = rect.left + rect.width / 2;
        var centerY = rect.top + rect.height / 2;
        var distance = Math.sqrt(Math.pow(clickX - centerX, 2) + Math.pow(clickY - centerY, 2));
        
        // Prefer elements the click is actually inside
        if (clickX >= rect.left && clickX <= rect.right && clickY >= rect.top && clickY <= rect.bottom) {
          distance = 0; // Inside the element
        }
        
        if (distance < bestDistance && rect.width > 10 && rect.height > 10) {
          bestDistance = distance;
          best = el;
        }
      });
      
      return best;
    }
    
    // Generate a unique selector for an element
    function generateSelector(element, section) {
      // Try ID first
      if (element.id) {
        return '#' + element.id;
      }
      
      // Build a path from section to element
      var path = [];
      var current = element;
      while (current && current !== section && current !== document.body) {
        var selector = current.tagName.toLowerCase();
        if (current.className && typeof current.className === 'string') {
          var classes = current.className.split(' ').filter(function(c) { 
            return c && !c.startsWith('comment-') && c !== 'reveal' && c !== 'active'; 
          });
          if (classes.length > 0) {
            selector += '.' + classes.slice(0, 2).join('.');
          }
        }
        // Add nth-child for uniqueness
        var parent = current.parentElement;
        if (parent) {
          var siblings = Array.from(parent.children).filter(function(c) { 
            return c.tagName === current.tagName; 
          });
          if (siblings.length > 1) {
            var index = siblings.indexOf(current) + 1;
            selector += ':nth-of-type(' + index + ')';
          }
        }
        path.unshift(selector);
        current = current.parentElement;
      }
      
      return path.join(' > ');
    }
    
    function initClickToComment() {
      document.addEventListener('click', function(e) {
        if (!commentMode) return;
        if (e.target.closest('.comment-pin') || e.target.closest('.comment-popup') || e.target.closest('.comment-input-popover') || e.target.closest('nav') || e.target.closest('.comment-toggle') || e.target.closest('.comment-hint') || e.target.closest('.comments-panel') || e.target.closest('.comments-panel-backdrop')) return;
        
        // Find which section was clicked
        var section = e.target.closest('section[id]');
        if (!section) return;
        
        closeCommentInput();
        closePopup();
        
        var rect = section.getBoundingClientRect();
        var xPercent = ((e.clientX - rect.left) / rect.width) * 100;
        var yPercent = ((e.clientY - rect.top) / rect.height) * 100; // CHANGED: Store Y as percentage for responsive

        // Find anchor element for responsive positioning
        var anchorEl = findAnchorElement(e.clientX, e.clientY, section);
        var anchorInfo = null;

        if (anchorEl) {
          var anchorRect = anchorEl.getBoundingClientRect();
          anchorInfo = {
            selector: generateSelector(anchorEl, section),
            offsetX: (e.clientX - anchorRect.left) / anchorRect.width, // 0-1 percentage
            offsetY: (e.clientY - anchorRect.top) / anchorRect.height   // 0-1 percentage
          };
        }

        pendingClick = {
          x: xPercent,
          y: yPercent, // CHANGED: Now storing percentage instead of pixels
          sectionId: section.id,
          anchor: anchorInfo
        };
        showCommentInput(e.clientX, e.clientY, section);
      });
    }

    // Debounced resize handler to recalculate pin positions
    var resizeTimeout = null;
    function handleResize() {
      if (resizeTimeout) clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(function() {
        renderCommentPins();
      }, 150);
    }
    window.addEventListener('resize', handleResize);

    // Initialize comments - works in both local mode and Apps Script mode
    document.addEventListener('DOMContentLoaded', function() {
      initComments();
      initClickToComment();
      initRoadmapTodos();
      initColorSwatches();
      initScrollReveal();
    });
    // Also init immediately if DOM is already loaded
    if (document.readyState !== 'loading') {
      initComments();
      initClickToComment();
      initRoadmapTodos();
      initColorSwatches();
      initScrollReveal();
    }

    // ============================================
    // SCROLL REVEAL ANIMATIONS
    // ============================================
    function initScrollReveal() {
      // Add reveal class to section headers and key elements
      document.querySelectorAll('.section-header, .philosophy-grid, .voice-grid, .logo-picker, .color-group, .font-strategy, .spacing-grid, .effects-grid, .icon-grid, .platform-grid, .antipattern-list, .roadmap-grid').forEach(function(el) {
        el.classList.add('reveal');
      });

      // Create observer
      var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            entry.target.dataset.state = 'visible';
          }
        });
      }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

      // Observe all reveal elements
      document.querySelectorAll('.reveal').forEach(function(el) {
        observer.observe(el);
      });
    }

    // ============================================
    // COLOR SWATCH CLICK-TO-COPY
    // ============================================
    function initColorSwatches() {
      document.querySelectorAll('.color-swatch').forEach(function(swatch) {
        swatch.addEventListener('click', function() {
          var hexEl = swatch.querySelector('.swatch-hex');
          if (!hexEl) return;
          var hex = hexEl.textContent.trim();
          
          navigator.clipboard.writeText(hex).then(function() {
            swatch.classList.add('copied');
            setTimeout(function() {
              swatch.classList.remove('copied');
            }, 1500);
          }).catch(function(err) {
            console.error('Failed to copy:', err);
          });
        });
      });
    }

    function initRoadmapTodos() {
      // Load current user email
      if (typeof google !== 'undefined' && google.script) {
        google.script.run
          .withSuccessHandler(function(result) {
            if (result.success) {
              currentUserEmail = result.email;
            }
          })
          .getUser();
      }
      
      // Load roadmap todos from backend
      loadRoadmapTodos();
    }

    // ============================================
    // DOCUMENT VIEWER
    // ============================================
    var DOC_CONTENT = {
      'brand-guidelines': {
        title: 'brand-guidelines.md',
        content: '<h1>ENRG.realty Brand Guidelines</h1><p><strong>Version 1.0 | 2026</strong></p><hr><h2>Introduction</h2><p>This document serves as the foundation for successfully implementing and maintaining the ENRG brand identity. A strong, cohesive brand is one of our greatest assets.</p><h2>01 Brandmarks</h2><h3>The Complete Logo System</h3><table><thead><tr><th>Asset</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>ENRG Logo</strong></td><td>Stacked E N R G in square</td><td>Socials, profile pics, primary mark</td></tr><tr><td><strong>ENRG Symbol</strong></td><td>E bars with dot</td><td>Signs, design accents, patterns</td></tr><tr><td><strong>Wordmark (Full)</strong></td><td>ENRG.realty with dot</td><td>Primary text identity</td></tr><tr><td><strong>Wordmark (Short)</strong></td><td>ENRG realty, no dot</td><td>When dot feels cluttered</td></tr><tr><td><strong>Wordmark (Tiny)</strong></td><td>Just ENRG</td><td>Minimal space layouts</td></tr></tbody></table><h3>Logo Color Options</h3><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><strong>Black on White</strong></td><td>Primary color option</td></tr><tr><td><strong>White on Purple</strong></td><td>Purple 500 background</td></tr><tr><td><strong>White on Black</strong></td><td>Bold, high-contrast</td></tr></tbody></table><h2>02 Color</h2><h3>The Two-Purple System</h3><table><thead><tr><th>Purple</th><th>HEX</th><th>Role</th></tr></thead><tbody><tr><td>Purple 500</td><td>#6021E6</td><td>Hero: logos, headlines, marketing</td></tr><tr><td>Purple 800</td><td>#290080</td><td>Depth: backgrounds, UI surfaces</td></tr><tr><td>Orange</td><td>#FF6039</td><td>Signature accent (the dot)</td></tr></tbody></table><h2>03 Typography</h2><p><strong>Plus Jakarta Sans</strong>: Marketing materials</p><p><strong>Inter</strong>: Internal tools and dashboards</p><h2>04 Iconography</h2><p>Brand uses <strong>iMaterial Icons Light</strong> and inline SVG icons. No emoji.</p><hr><p><em>Full document available in docs/brand/brand-guidelines.md</em></p>'
      },
      'design-system': {
        title: 'design-system.md',
        content: '<h1>ENRG Design System</h1><blockquote><strong>Audience:</strong> Designers, developers, and anyone building ENRG brand assets.</blockquote><hr><h2>Design Philosophy</h2><p>The system embodies <strong>expensive simplicity</strong>: a tool that feels premium through restraint, not decoration.</p><h3>Core Principles</h3><ul><li><strong>Neutral-forward design</strong>: 90% white and gray, purple appears sparingly</li><li><strong>White space is a feature</strong>: Generous padding lets elements breathe</li><li><strong>One accent rules</strong>: Purple dominates, orange appears rarely</li><li><strong>Dark mode is first-class</strong>: Both themes are intentional</li></ul><h2>Color Palette</h2><h3>The Two-Purple System</h3><table><thead><tr><th>Purple</th><th>Hex</th><th>Role</th></tr></thead><tbody><tr><td>Purple 500</td><td>#6021E6</td><td>Hero: logos, headlines, marketing CTAs</td></tr><tr><td>Purple 800</td><td>#290080</td><td>Depth: dark backgrounds, UI surfaces</td></tr></tbody></table><p><strong>Orange (#FF6039)</strong> is reserved for the signature dot and rare accents.</p><h2>Typography</h2><ul><li><strong>Plus Jakarta Sans</strong>: Brand materials, marketing</li><li><strong>Inter</strong>: Internal tools, dashboards</li></ul><h2>Spacing</h2><p>Based on 8px grid system. Use consistently for rhythm and alignment.</p><hr><p><em>Full document available in docs/brand/design-system.md</em></p>'
      },
      'tone-and-voice': {
        title: 'tone-and-voice.md',
        content: '<h1>ENRG Tone and Voice</h1><blockquote><strong>Audience:</strong> Writers, marketers, anyone creating ENRG content.</blockquote><hr><h2>Core Voice</h2><p><strong>Empathetic + Direct</strong></p><p>We acknowledge real challenges, then offer concrete solutions with specific numbers. No corporate speak.</p><h2>Specificity Rules</h2><table><thead><tr><th>Do</th><th>Don\'t</th></tr></thead><tbody><tr><td>"$15K cap"</td><td>"Low cap"</td></tr><tr><td>"85/15 split"</td><td>"Competitive split"</td></tr><tr><td>"161% agent growth"</td><td>"Significant growth"</td></tr></tbody></table><h2>Three-Part Rhythm</h2><p>Statements that land in threes: memorable, balanced, complete:</p><ul><li>"Boutique support - Virtual freedom - National power."</li><li>"Earn more, build passive income, gain ownership."</li></ul><h2>Memorable Shorthand</h2><ul><li><strong>"+1 deal"</strong>: MDM data advantage</li><li><strong>"boutique at scale"</strong>: Personalized + national</li><li><strong>"infinite-level"</strong>: No rev share cap</li></ul><h2>Anti-Patterns</h2><ul><li>No emoji: use icons instead</li><li>No "industry leader": empty superlative</li><li>No passive voice</li><li>No hedging words ("potentially", "may")</li></ul><hr><p><em>Full document available in docs/brand/tone-and-voice.md</em></p>'
      },
      'brand-resources': {
        title: 'brand-resources.md',
        content: '<h1>ENRG Brand Resources</h1><blockquote><strong>Audience:</strong> ENRG agents accessing brand assets and marketing tools.</blockquote><hr><h2>Marketing Center</h2><p>Access all resources at <a href="https://enrg.realty/brand/" target="_blank">enrg.realty/brand</a></p><h2>Platform Stack</h2><table><thead><tr><th>Platform</th><th>Purpose</th></tr></thead><tbody><tr><td><strong>MAXA</strong></td><td>Agent templates (listings, flyers, presentations)</td></tr><tr><td><strong>Canva</strong></td><td>Internal content creation, social media</td></tr><tr><td><strong>Figma</strong></td><td>Design source files, component library</td></tr><tr><td><strong>Lowen</strong></td><td>Physical signage (yard signs, riders)</td></tr></tbody></table><h2>MAXA Design Warehouse</h2><p>MAXA is a #1 rated marketing center. Key capabilities:</p><ul><li>Brand-locked templates</li><li>MLS property data integration</li><li>AI-powered content tools</li><li>Video editor with transitions</li><li>Landing page builder</li></ul><h2>Lowen Signage</h2><table><thead><tr><th>Product</th><th>Description</th></tr></thead><tbody><tr><td>Yard Signs</td><td>Standard 18×24 and 24×36</td></tr><tr><td>Directionals</td><td>Arrow signs for open houses</td></tr><tr><td>Riders</td><td>For Sale, Open House, Sold, etc.</td></tr></tbody></table><h2>Music Library</h2><p>Approved copyright-free music: <a href="https://pixabay.com/accounts/playlists/28128192/" target="_blank">Pixabay Playlist</a></p><hr><p><em>Full document available in docs/brand/brand-resources.md</em></p>'
      },
      'critical-analysis': {
        title: 'critical-analysis.md',
        content: '<h1>Brand Decisions & Rationale</h1><p><strong>ENRG Brand System: Resolved Decisions</strong></p><hr><h2>Executive Summary</h2><p>The brand system is <strong>complete and documented</strong>. Key decisions have been resolved and codified.</p><p style="background: #D1FAE5; padding: 1rem; border-left: 4px solid #10B981; border-radius: 0 var(--radius-lg) var(--radius-lg) 0;"><strong>Status:</strong> All major brand decisions are resolved.</p><h2>The Two-Purple System</h2><p>ENRG uses two complementary purples with distinct roles:</p><ul><li><strong>Purple 500 (#6021E6)</strong>: Hero purple for logos, headlines, marketing CTAs</li><li><strong>Purple 800 (#290080)</strong>: Depth purple for dark backgrounds, UI surfaces</li></ul><h2>Resolved Decisions</h2><ol><li><strong>Two-purple system adopted</strong>: 500 for hero, 800 for depth</li><li><strong>CTAs use purple</strong>: Orange reserved for signature dot</li><li><strong>Inter approved</strong>: Plus Jakarta Sans for marketing, Inter for tools</li><li><strong>Logo purple is Purple 500</strong>: #6021E6 for backgrounds</li></ol><h2>Critical Gaps (In Progress)</h2><ul><li><strong>Sub-brand Identities</strong>: Boost, SHINE, Connect & Thrive visuals</li><li><strong>Headshot Standards</strong>: In development</li><li><strong>Figma Library</strong>: Design tokens in progress</li></ul><h2>What\'s Working Well</h2><ul><li>Documentation structure: Five docs serving different audiences</li><li>Tone and Voice: Specific, actionable, real examples</li><li>Platform Stack: MAXA/Canva/Figma/Lowen clearly separated</li></ul><hr><p><em>Full document available in docs/brand/critical-analysis.md</em></p>'
      },
      'philosophy': {
        title: '01-philosophy.md',
        content: '<h1>ENRG Brand Philosophy</h1><blockquote><strong>Audience:</strong> Anyone needing to understand ENRG\'s core beliefs and brand positioning.</blockquote><hr><h2>Core Positioning</h2><p><strong>Premium without pretension. Confidence without arrogance.</strong></p><p><em>"The both/and brokerage. Where you don\'t sacrifice one thing to get another."</em></p><p><strong>Boutique support - Virtual freedom - National power.</strong></p><h2>The "Both/And" Philosophy</h2><p>ENRG rejects false choices that traditional brokerages force on agents:</p><ul><li>Boutique OR Virtual → <strong>Boutique virtual brokerage</strong></li><li>High splits OR Strong support → <strong>Both</strong></li><li>Revenue share OR Not recruiting → <strong>Connect & Thrive™</strong></li><li>Systems OR Soul → <strong>Systems with soul</strong></li></ul><h2>Design Principles</h2><p><strong>Expensive simplicity</strong>: premium through restraint, not decoration. Neutral-forward design (90% white/gray), white space as feature, one accent rules, obvious over clever.</p><hr><p><em>Full document available in docs/brand/01-philosophy.md</em></p>'
      },
      'logo': {
        title: '03-logo.md',
        content: '<h1>ENRG Logo System</h1><blockquote><strong>Audience:</strong> Designers, marketers, and anyone using ENRG brand marks.</blockquote><hr><h2>The Complete Logo System</h2><table><thead><tr><th>Asset</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>ENRG Logo</strong></td><td>Stacked E N R G in square</td><td>Socials, profile pics, primary mark</td></tr><tr><td><strong>ENRG Symbol</strong></td><td>E bars with dot</td><td>Signs, design accents</td></tr><tr><td><strong>Wordmark (Full)</strong></td><td>ENRG.realty with dot</td><td>Primary text identity</td></tr><tr><td><strong>Wordmark (Short)</strong></td><td>ENRG realty, no dot</td><td>When dot feels cluttered</td></tr><tr><td><strong>Wordmark (Tiny)</strong></td><td>Just ENRG</td><td>Minimal space</td></tr></tbody></table><h2>Color Options</h2><ul><li>Black on White (primary)</li><li>White on Purple (Purple 500)</li><li>White on Black (high contrast)</li></ul><hr><p><em>Full document available in docs/brand/03-logo.md</em></p>'
      },
      'colors': {
        title: '04-colors.md',
        content: '<h1>ENRG Color Palette</h1><blockquote><strong>Audience:</strong> Designers, developers, and anyone using ENRG brand colors.</blockquote><hr><h2>The Two-Purple System</h2><table><thead><tr><th>Purple</th><th>Hex</th><th>Role</th></tr></thead><tbody><tr><td><strong>Purple 500</strong></td><td>#6021E6</td><td>Hero purple: logos, headlines, marketing CTAs</td></tr><tr><td><strong>Purple 800</strong></td><td>#290080</td><td>Depth purple: dark backgrounds, UI surfaces</td></tr></tbody></table><h2>Color Philosophy</h2><p>Neutral-heavy palette where whites and grays dominate (90%), purple appears sparingly (10%), making it pop when it does. Orange (#FF6039) reserved for signature dot and rare accents.</p><h2>Usage Ratios</h2><p>Approximately 90% neutral (whites, grays), 10% accent (purple/orange).</p><hr><p><em>Full document available in docs/brand/04-colors.md</em></p>'
      },
      'typography': {
        title: '05-typography.md',
        content: '<h1>ENRG Typography</h1><blockquote><strong>Audience:</strong> Designers, developers, and anyone creating ENRG content.</blockquote><hr><h2>Two Typefaces</h2><table><thead><tr><th>Typeface</th><th>Context</th></tr></thead><tbody><tr><td><strong>Plus Jakarta Sans</strong></td><td>Brand materials, marketing, website</td></tr><tr><td><strong>Inter</strong></td><td>Internal tools, dashboards, documentation</td></tr></tbody></table><h2>Plus Jakarta Sans (Brand)</h2><p>Primary typeface for all external-facing materials. Simple, clean, legible. Bold and modern, classic and friendly.</p><h3>Weights:</h3><ul><li>Light (300): Body text, captions</li><li>Regular (400): Body text</li><li>Medium (500): Labels, subtle emphasis</li><li>SemiBold (600): Headings, titles, buttons</li><li>Bold (700): Key statements, strong emphasis</li></ul><hr><p><em>Full document available in docs/brand/05-typography.md</em></p>'
      },
      'sub-brands': {
        title: '11-sub-brands.md',
        content: '<h1>Sub-brand Styling</h1><blockquote><strong>Audience:</strong> Marketing team, program managers, and anyone creating materials for ENRG\'s branded programs.</blockquote><hr><h2>Three Signature Programs</h2><table><thead><tr><th>Sub-brand</th><th>Tagline</th><th>Visual Metaphor</th></tr></thead><tbody><tr><td><strong>ENRG Boost™</strong></td><td>Infinite Levels of Agent Support</td><td>Ascending bars, level progression</td></tr><tr><td><strong>ENRG SHINE™</strong></td><td>Equity Ownership Tiers</td><td>Faceted gems, 5-tier system</td></tr><tr><td><strong>Connect & Thrive™</strong></td><td>Recruitment & Community Program</td><td>Connected nodes, network growth</td></tr></tbody></table><h2>Design Approach</h2><p>Unified through purple, differentiated through metaphor. All sub-brands feel like part of the ENRG family while expressing unique personality through visual elements.</p><hr><p><em>Full document available in docs/brand/11-sub-brands.md</em></p>'
      },
      'co-branding': {
        title: '06-co-branding.md',
        content: '<h1>ENRG Co-Branding</h1><blockquote><strong>Audience:</strong> Indie brands, white-label partners, and anyone co-branding with ENRG.</blockquote><hr><h2>Indie Brand Program</h2><p>Independent brokerages that affiliate with ENRG while preserving their distinct brand identity.</p><h3>What Indie Brands Keep:</h3><ul><li>Their own brand name and logo</li><li>Their established market presence</li><li>Their unique visual identity</li><li>Their client relationships</li></ul><h3>What ENRG Provides:</h3><ul><li>Brokerage infrastructure and compliance</li><li>Technology platform access</li><li>Revenue share participation</li><li>National expansion capability</li></ul><h2>"Powered by ENRG" Lockup</h2><p>For situations requiring ENRG association on marketing materials and signage.</p><hr><p><em>Full document available in docs/brand/06-co-branding.md</em></p>'
      },
      'motion-animation': {
        title: '07a-motion-animation.md',
        content: '<h1>Motion & Animation</h1><blockquote><strong>Audience:</strong> Designers and developers implementing ENRG brand interfaces.</blockquote><hr><h2>Core Principle</h2><p><strong>Transitions communicate, they don\'t decorate.</strong></p><p>Motion serves a functional purpose: providing feedback, guiding attention, and clarifying relationships. Never purely decorative.</p><h2>Duration Guidelines</h2><table><thead><tr><th>Duration</th><th>Use Case</th></tr></thead><tbody><tr><td>0.15s</td><td>Fast feedback (hover states, color changes)</td></tr><tr><td>0.2s</td><td>Standard transitions (card lifts, shadows)</td></tr><tr><td>0.3s</td><td>Larger movements (panel slides, modal entry)</td></tr></tbody></table><p><strong>Rule:</strong> Never exceed 0.3s. Longer durations feel sluggish.</p><hr><p><em>Full document available in docs/brand/07a-motion-animation.md</em></p>'
      },
      'accessibility': {
        title: '07b-accessibility.md',
        content: '<h1>Accessibility Standards</h1><blockquote><strong>Audience:</strong> Designers and developers implementing ENRG brand interfaces.</blockquote><hr><h2>WCAG Compliance</h2><p>ENRG brand aims for <strong>WCAG 2.1 Level AA</strong> compliance minimum, AAA where possible.</p><h3>Key Standards:</h3><ul><li>Color contrast ratios meet or exceed AA requirements</li><li>All interactive elements are keyboard accessible</li><li>Focus states are clearly visible</li><li>Touch targets meet platform minimums</li><li>Content is screen reader friendly</li></ul><h2>Tested Color Combinations</h2><table><thead><tr><th>Combination</th><th>Contrast</th><th>Level</th></tr></thead><tbody><tr><td>Purple 500 on White</td><td>6.2:1</td><td>✅ AAA</td></tr><tr><td>Purple 800 on White</td><td>8.9:1</td><td>✅ AAA</td></tr><tr><td>Gray 700 on White</td><td>7.8:1</td><td>✅ AAA</td></tr></tbody></table><hr><p><em>Full document available in docs/brand/07b-accessibility.md</em></p>'
      },
      'applications': {
        title: '08-applications.md',
        content: '<h1>ENRG Applications</h1><blockquote><strong>Audience:</strong> Designers, developers, and anyone implementing ENRG brand across platforms.</blockquote><hr><h2>Platform Guidelines</h2><h3>iOS Applications:</h3><p>Follow Apple Human Interface Guidelines while maintaining brand identity. Use SF Symbols and system materials, 44×44pt touch targets.</p><h3>Android Applications:</h3><p>Follow Material Design while maintaining brand identity. Support dynamic color where appropriate, 48×48dp touch targets.</p><h2>Print Production</h2><h3>Minimum Sizes:</h3><ul><li>ENRG Logo: 30mm height</li><li>ENRG Symbol: 8mm height</li><li>Wordmark (Full/Short): 15mm height</li><li>Wordmark (Tiny): 10mm height</li></ul><hr><p><em>Full document available in docs/brand/08-applications.md</em></p>'
      },
      'headshot-standards': {
        title: '09-headshot-standards.md',
        content: '<h1>Headshot Standards</h1><blockquote><strong>Audience:</strong> Agents, staff, and anyone providing professional headshots for ENRG materials.</blockquote><hr><h2>AI Background Options</h2><table><thead><tr><th>Background</th><th>Description</th><th>Primary Use</th></tr></thead><tbody><tr><td>Midnight Violet</td><td>Deep purple gradient</td><td>Leadership, premium listings</td></tr><tr><td>Soft Lavender</td><td>Light purple wash</td><td>Standard agent profiles</td></tr><tr><td>Gradient Depth</td><td>Diagonal gradient</td><td>Marketing materials</td></tr><tr><td>Neutral Professional</td><td>Warm gray with purple tint</td><td>Print materials</td></tr><tr><td>Studio Blur</td><td>Simulated studio background</td><td>High-end brochures</td></tr></tbody></table><h2>Professional Attire</h2><p>Business or business casual attire. Solid colors or subtle patterns preferred. Avoid logos, graphics, or busy patterns.</p><hr><p><em>Full document available in docs/brand/09-headshot-standards.md</em></p>'
      },
      'email-signatures': {
        title: '10-email-signatures.md',
        content: '<h1>Email Signatures</h1><blockquote><strong>Audience:</strong> All ENRG agents and staff.</blockquote><hr><h2>Six HTML Templates</h2><table><thead><tr><th>Template</th><th>Description</th></tr></thead><tbody><tr><td>A: Minimal</td><td>Name, role, contact (lightest)</td></tr><tr><td>B: Standard Agent</td><td>+ NMLS, state licenses</td></tr><tr><td>C: Standard Staff</td><td>+ Pronouns, department</td></tr><tr><td>D: Managing Broker</td><td>+ Credentials, leadership title</td></tr><tr><td>E: Team Lead</td><td>+ Team name, specialty</td></tr><tr><td>F: Executive</td><td>+ Executive title, social links</td></tr></tbody></table><h2>Installation Guides</h2><p>Step-by-step instructions for Gmail, Outlook (Desktop/Web/Mobile), Apple Mail, Thunderbird, and Yahoo Mail.</p><hr><p><em>Full document available in docs/brand/10-email-signatures.md</em></p>'
      },
      'photography-stock': {
        title: '12-photography-stock.md',
        content: '<h1>Photography & Stock Imagery</h1><blockquote><strong>Audience:</strong> Marketing team, content creators, and agents selecting imagery for ENRG materials.</blockquote><hr><h2>Photography Style</h2><p>ENRG photography is <strong>modern, warm, and aspirational</strong>, reflecting energy and professionalism.</p><h3>Visual Character:</h3><ul><li><strong>Modern</strong>: Clean lines, contemporary architecture</li><li><strong>Warm</strong>: Natural light, golden hour tones</li><li><strong>Aspirational</strong>: Desirable but attainable</li><li><strong>Human</strong>: People in natural moments</li></ul><h2>Real Estate Standards</h2><p>Shoot during golden hour when possible. Use HDR for balanced exposure. Wide-angle lens (16-24mm) but avoid excessive distortion.</p><hr><p><em>Full document available in docs/brand/12-photography-stock.md</em></p>'
      },
      'data-visualization': {
        title: '13-data-visualization.md',
        content: '<h1>Data Visualization</h1><blockquote><strong>Audience:</strong> Marketing team, analysts, and anyone creating charts, graphs, dashboards, or data-driven presentations.</blockquote><hr><h2>Chart Color Palette</h2><h3>Sequential Scale:</h3><p>Purple Pale (#F3F0FF) → Purple 900 (#4C1D95) for heatmaps and single-variable data.</p><h3>Categorical Scale:</h3><table><thead><tr><th>Color</th><th>Hex</th><th>Usage</th></tr></thead><tbody><tr><td>Purple Primary</td><td>#6021E6</td><td>Primary category/ENRG data</td></tr><tr><td>Blue</td><td>#3B82F6</td><td>Secondary category</td></tr><tr><td>Green</td><td>#10B981</td><td>Positive/growth</td></tr><tr><td>Orange</td><td>#FF6039</td><td>Accent/highlight</td></tr><tr><td>Gray</td><td>#6B7280</td><td>Neutral/comparison</td></tr></tbody></table><h2>Typography</h2><p>Plus Jakarta Sans for all chart text. Chart titles: 18px SemiBold. Data labels: 13px Medium.</p><hr><p><em>Full document available in docs/brand/13-data-visualization.md</em></p>'
      },
      'brand-decisions': {
        title: '10-brand-decisions.md',
        content: '<h1>Brand Evolution</h1><blockquote><strong>ENRG Brand System: Decisions & Rationale</strong></blockquote><hr><h2>What This Document Is</h2><p>Records the evolution of the ENRG brand from the original v1.0 PDF guidelines to the current implementation. Explains what changed, why, and provides historical context.</p><h2>The Two-Purple System</h2><table><thead><tr><th>Purple</th><th>Hex</th><th>Role</th></tr></thead><tbody><tr><td>Purple 500</td><td>#6021E6</td><td>Hero purple (original PDF brand purple)</td></tr><tr><td>Purple 800</td><td>#290080</td><td>Depth purple (extension for dark UI)</td></tr></tbody></table><h2>Orange: The Signature Dot</h2><p>Orange (#FF6039) is used for high-emphasis CTAs, special badges, and decorative accents. Not used for standard navigation or body text links.</p><hr><p><em>Full document available in docs/brand/10-brand-decisions.md</em></p>'
      },
      'positioning': {
        title: 'positioning.md',
        content: '<h1>ENRG.realty</h1><blockquote><strong>Audience:</strong> Leadership, investors, and anyone needing the full ENRG company overview and value proposition.</blockquote><hr><h2>ENRG realty at a Glance</h2><p><strong>Mission:</strong> Evolve real estate brokerage by delivering boutique-level service at a virtual scale.</p><p><em>"It\'s a Challenging Market. We\'re Here to Help."</em></p><p><strong>Boutique support - Virtual freedom - National power.</strong></p><h2>What We Do</h2><ul><li>Connect & Thrive™: Recruiting-as-a-Service (RaaS)</li><li>ENRG Boost™: Infinite-level revenue-share</li><li>Agent data ownership through MDM infrastructure</li><li>Integrated tools for productivity</li></ul><h2>Market Focus</h2><p>550,000+ high-producing agents ($3M+ in sales), boutique brokerages, and multi-state teams. Licensed and growing across 14 states.</p><hr><p><em>Full document available in docs/brand/positioning.md</em></p>'
      },
      'readme': {
        title: 'README.md',
        content: '<h1>ENRG Brand Documentation</h1><blockquote>Comprehensive brand guidelines for ENRG.realty, covering identity, system standards, applications, and implementation resources.</blockquote><hr><h2>Overview</h2><p>This directory contains the complete ENRG brand documentation system, providing guidelines for consistent visual identity, design system implementation, and application across all touchpoints.</p><h3>Purpose:</h3><p>Ensure every ENRG agent, partner, vendor, and staff member can create on-brand materials with confidence.</p><h2>Document Index</h2><ul><li><strong>Core Identity:</strong> Philosophy, Logos, Colors, Typography</li><li><strong>Design System:</strong> Composition, CSS Variables, Motion, Accessibility</li><li><strong>Applications:</strong> Headshots, Email Signatures, Sub-brands, Photography, Data Visualization</li></ul><hr><p><em>Full document available in docs/brand/README.md</em></p>'
      }
    };

    function openDocViewer(docId) {
      var doc = DOC_CONTENT[docId];
      if (!doc) return;
      
      document.getElementById('docViewerTitle').textContent = doc.title;
      document.getElementById('docViewerContent').innerHTML = doc.content;
      document.getElementById('docViewerOverlay').dataset.state = 'open';
      document.body.style.overflow = 'hidden';
    }

    function closeDocViewer() {
      document.getElementById('docViewerOverlay').dataset.state = 'closed';
      document.body.style.overflow = '';
    }

    // Close doc viewer on Escape key (only if it's open)
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        var overlay = document.getElementById('docViewerOverlay');
        if (overlay && overlay.dataset.state === 'open') {
          e.preventDefault();
          e.stopPropagation();
          closeDocViewer();
        }
      }
    });

    // ============================================
    // LEFT SIDEBAR NAVIGATION (Intersection Observer)
    // ============================================
    (function() {
      // Chapter/section data structure - matches header navigation
      var CHAPTERS = [
        { id: 'foundation', label: 'Chapter 1', title: 'Foundation', sections: [
          { id: 'philosophy', title: 'Philosophy' },
          { id: 'voice', title: 'Tone & Voice' }
        ]},
        { id: 'brand-essentials', label: 'Chapter 2', title: 'Brand Essentials', sections: [
          { id: 'logo', title: 'Logo' },
          { id: 'colors', title: 'Colors' },
          { id: 'typography', title: 'Typography' },
          { id: 'sub-brands', title: 'Sub-brands' },
          { id: 'cobranding', title: 'Co-branding' }
        ]},
        { id: 'design-system', label: 'Chapter 3', title: 'Design System', sections: [
          { id: 'spacing', title: 'Spacing & Grid' },
          { id: 'effects', title: 'Effects & Radii' },
          { id: 'dark-mode', title: 'Dark Mode' }
        ]},
        { id: 'more', label: 'Chapter 4', title: 'More', sections: [
          { id: 'headshot-standards', title: 'Headshot Standards' },
          { id: 'email-signatures', title: 'Email Signatures' },
          { id: 'photography-stock', title: 'Photography & Stock' },
          { id: 'data-visualization', title: 'Data Visualization' },
          { id: 'iconography', title: 'Iconography' },
          { id: 'motion', title: 'Motion & Animation' },
          { id: 'accessibility', title: 'Accessibility' },
          { id: 'mobile', title: 'Mobile Guidelines' },
          { id: 'antipatterns', title: 'Anti-patterns' },
          { id: 'print', title: 'Print Production' }
        ]},
        { id: 'resources', label: 'Chapter 5', title: 'Resources', sections: [
          { id: 'roadmap', title: 'Roadmap' },
          { id: 'analysis', title: 'Critical Analysis' },
          { id: 'treatments', title: 'Treatments' }
        ]}
      ];
      
      var sidebar = document.getElementById('docSidebar');
      var chapterLabel = document.getElementById('sidebarChapterLabel');
      var chapterTitle = document.getElementById('sidebarChapterTitle');
      var sectionsNav = document.getElementById('sidebarSections');
      var sections = document.querySelectorAll('section[data-category]');
      var currentChapterId = '';
      var currentSectionId = '';
      
      if (!sidebar || !chapterLabel || !chapterTitle || !sectionsNav) return;
      
      // Find chapter by category name
      function findChapterByCategory(category) {
        // Handle "For Agents", "For Designers", "For Developers" - all map to "More"
        if (category && (category.startsWith('For ') || category === 'More')) {
          return CHAPTERS.find(function(ch) { return ch.id === 'more'; });
        }
        return CHAPTERS.find(function(ch) {
          return ch.title.toLowerCase() === category.toLowerCase();
        });
      }
      
      // Update sidebar with new chapter
      function updateChapter(chapter) {
        if (!chapter || chapter.id === currentChapterId) return;
        currentChapterId = chapter.id;
        chapterLabel.textContent = chapter.label;
        chapterTitle.textContent = chapter.title;
        
        // Rebuild section links
        sectionsNav.innerHTML = chapter.sections.map(function(sec) {
          var isActive = sec.id === currentSectionId ? ' active' : '';
          return '<a href="#' + sec.id + '" class="sidebar-section' + isActive + '" data-section="' + sec.id + '">' + sec.title + '</a>';
        }).join('');
        
        // Add click handlers for smooth scroll (with header offset)
        sectionsNav.querySelectorAll('.sidebar-section').forEach(function(link) {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            var targetId = this.getAttribute('data-section');
            var target = document.getElementById(targetId);
            if (target) {
              var headerHeight = 70; // header height + some padding
              var targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;
              window.scrollTo({ top: targetPosition, behavior: 'smooth' });
            }
          });
        });
      }
      
      // Update active section highlight
      function updateActiveSection(sectionId) {
        if (sectionId === currentSectionId) return;
        currentSectionId = sectionId;
        sectionsNav.querySelectorAll('.sidebar-section').forEach(function(link) {
          if (link.getAttribute('data-section') === sectionId) {
            link.dataset.state = 'active';
          } else {
            link.dataset.state = 'inactive';
          }
        });
      }
      
      // Observer for sections
      var sectionObserver = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            var sectionId = entry.target.id;
            var category = entry.target.getAttribute('data-category');
            var chapter = findChapterByCategory(category);
            
            if (chapter) {
              updateChapter(chapter);
              updateActiveSection(sectionId);
            }
          }
        });
      }, { rootMargin: '-60px 0px -50% 0px', threshold: 0 });
      
      // Observe all sections
      sections.forEach(function(section) { sectionObserver.observe(section); });
      
      // Show/hide floating nav based on scroll position
      var heroSection = document.getElementById('hero');
      if (heroSection) {
        var showObserver = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              sidebar.dataset.state = 'hidden';
            } else {
              sidebar.dataset.state = 'visible';
            }
          });
        }, { threshold: 0.1 });
        showObserver.observe(heroSection);
      }
      
      // Initialize with first chapter
      updateChapter(CHAPTERS[0]);
    })();

    // === BRAND GUIDE SEARCH ===
    function searchBrandGuide(query) {
      var lowerQuery = query.toLowerCase().trim();
      var sections = document.querySelectorAll('section[data-category]');
      var hasResults = false;
      var resultCount = 0;
      var searchInput = document.getElementById('brandGuideSearch');

      if (!lowerQuery) {
        // Reset: show all sections, restore placeholder
        sections.forEach(function(section) {
          section.style.display = 'block';
        });
        if (searchInput) searchInput.placeholder = 'Search...';
        if (document.getElementById('search-no-results')) {
          document.getElementById('search-no-results').remove();
        }
        return;
      }

      sections.forEach(function(section) {
        // Check if title/heading matches (higher priority)
        var titleElement = section.querySelector('.section-title');
        var titleText = titleElement ? titleElement.textContent.toLowerCase() : '';
        var titleMatches = titleText.includes(lowerQuery);

        // Check if section content matches
        var sectionText = section.textContent.toLowerCase();
        var contentMatches = sectionText.includes(lowerQuery);

        var matches = titleMatches || contentMatches;

        if (matches) {
          section.style.display = 'block';
          resultCount++;
          hasResults = true;

          // If section is collapsible and closed, open it
          if (section.classList.contains('collapsible-section') && !section.classList.contains('open')) {
            section.classList.add('open');
          }
        } else {
          section.style.display = 'none';
        }
      });

      // Update placeholder with result count
      if (searchInput) {
        searchInput.placeholder = resultCount + ' result' + (resultCount !== 1 ? 's' : '');
      }

      // Show "no results" message if needed
      if (!hasResults && !document.getElementById('search-no-results')) {
        var noResults = document.createElement('div');
        noResults.id = 'search-no-results';
        noResults.style.cssText = 'padding: 4rem 0; text-align: center; color: var(--gray-mid);';
        noResults.innerHTML = '<p style="font-size: 1.125rem; margin-bottom: 0.5rem;">No results for "' + query + '"</p><p style="font-size: 0.875rem;">Try different keywords or browse sections above.</p>';
        document.querySelector('.main-content-wrapper').appendChild(noResults);
      } else if (hasResults && document.getElementById('search-no-results')) {
        document.getElementById('search-no-results').remove();
      }
    }

    // === KEYBOARD SHORTCUTS FOR SEARCH ===
    document.addEventListener('keydown', function(e) {
      var searchInput = document.getElementById('brandGuideSearch');
      if (!searchInput) return;

      // Cmd/Ctrl+K or "/" key to focus search (unless already typing in an input)
      var isModifierK = (e.metaKey || e.ctrlKey) && e.key === 'k';
      var isSlash = e.key === '/';
      var isTypingInInput = e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA';

      if ((isModifierK || (isSlash && !isTypingInInput)) && !searchInput.contains(e.target)) {
        e.preventDefault();
        searchInput.focus();
        searchInput.select();
      }

      // Escape key to clear search and blur
      if (e.key === 'Escape' && searchInput === document.activeElement) {
        searchInput.value = '';
        searchBrandGuide('');
        searchInput.blur();
      }
    });

    // === COPY CONFIRMATION TOAST ===
    function showCopyToast(text) {
      var toast = document.createElement('div');
      toast.className = 'copy-toast';
      toast.textContent = 'Copied ' + text + ' ✓';
      toast.style.cssText = 'position: fixed; bottom: 2rem; right: 2rem; background: var(--purple-primary); color: white; padding: 0.75rem 1.25rem; border-radius: var(--radius-lg); font-size: 0.875rem; font-weight: 500; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 9999; animation: slideInUp 0.3s ease-out;';
      document.body.appendChild(toast);

      setTimeout(function() {
        toast.style.animation = 'fadeOut 0.3s ease-out';
        setTimeout(function() { toast.remove(); }, 300);
      }, 1500);
    }

    // Add CSS animations for toast
    var toastStyles = document.createElement('style');
    toastStyles.textContent = '@keyframes slideInUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } } @keyframes fadeOut { to { opacity: 0; transform: translateY(20px); } }';
    document.head.appendChild(toastStyles);

    // === ROADMAP PROGRESS CALCULATOR ===
    function updateRoadmapProgress() {
      var allCheckboxes = document.querySelectorAll('[data-task]');
      var doneCheckboxes = document.querySelectorAll('[data-task].checked');
      var total = allCheckboxes.length;
      var done = 0;

      // Count checked items (look for 'checked' class or checked state)
      allCheckboxes.forEach(function(checkbox) {
        if (checkbox.classList.contains('checked') || checkbox.querySelector('svg').style.display !== 'none') {
          done++;
        }
      });

      var percentage = total > 0 ? Math.round((done / total) * 100) : 0;

      // Update progress ring if it exists
      var progressRing = document.getElementById('roadmap-progress-ring');
      if (progressRing) {
        var circumference = 2 * Math.PI * 54; // radius = 54
        var offset = circumference - (percentage / 100) * circumference;
        progressRing.style.strokeDashoffset = offset;

        document.getElementById('roadmap-progress-text').textContent = done + '/' + total + ' complete';
        document.getElementById('roadmap-progress-percent').textContent = percentage + '%';
      }
    }

    // Call on page load and after todo toggles
    var originalToggleTodo = window.toggleTodo;
    window.toggleTodo = function(element) {
      if (originalToggleTodo) originalToggleTodo(element);
      setTimeout(updateRoadmapProgress, 100);
    };

    // === ENHANCED COLOR SWATCH COPY ===
    // Override existing color swatch click handlers to add toast
    document.querySelectorAll('.color-swatch').forEach(function(swatch) {
      var originalOnclick = swatch.onclick;
      swatch.onclick = function(e) {
        if (originalOnclick) originalOnclick.call(this, e);
        var colorCode = this.getAttribute('data-color') || this.textContent;
        showCopyToast(colorCode);
      };
    });

    // Initialize progress on load
    setTimeout(updateRoadmapProgress, 500);
  </script>
  
</body>

